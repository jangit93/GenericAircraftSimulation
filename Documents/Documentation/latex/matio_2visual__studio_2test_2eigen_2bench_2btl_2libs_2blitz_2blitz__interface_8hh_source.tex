\hypertarget{matio_2visual__studio_2test_2eigen_2bench_2btl_2libs_2blitz_2blitz__interface_8hh_source}{}\section{matio/visual\+\_\+studio/test/eigen/bench/btl/libs/blitz/blitz\+\_\+interface.hh}
\label{matio_2visual__studio_2test_2eigen_2bench_2btl_2libs_2blitz_2blitz__interface_8hh_source}\index{blitz\+\_\+interface.\+hh@{blitz\+\_\+interface.\+hh}}

\begin{DoxyCode}
00001 \textcolor{comment}{//=====================================================}
00002 \textcolor{comment}{// File   :  blitz\_interface.hh}
00003 \textcolor{comment}{// Author :  L. Plagne <laurent.plagne@edf.fr)>}
00004 \textcolor{comment}{// Copyright (C) EDF R&D,  lun sep 30 14:23:30 CEST 2002}
00005 \textcolor{comment}{// Copyright (C) 2008 Gael Guennebaud <gael.guennebaud@inria.fr>}
00006 \textcolor{comment}{//=====================================================}
00007 \textcolor{comment}{//}
00008 \textcolor{comment}{// This program is free software; you can redistribute it and/or}
00009 \textcolor{comment}{// modify it under the terms of the GNU General Public License}
00010 \textcolor{comment}{// as published by the Free Software Foundation; either version 2}
00011 \textcolor{comment}{// of the License, or (at your option) any later version.}
00012 \textcolor{comment}{//}
00013 \textcolor{comment}{// This program is distributed in the hope that it will be useful,}
00014 \textcolor{comment}{// but WITHOUT ANY WARRANTY; without even the implied warranty of}
00015 \textcolor{comment}{// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the}
00016 \textcolor{comment}{// GNU General Public License for more details.}
00017 \textcolor{comment}{// You should have received a copy of the GNU General Public License}
00018 \textcolor{comment}{// along with this program; if not, write to the Free Software}
00019 \textcolor{comment}{// Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.}
00020 \textcolor{comment}{//}
00021 \textcolor{preprocessor}{#ifndef BLITZ\_INTERFACE\_HH}
00022 \textcolor{preprocessor}{#define BLITZ\_INTERFACE\_HH}
00023 
00024 \textcolor{preprocessor}{#include <blitz/blitz.h>}
00025 \textcolor{preprocessor}{#include <blitz/array.h>}
00026 \textcolor{preprocessor}{#include <blitz/vector-et.h>}
00027 \textcolor{preprocessor}{#include <blitz/vecwhere.h>}
00028 \textcolor{preprocessor}{#include <blitz/matrix.h>}
00029 \textcolor{preprocessor}{#include <vector>}
00030 
00031 BZ\_USING\_NAMESPACE(blitz)
00032 
00033 \textcolor{keyword}{template}<\textcolor{keyword}{class} real>
00034 \textcolor{keyword}{class }\hyperlink{classblitz__interface}{blitz\_interface}\{
00035 
00036 public :
00037 
00038   \textcolor{keyword}{typedef} real real\_type ;
00039 
00040   \textcolor{keyword}{typedef} std::vector<real>  stl\_vector;
00041   \textcolor{keyword}{typedef} std::vector<stl\_vector > stl\_matrix;
00042 
00043   \textcolor{keyword}{typedef} blitz::Array<real, 2>  gene\_matrix;
00044   \textcolor{keyword}{typedef} blitz::Array<real, 1>  gene\_vector;
00045 \textcolor{comment}{//   typedef blitz::Matrix<real, blitz::ColumnMajor>  gene\_matrix;}
00046 \textcolor{comment}{//   typedef blitz::Vector<real> gene\_vector;}
00047 
00048   \textcolor{keyword}{static} \textcolor{keyword}{inline} std::string name() \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"blitz"}; \}
00049 
00050   \textcolor{keyword}{static} \textcolor{keywordtype}{void} free\_matrix(gene\_matrix & A, \textcolor{keywordtype}{int} N)\{\}
00051 
00052   \textcolor{keyword}{static} \textcolor{keywordtype}{void} free\_vector(gene\_vector & B)\{\}
00053 
00054   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_from\_stl(gene\_matrix & A, stl\_matrix & A\_stl)\{
00055     A.resize(A\_stl[0].size(),A\_stl.size());
00056     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0; j<A\_stl.size() ; j++)\{
00057       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<A\_stl[j].size() ; i++)\{
00058         A(i,j)=A\_stl[j][i];
00059       \}
00060     \}
00061   \}
00062 
00063   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} vector\_from\_stl(gene\_vector & B, stl\_vector & B\_stl)\{
00064     B.resize(B\_stl.size());
00065     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<B\_stl.size() ; i++)\{
00066       B(i)=B\_stl[i];
00067     \}
00068   \}
00069 
00070   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} vector\_to\_stl(gene\_vector & B, stl\_vector & B\_stl)\{
00071     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<B\_stl.size() ; i++)\{
00072       B\_stl[i]=B(i);
00073     \}
00074   \}
00075 
00076   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_to\_stl(gene\_matrix & A, stl\_matrix & A\_stl)\{
00077     \textcolor{keywordtype}{int} N=A\_stl.size();
00078     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0;j<N;j++)\{
00079       A\_stl[j].resize(N);
00080       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<N;i++)
00081         A\_stl[j][i] = A(i,j);
00082     \}
00083   \}
00084 
00085   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_matrix\_product(\textcolor{keyword}{const} gene\_matrix & A, \textcolor{keyword}{const} gene\_matrix & B, gene\_matrix & X, \textcolor{keywordtype}{
      int} N)
00086   \{
00087     firstIndex i;
00088     secondIndex j;
00089     thirdIndex k;
00090     X = sum(A(i,k) * B(k,j), k);
00091   \}
00092 
00093   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} ata\_product(\textcolor{keyword}{const} gene\_matrix & A, gene\_matrix & X, \textcolor{keywordtype}{int} N)
00094   \{
00095     firstIndex i;
00096     secondIndex j;
00097     thirdIndex k;
00098     X = sum(A(k,i) * A(k,j), k);
00099   \}
00100 
00101   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} aat\_product(\textcolor{keyword}{const} gene\_matrix & A, gene\_matrix & X, \textcolor{keywordtype}{int} N)
00102   \{
00103     firstIndex i;
00104     secondIndex j;
00105     thirdIndex k;
00106     X = sum(A(i,k) * A(j,k), k);
00107   \}
00108 
00109   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_vector\_product(gene\_matrix & A, gene\_vector & B, gene\_vector & X, \textcolor{keywordtype}{int} N)
00110   \{
00111     firstIndex i;
00112     secondIndex j;
00113     X = sum(A(i,j)*B(j),j);
00114   \}
00115 
00116   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} atv\_product(gene\_matrix & A, gene\_vector & B, gene\_vector & X, \textcolor{keywordtype}{int} N)
00117   \{
00118     firstIndex i;
00119     secondIndex j;
00120     X = sum(A(j,i) * B(j),j);
00121   \}
00122 
00123   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} axpy(\textcolor{keyword}{const} real coef, \textcolor{keyword}{const} gene\_vector & X, gene\_vector & Y, \textcolor{keywordtype}{int} N)
00124   \{
00125     firstIndex i;
00126     Y = Y(i) + coef * X(i);
00127     \textcolor{comment}{//Y += coef * X;}
00128   \}
00129 
00130   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} copy\_matrix(\textcolor{keyword}{const} gene\_matrix & source, gene\_matrix & cible, \textcolor{keywordtype}{int} N)\{
00131     cible = source;
00132     \textcolor{comment}{//cible.template operator=<gene\_matrix>(source);}
00133 \textcolor{comment}{//     for (int i=0;i<N;i++)\{}
00134 \textcolor{comment}{//       for (int j=0;j<N;j++)\{}
00135 \textcolor{comment}{//         cible(i,j)=source(i,j);}
00136 \textcolor{comment}{//       \}}
00137 \textcolor{comment}{//     \}}
00138   \}
00139 
00140   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} copy\_vector(\textcolor{keyword}{const} gene\_vector & source, gene\_vector & cible, \textcolor{keywordtype}{int} N)\{
00141     \textcolor{comment}{//cible.template operator=<gene\_vector>(source);}
00142     cible = source;
00143   \}
00144 
00145 \};
00146 
00147 \textcolor{preprocessor}{#endif}
\end{DoxyCode}
