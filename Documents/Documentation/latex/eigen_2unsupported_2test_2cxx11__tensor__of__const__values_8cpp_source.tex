\hypertarget{eigen_2unsupported_2test_2cxx11__tensor__of__const__values_8cpp_source}{}\section{eigen/unsupported/test/cxx11\+\_\+tensor\+\_\+of\+\_\+const\+\_\+values.cpp}
\label{eigen_2unsupported_2test_2cxx11__tensor__of__const__values_8cpp_source}\index{cxx11\+\_\+tensor\+\_\+of\+\_\+const\+\_\+values.\+cpp@{cxx11\+\_\+tensor\+\_\+of\+\_\+const\+\_\+values.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2014 Benoit Steiner <benoit.steiner.goog@gmail.com>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#include "main.h"}
00011 
00012 \textcolor{preprocessor}{#include <Eigen/CXX11/Tensor>}
00013 
00014 \textcolor{keyword}{using} \hyperlink{class_eigen_1_1_tensor}{Eigen::Tensor};
00015 \textcolor{keyword}{using} \hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13acfcde9cd8677c5f7caf6bd603666aae3}{Eigen::RowMajor};
00016 
00017 \textcolor{keyword}{static} \textcolor{keywordtype}{void} test\_assign()
00018 \{
00019   \textcolor{keywordtype}{float} data1[6];
00020   TensorMap<Tensor<const float, 2>> mat1(data1, 2, 3);
00021   \textcolor{keywordtype}{float} data2[6];
00022   \textcolor{keyword}{const} TensorMap<Tensor<float, 2>> mat2(data2, 2, 3);
00023 
00024   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 6; ++i) \{
00025     data1[i] = i;
00026     data2[i] = -i;
00027   \}
00028 
00029   \hyperlink{class_eigen_1_1_tensor}{Tensor<float, 2>} rslt1;
00030   rslt1 = mat1;
00031   \hyperlink{class_eigen_1_1_tensor}{Tensor<float, 2>} rslt2;
00032   rslt2 = mat2;
00033 
00034   \hyperlink{class_eigen_1_1_tensor}{Tensor<float, 2>} rslt3 = mat1;
00035   \hyperlink{class_eigen_1_1_tensor}{Tensor<float, 2>} rslt4 = mat2;
00036 
00037   \hyperlink{class_eigen_1_1_tensor}{Tensor<float, 2>} rslt5(mat1);
00038   \hyperlink{class_eigen_1_1_tensor}{Tensor<float, 2>} rslt6(mat2);
00039 
00040   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i) \{
00041     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
00042       VERIFY\_IS\_APPROX(rslt1(i,j), static\_cast<float>(i + 2*j));
00043       VERIFY\_IS\_APPROX(rslt2(i,j), static\_cast<float>(-i - 2*j));
00044       VERIFY\_IS\_APPROX(rslt3(i,j), static\_cast<float>(i + 2*j));
00045       VERIFY\_IS\_APPROX(rslt4(i,j), static\_cast<float>(-i - 2*j));
00046       VERIFY\_IS\_APPROX(rslt5(i,j), static\_cast<float>(i + 2*j));
00047       VERIFY\_IS\_APPROX(rslt6(i,j), static\_cast<float>(-i - 2*j));
00048     \}
00049   \}
00050 \}
00051 
00052 
00053 \textcolor{keyword}{static} \textcolor{keywordtype}{void} test\_plus()
00054 \{
00055   \textcolor{keywordtype}{float} data1[6];
00056   TensorMap<Tensor<const float, 2>> mat1(data1, 2, 3);
00057   \textcolor{keywordtype}{float} data2[6];
00058   TensorMap<Tensor<float, 2>> mat2(data2, 2, 3);
00059 
00060   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 6; ++i) \{
00061     data1[i] = i;
00062     data2[i] = -i;
00063   \}
00064 
00065   \hyperlink{class_eigen_1_1_tensor}{Tensor<float, 2>} sum1;
00066   sum1 = mat1 + mat2;
00067   \hyperlink{class_eigen_1_1_tensor}{Tensor<float, 2>} sum2;
00068   sum2 = mat2 + mat1;
00069 
00070   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i) \{
00071     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
00072       VERIFY\_IS\_APPROX(sum1(i,j), 0.0f);
00073       VERIFY\_IS\_APPROX(sum2(i,j), 0.0f);
00074     \}
00075   \}
00076 \}
00077 
00078 
00079 \textcolor{keyword}{static} \textcolor{keywordtype}{void} test\_plus\_equal()
00080 \{
00081   \textcolor{keywordtype}{float} data1[6];
00082   TensorMap<Tensor<const float, 2>> mat1(data1, 2, 3);
00083   \textcolor{keywordtype}{float} data2[6];
00084   TensorMap<Tensor<float, 2>> mat2(data2, 2, 3);
00085 
00086   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 6; ++i) \{
00087     data1[i] = i;
00088     data2[i] = -i;
00089   \}
00090   mat2 += mat1;
00091 
00092   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i) \{
00093     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
00094       VERIFY\_IS\_APPROX(mat2(i,j), 0.0f);
00095     \}
00096   \}
00097 \}
00098 
00099 
00100 \textcolor{keywordtype}{void} test\_cxx11\_tensor\_of\_const\_values()
00101 \{
00102   CALL\_SUBTEST(test\_assign());
00103   CALL\_SUBTEST(test\_plus());
00104   CALL\_SUBTEST(test\_plus\_equal());
00105 \}
\end{DoxyCode}
