\hypertarget{visual__studio_2_h_d_f5_21_810_81_2_h_d_f5_examples_2_f_o_r_t_r_a_n_2_h5_g_2h5ex__g__corder_8f90_source}{}\section{visual\+\_\+studio/\+H\+D\+F5/1.10.1/\+H\+D\+F5\+Examples/\+F\+O\+R\+T\+R\+A\+N/\+H5\+G/h5ex\+\_\+g\+\_\+corder.f90}
\label{visual__studio_2_h_d_f5_21_810_81_2_h_d_f5_examples_2_f_o_r_t_r_a_n_2_h5_g_2h5ex__g__corder_8f90_source}\index{h5ex\+\_\+g\+\_\+corder.\+f90@{h5ex\+\_\+g\+\_\+corder.\+f90}}

\begin{DoxyCode}
00001 \textcolor{comment}{!************************************************************}
00002 \textcolor{comment}{!}
00003 \textcolor{comment}{!  This example shows how to track links in a group by}
00004 \textcolor{comment}{!  creation order.  The program creates a series of groups,}
00005 \textcolor{comment}{!  then reads back their names: first in alphabetical order,}
00006 \textcolor{comment}{!  then in creation order.}
00007 \textcolor{comment}{!}
00008 \textcolor{comment}{!  This file is intended for use with HDF5 Library version 1.8}
00009 \textcolor{comment}{!}
00010 \textcolor{comment}{!************************************************************}
00011 
00012 \textcolor{keyword}{PROGRAM} main
00013 
00014   \textcolor{keywordtype}{USE }hdf5
00015   \textcolor{keywordtype}{IMPLICIT NONE}
00016 
00017   \textcolor{keywordtype}{CHARACTER(LEN=16)}, \textcolor{keywordtype}{PARAMETER} :: filename   = \textcolor{stringliteral}{"h5ex\_g\_corder.h5"}
00018 
00019   \textcolor{keywordtype}{INTEGER(HID\_T)} :: \hyperlink{structfile}{file}, group, subgroup, gcpl \textcolor{comment}{! handles}
00020   \textcolor{keywordtype}{INTEGER} :: hdferr
00021   \textcolor{keywordtype}{INTEGER} :: storage\_type \textcolor{comment}{! Type of storage for links in group:}
00022                           \textcolor{comment}{!   H5G\_STORAGE\_TYPE\_COMPACT: Compact storage}
00023                           \textcolor{comment}{!   H5G\_STORAGE\_TYPE\_DENSE: Indexed storage}
00024                           \textcolor{comment}{!   H5G\_STORAGE\_TYPE\_SYMBOL\_TABLE: Symbol tables}
00025   \textcolor{keywordtype}{INTEGER} :: nlinks       \textcolor{comment}{! Number of links in group}
00026   \textcolor{keywordtype}{INTEGER} :: max\_corder   \textcolor{comment}{! Current maximum creation order value for group }
00027   \textcolor{keywordtype}{INTEGER(SIZE\_T)} :: size  \textcolor{comment}{! Size of name}
00028   \textcolor{keywordtype}{INTEGER(HSIZE\_T)} :: i     \textcolor{comment}{! Index}
00029   \textcolor{keywordtype}{CHARACTER(LEN=80)} :: name \textcolor{comment}{! Output buffer}
00030   \textcolor{comment}{!}
00031   \textcolor{comment}{! Initialize FORTRAN interface.}
00032   \textcolor{comment}{!}
00033   \textcolor{keyword}{CALL }h5open\_f(hdferr)
00034   \textcolor{comment}{!}
00035   \textcolor{comment}{! Create a new file using the default properties.}
00036   \textcolor{comment}{!}
00037   \textcolor{keyword}{CALL }h5fcreate\_f(filename, h5f\_acc\_trunc\_f, \hyperlink{structfile}{file}, hdferr)
00038   \textcolor{comment}{!}
00039   \textcolor{comment}{! Create group creation property list and enable link creation}
00040   \textcolor{comment}{! order tracking.  Attempting to track by creation order in a}
00041   \textcolor{comment}{! group that does not have this property set will result in an}
00042   \textcolor{comment}{! error.}
00043   \textcolor{comment}{!}
00044   \textcolor{keyword}{CALL }h5pcreate\_f(h5p\_group\_create\_f, gcpl, hdferr)
00045   \textcolor{keyword}{CALL }h5pset\_link\_creation\_order\_f( gcpl, ior(h5p\_crt\_order\_tracked\_f,h5p\_crt\_order\_indexed\_f),hdferr)
00046   \textcolor{comment}{!}
00047   \textcolor{comment}{! Create primary group using the property list.}
00048   \textcolor{comment}{!}
00049   \textcolor{keyword}{CALL }h5gcreate\_f(\hyperlink{structfile}{file}, \textcolor{stringliteral}{"index\_group"}, group, hdferr, gcpl\_id=gcpl)
00050   \textcolor{comment}{!}
00051   \textcolor{comment}{! Create subgroups in the primary group.  These will be tracked}
00052   \textcolor{comment}{! by creation order.  Note that these groups do not have to have}
00053   \textcolor{comment}{! the creation order tracking property set.}
00054   \textcolor{comment}{!}
00055   \textcolor{keyword}{CALL }h5gcreate\_f(group, \textcolor{stringliteral}{"H"}, subgroup, hdferr)
00056   \textcolor{keyword}{CALL }h5gclose\_f(subgroup,hdferr)
00057   \textcolor{keyword}{CALL }h5gcreate\_f(group, \textcolor{stringliteral}{"D"}, subgroup, hdferr)
00058   \textcolor{keyword}{CALL }h5gclose\_f(subgroup,hdferr)
00059   \textcolor{keyword}{CALL }h5gcreate\_f(group, \textcolor{stringliteral}{"F"}, subgroup, hdferr)
00060   \textcolor{keyword}{CALL }h5gclose\_f(subgroup,hdferr)
00061   \textcolor{keyword}{CALL }h5gcreate\_f(group, \textcolor{stringliteral}{"5"}, subgroup, hdferr)
00062   \textcolor{keyword}{CALL }h5gclose\_f(subgroup,hdferr)
00063   \textcolor{comment}{!}
00064   \textcolor{comment}{! Get group info.}
00065   \textcolor{comment}{!}
00066   \textcolor{keyword}{CALL }h5gget\_info\_f(group, storage\_type, nlinks, max\_corder, hdferr)
00067   \textcolor{comment}{!}
00068   \textcolor{comment}{! Traverse links in the primary group using alphabetical indices}
00069   \textcolor{comment}{! (H5\_INDEX\_NAME).}
00070   \textcolor{comment}{!}
00071   \textcolor{keyword}{WRITE}(*,\textcolor{stringliteral}{'("Traversing group using alphabetical indices:")'})
00072   \textcolor{keywordflow}{DO} i = 0, nlinks-1
00073      \textcolor{comment}{!}
00074      \textcolor{comment}{! Get name and size of name}
00075      \textcolor{comment}{! }
00076      \textcolor{keyword}{CALL }h5lget\_name\_by\_idx\_f(group, \textcolor{stringliteral}{"."}, h5\_index\_name\_f, h5\_iter\_inc\_f, i, name, hdferr, size)
00077      \textcolor{keyword}{WRITE}(*,\textcolor{stringliteral}{'("Index ",i2,": ",A)'}) int(i), trim(name)
00078 \textcolor{keywordflow}{  ENDDO}
00079   \textcolor{comment}{!}
00080   \textcolor{comment}{!Traverse links in the primary group by creation order}
00081   \textcolor{comment}{! (H5\_INDEX\_CRT\_ORDER).}
00082   \textcolor{comment}{!}
00083   \textcolor{keyword}{WRITE}(*,\textcolor{stringliteral}{'(/,"Traversing group using creation order indices:")'})
00084   \textcolor{keywordflow}{DO} i = 0, nlinks-1
00085      \textcolor{comment}{!}
00086      \textcolor{comment}{! Get name and size of name}
00087      \textcolor{comment}{! }
00088      \textcolor{keyword}{CALL }h5lget\_name\_by\_idx\_f(group, \textcolor{stringliteral}{"."}, h5\_index\_crt\_order\_f, h5\_iter\_inc\_f, i, name, hdferr, size)
00089      \textcolor{keyword}{WRITE}(*,\textcolor{stringliteral}{'("Index ",i2,": ",A)'}) int(i), trim(name)
00090 \textcolor{keywordflow}{  ENDDO}
00091   \textcolor{comment}{!}
00092   \textcolor{comment}{! Close and release resources.}
00093   \textcolor{comment}{!}
00094   \textcolor{keyword}{CALL }h5pclose\_f(gcpl, hdferr)
00095   \textcolor{keyword}{CALL }h5gclose\_f(group, hdferr)
00096   \textcolor{keyword}{CALL }h5fclose\_f(\hyperlink{structfile}{file}, hdferr)
00097 \textcolor{keyword}{END PROGRAM }main
\end{DoxyCode}
