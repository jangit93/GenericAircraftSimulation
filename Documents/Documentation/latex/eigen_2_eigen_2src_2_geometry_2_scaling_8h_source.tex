\hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source}{}\section{eigen/\+Eigen/src/\+Geometry/\+Scaling.h}
\label{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source}\index{Scaling.\+h@{Scaling.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2008 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_SCALING\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_SCALING\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{ 
00014 
00032 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_Scalar>
00033 \textcolor{keyword}{class }UniformScaling
00034 \{
00035 \textcolor{keyword}{public}:
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00037}\hyperlink{class_eigen_1_1_uniform_scaling_a04c4339f58f1210c5d4d34b1bd7ae283}{00037}   \textcolor{keyword}{typedef} \_Scalar \hyperlink{class_eigen_1_1_uniform_scaling_a04c4339f58f1210c5d4d34b1bd7ae283}{Scalar};
00038 
00039 \textcolor{keyword}{protected}:
00040 
00041   Scalar m\_factor;
00042 
00043 \textcolor{keyword}{public}:
00044 
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00046}\hyperlink{class_eigen_1_1_uniform_scaling_ab17e233af501c69ff47c0dd16f43cc39}{00046}   \hyperlink{class_eigen_1_1_uniform_scaling_ab17e233af501c69ff47c0dd16f43cc39}{UniformScaling}() \{\}
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00048}\hyperlink{class_eigen_1_1_uniform_scaling_a3a3e2fa318eb29c2c4f87e23a8a75144}{00048}   \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_uniform_scaling_a3a3e2fa318eb29c2c4f87e23a8a75144}{UniformScaling}(\textcolor{keyword}{const} Scalar& s) : m\_factor(s) \{\}
00049 
00050   \textcolor{keyword}{inline} \textcolor{keyword}{const} Scalar& factor()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_factor; \}
00051   \textcolor{keyword}{inline} Scalar& factor() \{ \textcolor{keywordflow}{return} m\_factor; \}
00052 
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00054}\hyperlink{class_eigen_1_1_uniform_scaling_af3044cffe5703a1946c33a953b0f9bb6}{00054}   \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling} \hyperlink{class_eigen_1_1_uniform_scaling_af3044cffe5703a1946c33a953b0f9bb6}{operator* }(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling}& other)\textcolor{keyword}{ const}
00055 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} \hyperlink{class_eigen_1_1_uniform_scaling_ab17e233af501c69ff47c0dd16f43cc39}{UniformScaling}(m\_factor * other.factor()); \}
00056 
00058   \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Dim>
00059   \textcolor{keyword}{inline} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,Affine>} \hyperlink{class_eigen_1_1_uniform_scaling_af3044cffe5703a1946c33a953b0f9bb6}{operator* }(\textcolor{keyword}{const} 
      \hyperlink{group___geometry___module_class_eigen_1_1_translation}{Translation<Scalar,Dim>}& t) \textcolor{keyword}{const};
00060 
00062   \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Dim, \textcolor{keywordtype}{int} Mode, \textcolor{keywordtype}{int} Options>
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00063}\hyperlink{class_eigen_1_1_uniform_scaling_a0fc239af586bb24d7db99c6b8ce42373}{00063}   \textcolor{keyword}{inline} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,(int(Mode)==int(Isometry)?Affine:Mode)>}
       \hyperlink{class_eigen_1_1_uniform_scaling_af3044cffe5703a1946c33a953b0f9bb6}{operator* }(\textcolor{keyword}{const} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim, Mode, Options>}& t)\textcolor{keyword}{
       const}
00064 \textcolor{keyword}{  }\{
00065     \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,(int(Mode)==int(Isometry)?Affine:Mode)>}
       res = t;
00066     res.prescale(factor());
00067     \textcolor{keywordflow}{return} res;
00068   \}
00069 
00071   \textcolor{comment}{// TODO returns an expression}
00072   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00073}\hyperlink{class_eigen_1_1_uniform_scaling_a1caa980503c4bba685aa65b419cad64b}{00073}   \textcolor{keyword}{inline} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1plain__matrix__type}{internal::plain\_matrix\_type<Derived>::type} 
      \hyperlink{class_eigen_1_1_uniform_scaling_af3044cffe5703a1946c33a953b0f9bb6}{operator* }(\textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<Derived>}& other)\textcolor{keyword}{ const}
00074 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} other * m\_factor; \}
00075 
00076   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived,\textcolor{keywordtype}{int} Dim>
00077   \textcolor{keyword}{inline} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar,Dim,Dim>} \hyperlink{class_eigen_1_1_uniform_scaling_af3044cffe5703a1946c33a953b0f9bb6}{operator*}(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_rotation_base}{RotationBase<Derived,Dim>}& r)\textcolor{keyword}{ const}
00078 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} r.\hyperlink{class_eigen_1_1_rotation_base_aac726e89402a427c605514ce31b01e42}{toRotationMatrix}() * m\_factor; \}
00079 
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00081}\hyperlink{class_eigen_1_1_uniform_scaling_a60dba22bebe9e2c97cfbc76f85eb1b78}{00081}   \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling} \hyperlink{class_eigen_1_1_uniform_scaling_a60dba22bebe9e2c97cfbc76f85eb1b78}{inverse}()\textcolor{keyword}{ const}
00082 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} \hyperlink{class_eigen_1_1_uniform_scaling_ab17e233af501c69ff47c0dd16f43cc39}{UniformScaling}(\hyperlink{class_eigen_1_1_uniform_scaling_a04c4339f58f1210c5d4d34b1bd7ae283}{Scalar}(1)/m\_factor); \}
00083 
00089   \textcolor{keyword}{template}<\textcolor{keyword}{typename} NewScalarType>
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00090}\hyperlink{class_eigen_1_1_uniform_scaling_af93a9ee1d6efc102b65a197f3ea3d4cd}{00090}   \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling<NewScalarType>} \hyperlink{class_eigen_1_1_uniform_scaling_af93a9ee1d6efc102b65a197f3ea3d4cd}{cast}()\textcolor{keyword}{ const}
00091 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling<NewScalarType>}(NewScalarType(m\_factor)); \}
00092 
00094   \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherScalarType>
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00095}\hyperlink{class_eigen_1_1_uniform_scaling_a898cc0c97625ce671d7ea951f6eb2fc4}{00095}   \textcolor{keyword}{inline} \textcolor{keyword}{explicit} \hyperlink{class_eigen_1_1_uniform_scaling_a898cc0c97625ce671d7ea951f6eb2fc4}{UniformScaling}(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling<OtherScalarType>}& other)
00096   \{ m\_factor = \hyperlink{class_eigen_1_1_uniform_scaling_a04c4339f58f1210c5d4d34b1bd7ae283}{Scalar}(other.factor()); \}
00097 
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00102}\hyperlink{class_eigen_1_1_uniform_scaling_a7f736fdbe43f7bce3d277312efdc315e}{00102}   \textcolor{keywordtype}{bool} \hyperlink{class_eigen_1_1_uniform_scaling_a7f736fdbe43f7bce3d277312efdc315e}{isApprox}(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling}& other, \textcolor{keyword}{const} \textcolor{keyword}{typename} 
      \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<Scalar>::Real}& prec = 
      \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<Scalar>::dummy\_precision}())\textcolor{keyword}{ const}
00103 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} internal::isApprox(m\_factor, other.factor(), prec); \}
00104 
00105 \};
00106 
00109 
00113 \textcolor{comment}{// NOTE this operator is defiend in MatrixBase and not as a friend function}
00114 \textcolor{comment}{// of UniformScaling to fix an internal crash of Intel's ICC}
00115 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived,\textcolor{keyword}{typename} Scalar>
00116 EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(Derived,Scalar,product)
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00117}\hyperlink{group___geometry___module_ga8f79e131479dbe709ee1173b1be9a8f0}{00117} operator*(const \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase}<Derived>& matrix, const \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling}<Scalar>& s)
00118 \{ \textcolor{keywordflow}{return} matrix.derived() * s.factor(); \}
00119 
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00121}\hyperlink{group___geometry___module_ga23a8ed57e3f2973526026765ae697761}{00121} \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling<float>} \hyperlink{group___geometry___module_ga23a8ed57e3f2973526026765ae697761}{Scaling}(\textcolor{keywordtype}{float} s) \{ \textcolor{keywordflow}{return} 
      \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling<float>}(s); \}
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00123}\hyperlink{group___geometry___module_ga86bf75d7fd4a67bf9c2c7354d8e5e2af}{00123} \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling<double>} \hyperlink{group___geometry___module_ga23a8ed57e3f2973526026765ae697761}{Scaling}(\textcolor{keywordtype}{double} s) \{ \textcolor{keywordflow}{return} 
      \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling<double>}(s); \}
00125 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RealScalar>
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00126}\hyperlink{group___geometry___module_ga97769767c20f843fc8c60421dcf0fd45}{00126} \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling<std::complex<RealScalar>} > 
      \hyperlink{group___geometry___module_ga23a8ed57e3f2973526026765ae697761}{Scaling}(\textcolor{keyword}{const} std::complex<RealScalar>& s)
00127 \{ \textcolor{keywordflow}{return} \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling<std::complex<RealScalar>} >(s); \}
00128 
00130 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar>
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00131}\hyperlink{group___geometry___module_gab76ae94fe10ce570fbd130bd6c7ab06d}{00131} \textcolor{keyword}{inline} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix<Scalar,2>} \hyperlink{group___geometry___module_ga23a8ed57e3f2973526026765ae697761}{Scaling}(\textcolor{keyword}{const} Scalar& sx, \textcolor{keyword}{const} Scalar& sy)
00132 \{ \textcolor{keywordflow}{return} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix<Scalar,2>}(sx, sy); \}
00134 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar>
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00135}\hyperlink{group___geometry___module_gacaf9cb32919d0a51876e0d204d2af475}{00135} \textcolor{keyword}{inline} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix<Scalar,3>} \hyperlink{group___geometry___module_ga23a8ed57e3f2973526026765ae697761}{Scaling}(\textcolor{keyword}{const} Scalar& sx, \textcolor{keyword}{const} Scalar& sy, \textcolor{keyword}{
      const} Scalar& sz)
00136 \{ \textcolor{keywordflow}{return} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix<Scalar,3>}(sx, sy, sz); \}
00137 
00141 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00142}\hyperlink{group___geometry___module_gac8f5797ba6804cc1d4b0c8c62da3e3d7}{00142} \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{DiagonalWrapper<const Derived>} 
      \hyperlink{group___geometry___module_ga23a8ed57e3f2973526026765ae697761}{Scaling}(\textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<Derived>}& coeffs)
00143 \{ \textcolor{keywordflow}{return} coeffs.\hyperlink{group___core___module_a14235b62c90f93fe910070b4743782d0}{asDiagonal}(); \}
00144 
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00146}\hyperlink{group___geometry___module_ga5acdf901fca83d0f807538414fe0d29e}{00146} \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix<float, 2>} \hyperlink{group___geometry___module_ga5acdf901fca83d0f807538414fe0d29e}{AlignedScaling2f};
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00148}\hyperlink{group___geometry___module_ga028f6f47e59a156fba3bd984363644bd}{00148} \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix<double,2>} \hyperlink{group___geometry___module_ga028f6f47e59a156fba3bd984363644bd}{AlignedScaling2d};
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00150}\hyperlink{group___geometry___module_gaf07fc07f3188dad812b24f581985d3d4}{00150} \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix<float, 3>} \hyperlink{group___geometry___module_gaf07fc07f3188dad812b24f581985d3d4}{AlignedScaling3f};
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00152}\hyperlink{group___geometry___module_ga4362757fc0624ef024a7b56b256bfc86}{00152} \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix<double,3>} \hyperlink{group___geometry___module_ga4362757fc0624ef024a7b56b256bfc86}{AlignedScaling3d};
00154 
00155 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar>
00156 \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Dim>
00157 \textcolor{keyword}{inline} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,Affine>}
\Hypertarget{eigen_2_eigen_2src_2_geometry_2_scaling_8h_source_l00158}\hyperlink{class_eigen_1_1_uniform_scaling_a19c405341f2c861eb0ddfc4f760fecf8}{00158} \hyperlink{class_eigen_1_1_uniform_scaling_af3044cffe5703a1946c33a953b0f9bb6}{UniformScaling<Scalar>::operator* }(\textcolor{keyword}{const} 
      \hyperlink{group___geometry___module_class_eigen_1_1_translation}{Translation<Scalar,Dim>}& t)\textcolor{keyword}{ const}
00159 \textcolor{keyword}{}\{
00160   \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,Affine>} res;
00161   res.\hyperlink{group___geometry___module_aec8168000a88a807130d41020af98d47}{matrix}().setZero();
00162   res.\hyperlink{group___geometry___module_a535bd63d047c2a36585c3f9b62219a1e}{linear}().diagonal().fill(factor());
00163   res.\hyperlink{group___geometry___module_afa93ba97d26912bb3d8777cbed102045}{translation}() = factor() * t.vector();
00164   res(Dim,Dim) = \hyperlink{class_eigen_1_1_uniform_scaling_a04c4339f58f1210c5d4d34b1bd7ae283}{Scalar}(1);
00165   \textcolor{keywordflow}{return} res;
00166 \}
00167 
00168 \} \textcolor{comment}{// end namespace Eigen}
00169 
00170 \textcolor{preprocessor}{#endif // EIGEN\_SCALING\_H}
\end{DoxyCode}
