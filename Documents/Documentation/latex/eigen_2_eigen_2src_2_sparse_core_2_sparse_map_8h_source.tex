\hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source}{}\section{eigen/\+Eigen/src/\+Sparse\+Core/\+Sparse\+Map.h}
\label{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source}\index{Sparse\+Map.\+h@{Sparse\+Map.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2015 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_SPARSE\_MAP\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_SPARSE\_MAP\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{
00014 
00015 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00016 
00017 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatScalar, \textcolor{keywordtype}{int} MatOptions, \textcolor{keyword}{typename} MatIndex, \textcolor{keywordtype}{int} Options, \textcolor{keyword}{typename} Str\textcolor{keywordtype}{id}eType>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00018}\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_map_3_01_sparse_matrix_3_01_mat_scalar_00_01_mat_optionsc906e4e1b3a968ac003455586a92664c}{00018} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1traits}{traits}<\hyperlink{group___core___module_class_eigen_1_1_map}{Map}<\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix}<MatScalar,MatOptions,MatIndex>, Options, StrideType> >
00019   : \textcolor{keyword}{public} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits}<SparseMatrix<MatScalar,MatOptions,MatIndex> >
00020 \{
00021   \textcolor{keyword}{typedef} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix<MatScalar,MatOptions,MatIndex>} 
      \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{PlainObjectType};
00022   \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits<PlainObjectType>} \hyperlink{struct_eigen_1_1internal_1_1traits}{TraitsBase};
00023   \textcolor{keyword}{enum} \{
00024     Flags = TraitsBase::Flags & (~NestByRefBit)
00025   \};
00026 \};
00027 
00028 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatScalar, \textcolor{keywordtype}{int} MatOptions, \textcolor{keyword}{typename} MatIndex, \textcolor{keywordtype}{int} Options, \textcolor{keyword}{typename} Str\textcolor{keywordtype}{id}eType>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00029}\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_map_3_01const_01_sparse_matrix_3_01_mat_scalar_00_01_matec7066c11e5361dce6e4102c84e4bcd2}{00029} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1traits}{traits}<\hyperlink{group___core___module_class_eigen_1_1_map}{Map}<const \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix}<MatScalar,MatOptions,MatIndex>, Options, 
      StrideType> >
00030   : \textcolor{keyword}{public} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits}<SparseMatrix<MatScalar,MatOptions,MatIndex> >
00031 \{
00032   \textcolor{keyword}{typedef} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix<MatScalar,MatOptions,MatIndex>} 
      \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{PlainObjectType};
00033   \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits<PlainObjectType>} \hyperlink{struct_eigen_1_1internal_1_1traits}{TraitsBase};
00034   \textcolor{keyword}{enum} \{
00035     Flags = TraitsBase::Flags & (~ (NestByRefBit | \hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit}))
00036   \};
00037 \};
00038 
00039 \} \textcolor{comment}{// end namespace internal}
00040 
00041 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived,
00042          \textcolor{keywordtype}{int} Level = \hyperlink{struct_eigen_1_1internal_1_1accessors__level}{internal::accessors\_level<Derived>::has\_write\_access}
       ? \hyperlink{group__enums_gga9f93eac38eb83deb0e8dbd42ddf11d5da2c59ef3697d65866c3a8e16eda7881ab}{WriteAccessors} : \hyperlink{group__enums_gga9f93eac38eb83deb0e8dbd42ddf11d5da42865f87356ad7e585a1bfbfd1b81699}{ReadOnlyAccessors}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00043}\hyperlink{class_eigen_1_1_sparse_map_base}{00043} > \textcolor{keyword}{class }\hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase};
00044 
00049 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00050}\hyperlink{group___sparse_core___module}{00050} \textcolor{keyword}{class }\hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}<Derived,\hyperlink{group__enums_gga9f93eac38eb83deb0e8dbd42ddf11d5da42865f87356ad7e585a1bfbfd1b81699}{ReadOnlyAccessors}>
00051   : \textcolor{keyword}{public} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_compressed_base}{SparseCompressedBase}<Derived>
00052 \{
00053   \textcolor{keyword}{public}:
00054     \textcolor{keyword}{typedef} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_compressed_base}{SparseCompressedBase<Derived>} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix_base}{Base};
00055     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Base::Scalar Scalar;
00056     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{group___sparse_core___module_a0b540ba724726ebe953f8c0df06081ed}{Base::StorageIndex} StorageIndex;
00057     \textcolor{keyword}{enum} \{ IsRowMajor = Base::IsRowMajor \};
00058     \textcolor{keyword}{using} Base::operator=;
00059   \textcolor{keyword}{protected}:
00060     
00061     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1conditional}{internal::conditional}<
00062                          bool(\hyperlink{struct_eigen_1_1internal_1_1is__lvalue}{internal::is\_lvalue<Derived>::value}),
00063                          Scalar *, \textcolor{keyword}{const} Scalar *>::type \hyperlink{class_eigen_1_1internal_1_1_tensor_lazy_evaluator_writable}{ScalarPointer};
00064     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1conditional}{internal::conditional}<
00065                          bool(\hyperlink{struct_eigen_1_1internal_1_1is__lvalue}{internal::is\_lvalue<Derived>::value}),
00066                          StorageIndex *, \textcolor{keyword}{const} StorageIndex *>::type 
      \hyperlink{class_eigen_1_1internal_1_1_tensor_lazy_evaluator_writable}{IndexPointer};
00067 
00068     \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index}   m\_outerSize;
00069     \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index}   m\_innerSize;
00070     \hyperlink{group___core___module}{Array<StorageIndex,2,1>}  m\_zero\_nnz;
00071     IndexPointer  m\_outerIndex;
00072     IndexPointer  m\_innerIndices;
00073     ScalarPointer m\_values;
00074     IndexPointer  m\_innerNonZeros;
00075 
00076   \textcolor{keyword}{public}:
00077 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00079}\hyperlink{group___sparse_core___module_a3cdd6cab0abd7ac01925a695fc315d34}{00079}     \textcolor{keyword}{inline} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \hyperlink{group___sparse_core___module_a3cdd6cab0abd7ac01925a695fc315d34}{rows}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} IsRowMajor ? m\_outerSize : m\_innerSize; \}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00081}\hyperlink{group___sparse_core___module_a0fc44f3781a869a3a410edd6691fd899}{00081}     \textcolor{keyword}{inline} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \hyperlink{group___sparse_core___module_a0fc44f3781a869a3a410edd6691fd899}{cols}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} IsRowMajor ? m\_innerSize : m\_outerSize; \}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00083}\hyperlink{group___sparse_core___module_a0df6dba8d71e0fb15b2995510853f83e}{00083}     \textcolor{keyword}{inline} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \hyperlink{group___sparse_core___module_a0df6dba8d71e0fb15b2995510853f83e}{innerSize}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_innerSize; \}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00085}\hyperlink{group___sparse_core___module_a3d6ede19db6d42074ae063bc876231b1}{00085}     \textcolor{keyword}{inline} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \hyperlink{group___sparse_core___module_a3d6ede19db6d42074ae063bc876231b1}{outerSize}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_outerSize; \}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00087}\hyperlink{group___sparse_core___module_a753e975b7b3643d821dc061141786870}{00087}     \textcolor{keyword}{inline} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \hyperlink{group___sparse_core___module_a753e975b7b3643d821dc061141786870}{nonZeros}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_zero\_nnz[1]; \}
00088     
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00090}\hyperlink{group___sparse_core___module_aafab4afa7ab2ff89eff049d4c71e2ce4}{00090}     \textcolor{keywordtype}{bool} \hyperlink{group___sparse_core___module_aafab4afa7ab2ff89eff049d4c71e2ce4}{isCompressed}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_innerNonZeros==0; \}
00091 
00092     \textcolor{comment}{//----------------------------------------}
00093     \textcolor{comment}{// direct access interface}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00095}\hyperlink{group___sparse_core___module_a574ea9371c22eabebdda21c0787312dc}{00095} \textcolor{comment}{}    \textcolor{keyword}{inline} \textcolor{keyword}{const} Scalar* \hyperlink{group___sparse_core___module_a574ea9371c22eabebdda21c0787312dc}{valuePtr}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_values; \}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00097}\hyperlink{group___sparse_core___module_ab044564756f472877b2c1a5706e540e2}{00097}     \textcolor{keyword}{inline} \textcolor{keyword}{const} StorageIndex* \hyperlink{group___sparse_core___module_ab044564756f472877b2c1a5706e540e2}{innerIndexPtr}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_innerIndices; \}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00099}\hyperlink{group___sparse_core___module_a24c55dd8de4aca30e7c90b69aa5dca6b}{00099}     \textcolor{keyword}{inline} \textcolor{keyword}{const} StorageIndex* \hyperlink{group___sparse_core___module_a24c55dd8de4aca30e7c90b69aa5dca6b}{outerIndexPtr}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_outerIndex; \}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00101}\hyperlink{group___sparse_core___module_a2b35a1d701d6c6ea36b2d9f19660a68c}{00101}     \textcolor{keyword}{inline} \textcolor{keyword}{const} StorageIndex* \hyperlink{group___sparse_core___module_a2b35a1d701d6c6ea36b2d9f19660a68c}{innerNonZeroPtr}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_innerNonZeros; \}
00102     \textcolor{comment}{//----------------------------------------}
00103 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00105}\hyperlink{group___sparse_core___module_a195e66f79171f78cc22d91fff37e36e3}{00105}     \textcolor{keyword}{inline} Scalar \hyperlink{group___sparse_core___module_a195e66f79171f78cc22d91fff37e36e3}{coeff}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} row, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} col)\textcolor{keyword}{ const}
00106 \textcolor{keyword}{    }\{
00107       \textcolor{keyword}{const} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} outer = IsRowMajor ? row : col;
00108       \textcolor{keyword}{const} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} inner = IsRowMajor ? col : row;
00109 
00110       \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} start = m\_outerIndex[outer];
00111       \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} end = isCompressed() ? m\_outerIndex[outer+1] : start + m\_innerNonZeros[outer];
00112       \textcolor{keywordflow}{if} (start==end)
00113         \textcolor{keywordflow}{return} Scalar(0);
00114       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (end>0 && inner==m\_innerIndices[end-1])
00115         \textcolor{keywordflow}{return} m\_values[end-1];
00116       \textcolor{comment}{// ^^  optimization: let's first check if it is the last coefficient}
00117       \textcolor{comment}{// (very common in high level algorithms)}
00118 
00119       \textcolor{keyword}{const} StorageIndex* r = std::lower\_bound(&m\_innerIndices[start],&m\_innerIndices[end-1],inner);
00120       \textcolor{keyword}{const} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \textcolor{keywordtype}{id} = r-&m\_innerIndices[0];
00121       \textcolor{keywordflow}{return} ((*r==inner) && (\textcolor{keywordtype}{id}<end)) ? m\_values[id] : Scalar(0);
00122     \}
00123 
00124     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} rows, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} cols, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} nnz, IndexPointer 
      outerIndexPtr, IndexPointer innerIndexPtr,
00125                               ScalarPointer valuePtr, IndexPointer innerNonZerosPtr = 0)
00126       : m\_outerSize(IsRowMajor?rows:cols), m\_innerSize(IsRowMajor?cols:rows), m\_zero\_nnz(0,
      internal::convert\_index<StorageIndex>(nnz)), m\_outerIndex(outerIndexPtr),
00127         m\_innerIndices(innerIndexPtr), m\_values(valuePtr), m\_innerNonZeros(innerNonZerosPtr)
00128     \{\}
00129 
00130     \textcolor{comment}{// for vectors}
00131     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} size, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} nnz, IndexPointer innerIndexPtr, 
      ScalarPointer valuePtr)
00132       : m\_outerSize(1), m\_innerSize(size), m\_zero\_nnz(0,internal::convert\_index<StorageIndex>(nnz)), 
      m\_outerIndex(m\_zero\_nnz.\hyperlink{class_eigen_1_1_plain_object_base_ac25699535374b1854cf8494e44ad31b2}{data}()),
00133         m\_innerIndices(innerIndexPtr), m\_values(valuePtr), m\_innerNonZeros(0)
00134     \{\}
00135 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00137}\hyperlink{group___sparse_core___module_ab375aedf824909a7f1a6af24ee60d70f}{00137}     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_ab375aedf824909a7f1a6af24ee60d70f}{~SparseMapBase}() \{\}
00138 
00139   \textcolor{keyword}{protected}:
00140     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}() \{\}
00141 \};
00142 
00147 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00148}\hyperlink{group___sparse_core___module}{00148} \textcolor{keyword}{class }\hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}<Derived,\hyperlink{group__enums_gga9f93eac38eb83deb0e8dbd42ddf11d5da2c59ef3697d65866c3a8e16eda7881ab}{WriteAccessors}>
00149   : \textcolor{keyword}{public} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}<Derived,ReadOnlyAccessors>
00150 \{
00151     \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_map_base_3_01_derived_00_01_read_only_accessors_01_4}{MapBase<Derived, ReadOnlyAccessors>} 
      \hyperlink{group___core___module_class_eigen_1_1_map_base_3_01_derived_00_01_read_only_accessors_01_4}{ReadOnlyMapBase};
00152     
00153   \textcolor{keyword}{public}:
00154     \textcolor{keyword}{typedef} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_map_base_3_01_derived_00_01_read_only_accessors_01_4}{SparseMapBase<Derived, ReadOnlyAccessors>} 
      \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix_base}{Base};
00155     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Base::Scalar Scalar;
00156     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{group___sparse_core___module_a0b540ba724726ebe953f8c0df06081ed}{Base::StorageIndex} StorageIndex;
00157     \textcolor{keyword}{enum} \{ IsRowMajor = Base::IsRowMajor \};
00158     
00159     \textcolor{keyword}{using} Base::operator=;
00160 
00161   \textcolor{keyword}{public}:
00162     
00163     \textcolor{comment}{//----------------------------------------}
00164     \textcolor{comment}{// direct access interface}
00165     \textcolor{keyword}{using} Base::valuePtr;
00166     \textcolor{keyword}{using} Base::innerIndexPtr;
00167     \textcolor{keyword}{using} Base::outerIndexPtr;
00168     \textcolor{keyword}{using} Base::innerNonZeroPtr;
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00170}\hyperlink{group___sparse_core___module_af91648a18729ae8ff29cb1d8751c5655}{00170}     \textcolor{keyword}{inline} Scalar* \hyperlink{group___sparse_core___module_af91648a18729ae8ff29cb1d8751c5655}{valuePtr}()              \{ \textcolor{keywordflow}{return} Base::m\_values; \}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00172}\hyperlink{group___sparse_core___module_af5cd1f13dde8578eb9891a4ac4a11977}{00172}     \textcolor{keyword}{inline} StorageIndex* \hyperlink{group___sparse_core___module_af5cd1f13dde8578eb9891a4ac4a11977}{innerIndexPtr}()   \{ \textcolor{keywordflow}{return} Base::m\_innerIndices; \}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00174}\hyperlink{group___sparse_core___module_a3b74af754254837fc591cd9936688b95}{00174}     \textcolor{keyword}{inline} StorageIndex* \hyperlink{group___sparse_core___module_a3b74af754254837fc591cd9936688b95}{outerIndexPtr}()   \{ \textcolor{keywordflow}{return} Base::m\_outerIndex; \}
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00176}\hyperlink{group___sparse_core___module_af877ea4e285a4497f80987fea66f7459}{00176}     \textcolor{keyword}{inline} StorageIndex* \hyperlink{group___sparse_core___module_af877ea4e285a4497f80987fea66f7459}{innerNonZeroPtr}() \{ \textcolor{keywordflow}{return} Base::m\_innerNonZeros; \}
00177     \textcolor{comment}{//----------------------------------------}
00178 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00180}\hyperlink{group___sparse_core___module_aa9c42d48b9dd6f947ce3c257fe4bf2ca}{00180}     \textcolor{keyword}{inline} Scalar& \hyperlink{group___sparse_core___module_aa9c42d48b9dd6f947ce3c257fe4bf2ca}{coeffRef}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} row, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} col)
00181     \{
00182       \textcolor{keyword}{const} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} outer = IsRowMajor ? row : col;
00183       \textcolor{keyword}{const} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} inner = IsRowMajor ? col : row;
00184 
00185       \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} start = Base::m\_outerIndex[outer];
00186       \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} end = Base::isCompressed() ? Base::m\_outerIndex[outer+1] : start + Base::m\_innerNonZeros[
      outer];
00187       eigen\_assert(end>=start && \textcolor{stringliteral}{"you probably called coeffRef on a non finalized matrix"});
00188       eigen\_assert(end>start && \textcolor{stringliteral}{"coeffRef cannot be called on a zero coefficient"});
00189       StorageIndex* r = std::lower\_bound(&Base::m\_innerIndices[start],&Base::m\_innerIndices[end],inner);
00190       \textcolor{keyword}{const} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \textcolor{keywordtype}{id} = r - &Base::m\_innerIndices[0];
00191       eigen\_assert((*r==inner) && (\textcolor{keywordtype}{id}<end) && \textcolor{stringliteral}{"coeffRef cannot be called on a zero coefficient"});
00192       \textcolor{keywordflow}{return} \textcolor{keyword}{const\_cast<}Scalar*\textcolor{keyword}{>}(Base::m\_values)[\textcolor{keywordtype}{id}];
00193     \}
00194     
00195     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} rows, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} cols, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} nnz, StorageIndex* 
      outerIndexPtr, StorageIndex* innerIndexPtr,
00196                          Scalar* valuePtr, StorageIndex* innerNonZerosPtr = 0)
00197       : Base(rows, cols, nnz, outerIndexPtr, innerIndexPtr, valuePtr, innerNonZerosPtr)
00198     \{\}
00199 
00200     \textcolor{comment}{// for vectors}
00201     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} size, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} nnz, StorageIndex* innerIndexPtr, Scalar*
       valuePtr)
00202       : Base(size, nnz, innerIndexPtr, valuePtr)
00203     \{\}
00204 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00206}\hyperlink{group___sparse_core___module_a4dfbcf3ac411885b1710ad04892c984d}{00206}     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_a4dfbcf3ac411885b1710ad04892c984d}{~SparseMapBase}() \{\}
00207 
00208   \textcolor{keyword}{protected}:
00209     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}() \{\}
00210 \};
00211 
00220 \textcolor{preprocessor}{#ifndef EIGEN\_PARSED\_BY\_DOXYGEN}
00221 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatScalar, \textcolor{keywordtype}{int} MatOptions, \textcolor{keyword}{typename} MatIndex, \textcolor{keywordtype}{int} Options, \textcolor{keyword}{typename} Str\textcolor{keywordtype}{id}eType>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00222}\hyperlink{group___sparse_core___module}{00222} \textcolor{keyword}{class }\hyperlink{group___core___module_class_eigen_1_1_map}{Map}<\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix}<MatScalar,MatOptions,MatIndex>, Options, StrideType>
00223   : \textcolor{keyword}{public} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}<Map<SparseMatrix<MatScalar,MatOptions,MatIndex>, Options, StrideType>
       >
00224 \textcolor{preprocessor}{#else}
00225 template<typename SparseMatrixType>
00226 class \hyperlink{group___core___module_class_eigen_1_1_map}{Map}<SparseMatrixType>
00227   : \textcolor{keyword}{public} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}<Derived,WriteAccessors>
00228 \textcolor{preprocessor}{#endif}
00229 \{
00230   \textcolor{keyword}{public}:
00231     \textcolor{keyword}{typedef} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase<Map>} \hyperlink{class_eigen_1_1_sparse_map_base}{Base};
00232     EIGEN\_SPARSE\_PUBLIC\_INTERFACE(\hyperlink{group___core___module_class_eigen_1_1_map}{Map})
00233     \textcolor{keyword}{enum} \{ IsRowMajor = Base::IsRowMajor \};
00234 
00235   \textcolor{keyword}{public}:
00236 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00245}\hyperlink{group___sparse_core___module_a634ffe6952d21716ca879e107f620f19}{00245}     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_a634ffe6952d21716ca879e107f620f19}{Map}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rows, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} cols, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} nnz, StorageIndex* outerIndexPtr,
00246                StorageIndex* innerIndexPtr, Scalar* valuePtr, StorageIndex* innerNonZerosPtr = 0)
00247       : Base(rows, cols, nnz, outerIndexPtr, innerIndexPtr, valuePtr, innerNonZerosPtr)
00248     \{\}
00249 \textcolor{preprocessor}{#ifndef EIGEN\_PARSED\_BY\_DOXYGEN}
00250 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00251}\hyperlink{group___sparse_core___module_a4d2900fdd8c973d24c4cfb0f0ee4f53f}{00251}     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_a4d2900fdd8c973d24c4cfb0f0ee4f53f}{~Map}() \{\}
00252 \};
00253 
00254 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatScalar, \textcolor{keywordtype}{int} MatOptions, \textcolor{keyword}{typename} MatIndex, \textcolor{keywordtype}{int} Options, \textcolor{keyword}{typename} Str\textcolor{keywordtype}{id}eType>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00255}\hyperlink{class_eigen_1_1_map_3_01const_01_sparse_matrix_3_01_mat_scalar_00_01_mat_options_00_01_mat_index4032bba20cf92aab8bcf07e926e15a4f}{00255} \textcolor{keyword}{class }\hyperlink{group___core___module_class_eigen_1_1_map}{Map}<const \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix}<MatScalar,MatOptions,MatIndex>, Options, StrideType>
00256   : \textcolor{keyword}{public} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase}<Map<const SparseMatrix<MatScalar,MatOptions,MatIndex>, Options, Strid
      eType> >
00257 \{
00258   \textcolor{keyword}{public}:
00259     \textcolor{keyword}{typedef} \hyperlink{class_eigen_1_1_sparse_map_base}{SparseMapBase<Map>} \hyperlink{class_eigen_1_1_sparse_map_base}{Base};
00260     EIGEN\_SPARSE\_PUBLIC\_INTERFACE(\hyperlink{group___core___module_class_eigen_1_1_map}{Map})
00261     \textcolor{keyword}{enum} \{ IsRowMajor = Base::IsRowMajor \};
00262 
00263   \textcolor{keyword}{public}:
00264 \textcolor{preprocessor}{#endif}
00265 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00270}\hyperlink{class_eigen_1_1_map_3_01const_01_sparse_matrix_3_01_mat_scalar_00_01_mat_options_00_01_mat_index4032bba20cf92aab8bcf07e926e15a4f_a8075e61ba51d1aa5858b0163e80eca8b}{00270}     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_map_3_01const_01_sparse_matrix_3_01_mat_scalar_00_01_mat_options_00_01_mat_index4032bba20cf92aab8bcf07e926e15a4f_a8075e61ba51d1aa5858b0163e80eca8b}{Map}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rows, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} cols, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} nnz, \textcolor{keyword}{const} StorageIndex* outerIndexPtr,
00271                \textcolor{keyword}{const} StorageIndex* innerIndexPtr, \textcolor{keyword}{const} Scalar* valuePtr, \textcolor{keyword}{const} StorageIndex* 
      innerNonZerosPtr = 0)
00272       : Base(rows, cols, nnz, outerIndexPtr, innerIndexPtr, valuePtr, innerNonZerosPtr)
00273     \{\}
00274 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00276}\hyperlink{class_eigen_1_1_map_3_01const_01_sparse_matrix_3_01_mat_scalar_00_01_mat_options_00_01_mat_index4032bba20cf92aab8bcf07e926e15a4f_aa4b0d0dd528fef0e1f8ce8c043d42b21}{00276}     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_map_3_01const_01_sparse_matrix_3_01_mat_scalar_00_01_mat_options_00_01_mat_index4032bba20cf92aab8bcf07e926e15a4f_aa4b0d0dd528fef0e1f8ce8c043d42b21}{~Map}() \{\}
00277 \};
00278 
00279 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00280 
00281 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatScalar, \textcolor{keywordtype}{int} MatOptions, \textcolor{keyword}{typename} MatIndex, \textcolor{keywordtype}{int} Options, \textcolor{keyword}{typename} Str\textcolor{keywordtype}{id}eType>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00282}\hyperlink{struct_eigen_1_1internal_1_1evaluator_3_01_map_3_01_sparse_matrix_3_01_mat_scalar_00_01_mat_optic7190da6f4a73606f624a88388745a36}{00282} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}<\hyperlink{group___core___module_class_eigen_1_1_map}{Map}<\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix}<MatScalar,MatOptions,MatIndex>, Options, 
      StrideType> >
00283   : \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}<SparseCompressedBase<Map<SparseMatrix<MatScalar,MatOptions,MatIndex>, Options, Strid
      eType> > >
00284 \{
00285   \textcolor{keyword}{typedef} 
      \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator<SparseCompressedBase<Map<SparseMatrix<MatScalar,MatOptions,MatIndex>}
      , Options, StrideType> > > \hyperlink{struct_eigen_1_1internal_1_1evaluator}{Base};
00286   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_map}{Map<SparseMatrix<MatScalar,MatOptions,MatIndex>}, 
      Options, StrideType> \hyperlink{group___sparse_core___module_class_eigen_1_1_map_3_01_sparse_matrix_3_01_mat_scalar_00_01_mat_options_00_01_mat_index_01_4_002c859b470cc9e43a031929bd752a93e6}{XprType};  
00287   \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}() : Base() \{\}
00288   \textcolor{keyword}{explicit} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}(\textcolor{keyword}{const} XprType &mat) : Base(mat) \{\}
00289 \};
00290 
00291 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatScalar, \textcolor{keywordtype}{int} MatOptions, \textcolor{keyword}{typename} MatIndex, \textcolor{keywordtype}{int} Options, \textcolor{keyword}{typename} Str\textcolor{keywordtype}{id}eType>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_map_8h_source_l00292}\hyperlink{struct_eigen_1_1internal_1_1evaluator_3_01_map_3_01const_01_sparse_matrix_3_01_mat_scalar_00_01_0f7d77d8dc2e7e7ccd8fbd3de5b937dd}{00292} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}<\hyperlink{group___core___module_class_eigen_1_1_map}{Map}<const \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix}<MatScalar,MatOptions,MatIndex>, Options, 
      StrideType> >
00293   : \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}<SparseCompressedBase<Map<const SparseMatrix<MatScalar,MatOptions,MatIndex>, Options,
       StrideType> > >
00294 \{
00295   \textcolor{keyword}{typedef} 
      \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator<SparseCompressedBase<Map<const SparseMatrix<MatScalar,MatOptions,MatIndex>}
      , Options, StrideType> > > \hyperlink{struct_eigen_1_1internal_1_1evaluator}{Base};
00296   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_map}{Map<const SparseMatrix<MatScalar,MatOptions,MatIndex>}
      , Options, StrideType> \hyperlink{class_eigen_1_1_map_3_01const_01_sparse_matrix_3_01_mat_scalar_00_01_mat_options_00_01_mat_index4032bba20cf92aab8bcf07e926e15a4f}{XprType};  
00297   \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}() : Base() \{\}
00298   \textcolor{keyword}{explicit} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}(\textcolor{keyword}{const} XprType &mat) : Base(mat) \{\}
00299 \};
00300 
00301 \}
00302 
00303 \} \textcolor{comment}{// end namespace Eigen}
00304 
00305 \textcolor{preprocessor}{#endif // EIGEN\_SPARSE\_MAP\_H}
\end{DoxyCode}
