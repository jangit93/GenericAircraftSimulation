\hypertarget{visual__studio_2_h_d_f5_21_810_81_2include_2_h5_f_dpublic_8h_source}{}\section{visual\+\_\+studio/\+H\+D\+F5/1.10.1/include/\+H5\+F\+Dpublic.h}
\label{visual__studio_2_h_d_f5_21_810_81_2include_2_h5_f_dpublic_8h_source}\index{H5\+F\+Dpublic.\+h@{H5\+F\+Dpublic.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *}
00002 \textcolor{comment}{ * Copyright by The HDF Group.                                               *}
00003 \textcolor{comment}{ * Copyright by the Board of Trustees of the University of Illinois.         *}
00004 \textcolor{comment}{ * All rights reserved.                                                      *}
00005 \textcolor{comment}{ *                                                                           *}
00006 \textcolor{comment}{ * This file is part of HDF5.  The full HDF5 copyright notice, including     *}
00007 \textcolor{comment}{ * terms governing use, modification, and redistribution, is contained in    *}
00008 \textcolor{comment}{ * the COPYING file, which can be found at the root of the source code       *}
00009 \textcolor{comment}{ * distribution tree, or in https://support.hdfgroup.org/ftp/HDF5/releases.  *}
00010 \textcolor{comment}{ * If you do not have access to either file, you may request a copy from     *}
00011 \textcolor{comment}{ * help@hdfgroup.org.                                                        *}
00012 \textcolor{comment}{ * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */}
00013 
00014 \textcolor{comment}{/*}
00015 \textcolor{comment}{ * Programmer:  Robb Matzke <matzke@llnl.gov>}
00016 \textcolor{comment}{ *              Monday, July 26, 1999}
00017 \textcolor{comment}{ */}
00018 \textcolor{preprocessor}{#ifndef \_H5FDpublic\_H}
00019 \textcolor{preprocessor}{#define \_H5FDpublic\_H}
00020 
00021 \textcolor{preprocessor}{#include "H5public.h"}
00022 \textcolor{preprocessor}{#include "H5Fpublic.h"}      \textcolor{comment}{/*for H5F\_close\_degree\_t */}
00023 
00024 \textcolor{preprocessor}{#define H5\_HAVE\_VFL 1 }\textcolor{comment}{/*define a convenient app feature test*/}\textcolor{preprocessor}{}
00025 \textcolor{preprocessor}{#define H5FD\_VFD\_DEFAULT 0   }\textcolor{comment}{/* Default VFL driver value */}\textcolor{preprocessor}{}
00026 
00027 \textcolor{comment}{/* Types of allocation requests: see H5Fpublic.h  */}
00028 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} H5F\_mem\_t  H5FD\_mem\_t;
00029 
00030 \textcolor{comment}{/* Map "fractal heap" header blocks to 'ohdr' type file memory, since its}
00031 \textcolor{comment}{ * a fair amount of work to add a new kind of file memory and they are similar}
00032 \textcolor{comment}{ * enough to object headers and probably too minor to deserve their own type.}
00033 \textcolor{comment}{ *}
00034 \textcolor{comment}{ * Map "fractal heap" indirect blocks to 'ohdr' type file memory, since they}
00035 \textcolor{comment}{ * are similar to fractal heap header blocks.}
00036 \textcolor{comment}{ *}
00037 \textcolor{comment}{ * Map "fractal heap" direct blocks to 'lheap' type file memory, since they}
00038 \textcolor{comment}{ * will be replacing local heaps.}
00039 \textcolor{comment}{ *}
00040 \textcolor{comment}{ * Map "fractal heap" 'huge' objects to 'draw' type file memory, since they}
00041 \textcolor{comment}{ * represent large objects that are directly stored in the file.}
00042 \textcolor{comment}{ *}
00043 \textcolor{comment}{ *      -QAK}
00044 \textcolor{comment}{ */}
00045 \textcolor{preprocessor}{#define H5FD\_MEM\_FHEAP\_HDR      H5FD\_MEM\_OHDR}
00046 \textcolor{preprocessor}{#define H5FD\_MEM\_FHEAP\_IBLOCK   H5FD\_MEM\_OHDR}
00047 \textcolor{preprocessor}{#define H5FD\_MEM\_FHEAP\_DBLOCK   H5FD\_MEM\_LHEAP}
00048 \textcolor{preprocessor}{#define H5FD\_MEM\_FHEAP\_HUGE\_OBJ H5FD\_MEM\_DRAW}
00049 
00050 \textcolor{comment}{/* Map "free space" header blocks to 'ohdr' type file memory, since its}
00051 \textcolor{comment}{ * a fair amount of work to add a new kind of file memory and they are similar}
00052 \textcolor{comment}{ * enough to object headers and probably too minor to deserve their own type.}
00053 \textcolor{comment}{ *}
00054 \textcolor{comment}{ * Map "free space" serialized sections to 'lheap' type file memory, since they}
00055 \textcolor{comment}{ * are similar enough to local heap info.}
00056 \textcolor{comment}{ *}
00057 \textcolor{comment}{ *      -QAK}
00058 \textcolor{comment}{ */}
00059 \textcolor{preprocessor}{#define H5FD\_MEM\_FSPACE\_HDR     H5FD\_MEM\_OHDR}
00060 \textcolor{preprocessor}{#define H5FD\_MEM\_FSPACE\_SINFO   H5FD\_MEM\_LHEAP}
00061 
00062 \textcolor{comment}{/* Map "shared object header message" master table to 'ohdr' type file memory,}
00063 \textcolor{comment}{ * since its a fair amount of work to add a new kind of file memory and they are}
00064 \textcolor{comment}{ * similar enough to object headers and probably too minor to deserve their own}
00065 \textcolor{comment}{ * type.}
00066 \textcolor{comment}{ *}
00067 \textcolor{comment}{ * Map "shared object header message" indices to 'btree' type file memory,}
00068 \textcolor{comment}{ * since they are similar enough to B-tree nodes.}
00069 \textcolor{comment}{ *}
00070 \textcolor{comment}{ *      -QAK}
00071 \textcolor{comment}{ */}
00072 \textcolor{preprocessor}{#define H5FD\_MEM\_SOHM\_TABLE     H5FD\_MEM\_OHDR}
00073 \textcolor{preprocessor}{#define H5FD\_MEM\_SOHM\_INDEX     H5FD\_MEM\_BTREE}
00074 
00075 \textcolor{comment}{/* Map "extensible array" header blocks to 'ohdr' type file memory, since its}
00076 \textcolor{comment}{ * a fair amount of work to add a new kind of file memory and they are similar}
00077 \textcolor{comment}{ * enough to object headers and probably too minor to deserve their own type.}
00078 \textcolor{comment}{ *}
00079 \textcolor{comment}{ * Map "extensible array" index blocks to 'ohdr' type file memory, since they}
00080 \textcolor{comment}{ * are similar to extensible array header blocks.}
00081 \textcolor{comment}{ *}
00082 \textcolor{comment}{ * Map "extensible array" super blocks to 'btree' type file memory, since they}
00083 \textcolor{comment}{ * are similar enough to B-tree nodes.}
00084 \textcolor{comment}{ *}
00085 \textcolor{comment}{ * Map "extensible array" data blocks & pages to 'lheap' type file memory, since}
00086 \textcolor{comment}{ * they are similar enough to local heap info.}
00087 \textcolor{comment}{ *}
00088 \textcolor{comment}{ *      -QAK}
00089 \textcolor{comment}{ */}
00090 \textcolor{preprocessor}{#define H5FD\_MEM\_EARRAY\_HDR     H5FD\_MEM\_OHDR}
00091 \textcolor{preprocessor}{#define H5FD\_MEM\_EARRAY\_IBLOCK  H5FD\_MEM\_OHDR}
00092 \textcolor{preprocessor}{#define H5FD\_MEM\_EARRAY\_SBLOCK  H5FD\_MEM\_BTREE}
00093 \textcolor{preprocessor}{#define H5FD\_MEM\_EARRAY\_DBLOCK  H5FD\_MEM\_LHEAP}
00094 \textcolor{preprocessor}{#define H5FD\_MEM\_EARRAY\_DBLK\_PAGE  H5FD\_MEM\_LHEAP}
00095 
00096 \textcolor{comment}{/* Map "fixed array" header blocks to 'ohdr' type file memory, since its}
00097 \textcolor{comment}{ * a fair amount of work to add a new kind of file memory and they are similar}
00098 \textcolor{comment}{ * enough to object headers and probably too minor to deserve their own type.}
00099 \textcolor{comment}{ *}
00100 \textcolor{comment}{ * Map "fixed array" data blocks & pages to 'lheap' type file memory, since}
00101 \textcolor{comment}{ * they are similar enough to local heap info.}
00102 \textcolor{comment}{ *}
00103 \textcolor{comment}{ */}
00104 \textcolor{preprocessor}{#define H5FD\_MEM\_FARRAY\_HDR     H5FD\_MEM\_OHDR}
00105 \textcolor{preprocessor}{#define H5FD\_MEM\_FARRAY\_DBLOCK  H5FD\_MEM\_LHEAP}
00106 \textcolor{preprocessor}{#define H5FD\_MEM\_FARRAY\_DBLK\_PAGE  H5FD\_MEM\_LHEAP}
00107 
00108 \textcolor{comment}{/*}
00109 \textcolor{comment}{ * A free-list map which maps all types of allocation requests to a single}
00110 \textcolor{comment}{ * free list.  This is useful for drivers that don't really care about}
00111 \textcolor{comment}{ * keeping different requests segregated in the underlying file and which}
00112 \textcolor{comment}{ * want to make most efficient reuse of freed memory.  The use of the}
00113 \textcolor{comment}{ * H5FD\_MEM\_SUPER free list is arbitrary.}
00114 \textcolor{comment}{ */}
00115 \textcolor{preprocessor}{#define H5FD\_FLMAP\_SINGLE \{                           \(\backslash\)}
00116 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER,         }\textcolor{comment}{/*default*/}\textcolor{preprocessor}{               \(\backslash\)}
00117 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER,         }\textcolor{comment}{/*super*/}\textcolor{preprocessor}{                 \(\backslash\)}
00118 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER,         }\textcolor{comment}{/*btree*/}\textcolor{preprocessor}{                 \(\backslash\)}
00119 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER,         }\textcolor{comment}{/*draw*/}\textcolor{preprocessor}{                  \(\backslash\)}
00120 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER,         }\textcolor{comment}{/*gheap*/}\textcolor{preprocessor}{                 \(\backslash\)}
00121 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER,         }\textcolor{comment}{/*lheap*/}\textcolor{preprocessor}{                 \(\backslash\)}
00122 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER          }\textcolor{comment}{/*ohdr*/}\textcolor{preprocessor}{                  \(\backslash\)}
00123 \textcolor{preprocessor}{\}}
00124 
00125 \textcolor{comment}{/*}
00126 \textcolor{comment}{ * A free-list map which segregates requests into `raw' or `meta' data}
00127 \textcolor{comment}{ * pools.}
00128 \textcolor{comment}{ */}
00129 \textcolor{preprocessor}{#define H5FD\_FLMAP\_DICHOTOMY \{                            \(\backslash\)}
00130 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER,         }\textcolor{comment}{/*default*/}\textcolor{preprocessor}{               \(\backslash\)}
00131 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER,         }\textcolor{comment}{/*super*/}\textcolor{preprocessor}{                 \(\backslash\)}
00132 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER,         }\textcolor{comment}{/*btree*/}\textcolor{preprocessor}{                 \(\backslash\)}
00133 \textcolor{preprocessor}{    H5FD\_MEM\_DRAW,          }\textcolor{comment}{/*draw*/}\textcolor{preprocessor}{                  \(\backslash\)}
00134 \textcolor{preprocessor}{    H5FD\_MEM\_DRAW,          }\textcolor{comment}{/*gheap*/}\textcolor{preprocessor}{                 \(\backslash\)}
00135 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER,         }\textcolor{comment}{/*lheap*/}\textcolor{preprocessor}{                 \(\backslash\)}
00136 \textcolor{preprocessor}{    H5FD\_MEM\_SUPER          }\textcolor{comment}{/*ohdr*/}\textcolor{preprocessor}{                  \(\backslash\)}
00137 \textcolor{preprocessor}{\}}
00138 
00139 \textcolor{comment}{/*}
00140 \textcolor{comment}{ * The default free list map which causes each request type to use it's own}
00141 \textcolor{comment}{ * free-list.}
00142 \textcolor{comment}{ */}
00143 \textcolor{preprocessor}{#define H5FD\_FLMAP\_DEFAULT \{                              \(\backslash\)}
00144 \textcolor{preprocessor}{    H5FD\_MEM\_DEFAULT,           }\textcolor{comment}{/*default*/}\textcolor{preprocessor}{               \(\backslash\)}
00145 \textcolor{preprocessor}{    H5FD\_MEM\_DEFAULT,           }\textcolor{comment}{/*super*/}\textcolor{preprocessor}{                 \(\backslash\)}
00146 \textcolor{preprocessor}{    H5FD\_MEM\_DEFAULT,           }\textcolor{comment}{/*btree*/}\textcolor{preprocessor}{                 \(\backslash\)}
00147 \textcolor{preprocessor}{    H5FD\_MEM\_DEFAULT,           }\textcolor{comment}{/*draw*/}\textcolor{preprocessor}{                  \(\backslash\)}
00148 \textcolor{preprocessor}{    H5FD\_MEM\_DEFAULT,           }\textcolor{comment}{/*gheap*/}\textcolor{preprocessor}{                 \(\backslash\)}
00149 \textcolor{preprocessor}{    H5FD\_MEM\_DEFAULT,           }\textcolor{comment}{/*lheap*/}\textcolor{preprocessor}{                 \(\backslash\)}
00150 \textcolor{preprocessor}{    H5FD\_MEM\_DEFAULT            }\textcolor{comment}{/*ohdr*/}\textcolor{preprocessor}{                  \(\backslash\)}
00151 \textcolor{preprocessor}{\}}
00152 
00153 
00154 \textcolor{comment}{/* Define VFL driver features that can be enabled on a per-driver basis */}
00155 \textcolor{comment}{/* These are returned with the 'query' function pointer in H5FD\_class\_t */}
00156     \textcolor{comment}{/*}
00157 \textcolor{comment}{     * Defining H5FD\_FEAT\_AGGREGATE\_METADATA for a VFL driver means that}
00158 \textcolor{comment}{     * the library will attempt to allocate a larger block for metadata and}
00159 \textcolor{comment}{     * then sub-allocate each metadata request from that larger block.}
00160 \textcolor{comment}{     */}
00161 \textcolor{preprocessor}{#define H5FD\_FEAT\_AGGREGATE\_METADATA    0x00000001}
00162     \textcolor{comment}{/*}
00163 \textcolor{comment}{     * Defining H5FD\_FEAT\_ACCUMULATE\_METADATA for a VFL driver means that}
00164 \textcolor{comment}{     * the library will attempt to cache metadata as it is written to the file}
00165 \textcolor{comment}{     * and build up a larger block of metadata to eventually pass to the VFL}
00166 \textcolor{comment}{     * 'write' routine.}
00167 \textcolor{comment}{     *}
00168 \textcolor{comment}{     * Distinguish between updating the metadata accumulator on writes and}
00169 \textcolor{comment}{     * reads.  This is particularly (perhaps only, even) important for MPI-I/O}
00170 \textcolor{comment}{     * where we guarantee that writes are collective, but reads may not be.}
00171 \textcolor{comment}{     * If we were to allow the metadata accumulator to be written during a}
00172 \textcolor{comment}{     * read operation, the application would hang.}
00173 \textcolor{comment}{     */}
00174 \textcolor{preprocessor}{#define H5FD\_FEAT\_ACCUMULATE\_METADATA\_WRITE     0x00000002}
00175 \textcolor{preprocessor}{#define H5FD\_FEAT\_ACCUMULATE\_METADATA\_READ      0x00000004}
00176 \textcolor{preprocessor}{#define H5FD\_FEAT\_ACCUMULATE\_METADATA  
       (H5FD\_FEAT\_ACCUMULATE\_METADATA\_WRITE|H5FD\_FEAT\_ACCUMULATE\_METADATA\_READ)}
00177     \textcolor{comment}{/*}
00178 \textcolor{comment}{     * Defining H5FD\_FEAT\_DATA\_SIEVE for a VFL driver means that}
00179 \textcolor{comment}{     * the library will attempt to cache raw data as it is read from/written to}
00180 \textcolor{comment}{     * a file in a "data seive" buffer.  See Rajeev Thakur's papers:}
00181 \textcolor{comment}{     *  http://www.mcs.anl.gov/~thakur/papers/romio-coll.ps.gz}
00182 \textcolor{comment}{     *  http://www.mcs.anl.gov/~thakur/papers/mpio-high-perf.ps.gz}
00183 \textcolor{comment}{     */}
00184 \textcolor{preprocessor}{#define H5FD\_FEAT\_DATA\_SIEVE            0x00000008}
00185     \textcolor{comment}{/*}
00186 \textcolor{comment}{     * Defining H5FD\_FEAT\_AGGREGATE\_SMALLDATA for a VFL driver means that}
00187 \textcolor{comment}{     * the library will attempt to allocate a larger block for "small" raw data}
00188 \textcolor{comment}{     * and then sub-allocate "small" raw data requests from that larger block.}
00189 \textcolor{comment}{     */}
00190 \textcolor{preprocessor}{#define H5FD\_FEAT\_AGGREGATE\_SMALLDATA   0x00000010}
00191     \textcolor{comment}{/*}
00192 \textcolor{comment}{     * Defining H5FD\_FEAT\_IGNORE\_DRVRINFO for a VFL driver means that}
00193 \textcolor{comment}{     * the library will ignore the driver info that is encoded in the file}
00194 \textcolor{comment}{     * for the VFL driver.  (This will cause the driver info to be eliminated}
00195 \textcolor{comment}{     * from the file when it is flushed/closed, if the file is opened R/W).}
00196 \textcolor{comment}{     */}
00197 \textcolor{preprocessor}{#define H5FD\_FEAT\_IGNORE\_DRVRINFO       0x00000020}
00198     \textcolor{comment}{/*}
00199 \textcolor{comment}{     * Defining the H5FD\_FEAT\_DIRTY\_DRVRINFO\_LOAD for a VFL driver means that}
00200 \textcolor{comment}{     * the library will mark the driver info dirty when the file is opened}
00201 \textcolor{comment}{     * R/W.  This will cause the driver info to be re-encoded when the file}
00202 \textcolor{comment}{     * is flushed/closed.}
00203 \textcolor{comment}{     */}
00204 \textcolor{preprocessor}{#define H5FD\_FEAT\_DIRTY\_DRVRINFO\_LOAD   0x00000040}
00205     \textcolor{comment}{/*}
00206 \textcolor{comment}{     * Defining H5FD\_FEAT\_POSIX\_COMPAT\_HANDLE for a VFL driver means that}
00207 \textcolor{comment}{     * the handle for the VFD (returned with the 'get\_handle' callback) is}
00208 \textcolor{comment}{     * of type 'int' and is compatible with POSIX I/O calls.}
00209 \textcolor{comment}{     */}
00210 \textcolor{preprocessor}{#define H5FD\_FEAT\_POSIX\_COMPAT\_HANDLE   0x00000080    }
00211     \textcolor{comment}{/*}
00212 \textcolor{comment}{     * Defining H5FD\_FEAT\_HAS\_MPI for a VFL driver means that}
00213 \textcolor{comment}{     * the driver makes use of MPI communication and code may retrieve}
00214 \textcolor{comment}{     * communicator/rank information from it}
00215 \textcolor{comment}{     */}
00216 \textcolor{preprocessor}{#define H5FD\_FEAT\_HAS\_MPI               0x00000100}
00217     \textcolor{comment}{/*}
00218 \textcolor{comment}{     * Defining the H5FD\_FEAT\_ALLOCATE\_EARLY for a VFL driver will force}
00219 \textcolor{comment}{     * the library to use the H5D\_ALLOC\_TIME\_EARLY on dataset create}
00220 \textcolor{comment}{     * instead of the default H5D\_ALLOC\_TIME\_LATE}
00221 \textcolor{comment}{     */}
00222 \textcolor{preprocessor}{#define H5FD\_FEAT\_ALLOCATE\_EARLY        0x00000200}
00223     \textcolor{comment}{/* }
00224 \textcolor{comment}{     * Defining H5FD\_FEAT\_ALLOW\_FILE\_IMAGE for a VFL driver means that}
00225 \textcolor{comment}{     * the driver is able to use a file image in the fapl as the initial}
00226 \textcolor{comment}{     * contents of a file.}
00227 \textcolor{comment}{     */}
00228 \textcolor{preprocessor}{#define H5FD\_FEAT\_ALLOW\_FILE\_IMAGE      0x00000400}
00229     \textcolor{comment}{/*}
00230 \textcolor{comment}{     * Defining H5FD\_FEAT\_CAN\_USE\_FILE\_IMAGE\_CALLBACKS for a VFL driver}
00231 \textcolor{comment}{     * means that the driver is able to use callbacks to make a copy of the}
00232 \textcolor{comment}{     * image to store in memory.}
00233 \textcolor{comment}{     */}
00234 \textcolor{preprocessor}{#define H5FD\_FEAT\_CAN\_USE\_FILE\_IMAGE\_CALLBACKS 0x00000800}
00235     \textcolor{comment}{/*}
00236 \textcolor{comment}{     * Defining H5FD\_FEAT\_SUPPORTS\_SWMR\_IO for a VFL driver means that the}
00237 \textcolor{comment}{     * driver supports the single-writer/multiple-readers I/O pattern.}
00238 \textcolor{comment}{     */}
00239 \textcolor{preprocessor}{#define H5FD\_FEAT\_SUPPORTS\_SWMR\_IO      0x00001000}
00240     \textcolor{comment}{/*}
00241 \textcolor{comment}{     * Defining H5FD\_FEAT\_USE\_ALLOC\_SIZE for a VFL driver}
00242 \textcolor{comment}{     * means that the library will just pass the allocation size to the}
00243 \textcolor{comment}{     * the driver's allocation callback which will eventually handle alignment.}
00244 \textcolor{comment}{     * This is specifically used for the multi/split driver.}
00245 \textcolor{comment}{     */}
00246 \textcolor{preprocessor}{#define H5FD\_FEAT\_USE\_ALLOC\_SIZE    0x00002000}
00247     \textcolor{comment}{/*}
00248 \textcolor{comment}{     * Defining H5FD\_FEAT\_PAGED\_AGGR for a VFL driver}
00249 \textcolor{comment}{     * means that the driver needs special file space mapping for paged aggregation.}
00250 \textcolor{comment}{     * This is specifically used for the multi/split driver.}
00251 \textcolor{comment}{     */}
00252 \textcolor{preprocessor}{#define H5FD\_FEAT\_PAGED\_AGGR        0x00004000}
00253 
00254 \textcolor{comment}{/* Forward declaration */}
00255 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_f_d__t}{H5FD\_t} \hyperlink{struct_h5_f_d__t}{H5FD\_t};
00256 
00257 \textcolor{comment}{/* Class information for each file driver */}
00258 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_f_d__class__t}{H5FD\_class\_t} \{
00259     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *name;
00260     haddr\_t maxaddr;
00261     H5F\_close\_degree\_t fc\_degree;
00262     herr\_t  (*terminate)(void);
00263     hsize\_t (*sb\_size)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file});
00264     herr\_t  (*sb\_encode)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, \textcolor{keywordtype}{char} *name\textcolor{comment}{/*out*/},
00265                          \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *p\textcolor{comment}{/*out*/});
00266     herr\_t  (*sb\_decode)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *f, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *name, \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *p);
00267     \textcolor{keywordtype}{size\_t}  fapl\_size;
00268     \textcolor{keywordtype}{void} *  (*fapl\_get)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file);
00269     \textcolor{keywordtype}{void} *  (*fapl\_copy)(\textcolor{keyword}{const} \textcolor{keywordtype}{void} *fapl);
00270     herr\_t  (*fapl\_free)(\textcolor{keywordtype}{void} *fapl);
00271     \textcolor{keywordtype}{size\_t}  dxpl\_size;
00272     \textcolor{keywordtype}{void} *  (*dxpl\_copy)(\textcolor{keyword}{const} \textcolor{keywordtype}{void} *dxpl);
00273     herr\_t  (*dxpl\_free)(\textcolor{keywordtype}{void} *dxpl);
00274     \hyperlink{struct_h5_f_d__t}{H5FD\_t} *(*open)(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *name, \textcolor{keywordtype}{unsigned} flags, hid\_t fapl,
00275                     haddr\_t maxaddr);
00276     herr\_t  (*close)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file);
00277     int     (*cmp)(\textcolor{keyword}{const} \hyperlink{struct_h5_f_d__t}{H5FD\_t} *f1, \textcolor{keyword}{const} \hyperlink{struct_h5_f_d__t}{H5FD\_t} *f2);
00278     herr\_t  (*query)(\textcolor{keyword}{const} \hyperlink{struct_h5_f_d__t}{H5FD\_t} *f1, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} *flags);
00279     herr\_t  (*get\_type\_map)(\textcolor{keyword}{const} \hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, H5FD\_mem\_t *type\_map);
00280     haddr\_t (*alloc)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, H5FD\_mem\_t type, hid\_t dxpl\_id, hsize\_t size);
00281     herr\_t  (*free)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, H5FD\_mem\_t type, hid\_t dxpl\_id,
00282                     haddr\_t addr, hsize\_t size);
00283     haddr\_t (*get\_eoa)(\textcolor{keyword}{const} \hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, H5FD\_mem\_t type);
00284     herr\_t  (*set\_eoa)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, H5FD\_mem\_t type, haddr\_t addr);
00285     haddr\_t (*get\_eof)(\textcolor{keyword}{const} \hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, H5FD\_mem\_t type);
00286     herr\_t  (*get\_handle)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, hid\_t fapl, \textcolor{keywordtype}{void}**file\_handle);
00287     herr\_t  (*read)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, H5FD\_mem\_t type, hid\_t dxpl,
00288                     haddr\_t addr, \textcolor{keywordtype}{size\_t} size, \textcolor{keywordtype}{void} *buffer);
00289     herr\_t  (*write)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, H5FD\_mem\_t type, hid\_t dxpl,
00290                      haddr\_t addr, \textcolor{keywordtype}{size\_t} size, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *buffer);
00291     herr\_t  (*flush)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, hid\_t dxpl\_id, hbool\_t closing);
00292     herr\_t  (*truncate)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, hid\_t dxpl\_id, hbool\_t closing);
00293     herr\_t  (*lock)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file, hbool\_t rw);
00294     herr\_t  (*unlock)(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *file);
00295     H5FD\_mem\_t fl\_map[H5FD\_MEM\_NTYPES];
00296 \} \hyperlink{struct_h5_f_d__class__t}{H5FD\_class\_t};
00297 
00298 \textcolor{comment}{/* A free list is a singly-linked list of address/size pairs. */}
00299 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_f_d__free__t}{H5FD\_free\_t} \{
00300     haddr\_t     addr;
00301     hsize\_t     size;
00302     \textcolor{keyword}{struct }\hyperlink{struct_h5_f_d__free__t}{H5FD\_free\_t}   *next;
00303 \} \hyperlink{struct_h5_f_d__free__t}{H5FD\_free\_t};
00304 
00305 \textcolor{comment}{/*}
00306 \textcolor{comment}{ * The main datatype for each driver. Public fields common to all drivers}
00307 \textcolor{comment}{ * are declared here and the driver appends private fields in memory.}
00308 \textcolor{comment}{ */}
00309 \textcolor{keyword}{struct }\hyperlink{struct_h5_f_d__t}{H5FD\_t} \{
00310     hid\_t               driver\_id;      \textcolor{comment}{/*driver ID for this file   */}
00311     \textcolor{keyword}{const} \hyperlink{struct_h5_f_d__class__t}{H5FD\_class\_t} *cls;            \textcolor{comment}{/*constant class info       */}
00312     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long}       fileno;         \textcolor{comment}{/* File 'serial' number     */}
00313     \textcolor{keywordtype}{unsigned}            access\_flags;   \textcolor{comment}{/* File access flags (from create or open) */}
00314     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long}       feature\_flags;  \textcolor{comment}{/* VFL Driver feature Flags */}
00315     haddr\_t             maxaddr;        \textcolor{comment}{/* For this file, overrides class */}
00316     haddr\_t             base\_addr;      \textcolor{comment}{/* Base address for HDF5 data w/in file */}
00317 
00318     \textcolor{comment}{/* Space allocation management fields */}
00319     hsize\_t             threshold;      \textcolor{comment}{/* Threshold for alignment  */}
00320     hsize\_t             alignment;      \textcolor{comment}{/* Allocation alignment     */}
00321     hbool\_t             paged\_aggr;     \textcolor{comment}{/* Paged aggregation for file space is enabled or not */}
00322 \};
00323 
00324 \textcolor{comment}{/* Define enum for the source of file image callbacks */}
00325 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00326     H5FD\_FILE\_IMAGE\_OP\_NO\_OP,
00327     H5FD\_FILE\_IMAGE\_OP\_PROPERTY\_LIST\_SET,     
00328     H5FD\_FILE\_IMAGE\_OP\_PROPERTY\_LIST\_COPY,
00329     H5FD\_FILE\_IMAGE\_OP\_PROPERTY\_LIST\_GET,
00330     H5FD\_FILE\_IMAGE\_OP\_PROPERTY\_LIST\_CLOSE,
00331     H5FD\_FILE\_IMAGE\_OP\_FILE\_OPEN,
00332     H5FD\_FILE\_IMAGE\_OP\_FILE\_RESIZE,
00333     H5FD\_FILE\_IMAGE\_OP\_FILE\_CLOSE
00334 \} H5FD\_file\_image\_op\_t;
00335 
00336 \textcolor{comment}{/* Define structure to hold file image callbacks */}
00337 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{
00338     \textcolor{keywordtype}{void}   *(*image\_malloc)(\textcolor{keywordtype}{size\_t} size, H5FD\_file\_image\_op\_t file\_image\_op, 
00339                             \textcolor{keywordtype}{void} *udata);
00340     \textcolor{keywordtype}{void}   *(*image\_memcpy)(\textcolor{keywordtype}{void} *dest, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *src, \textcolor{keywordtype}{size\_t} size,
00341                             H5FD\_file\_image\_op\_t file\_image\_op, \textcolor{keywordtype}{void} *udata);
00342     \textcolor{keywordtype}{void}   *(*image\_realloc)(\textcolor{keywordtype}{void} *ptr, \textcolor{keywordtype}{size\_t} size, 
00343                             H5FD\_file\_image\_op\_t file\_image\_op, \textcolor{keywordtype}{void} *udata);
00344     herr\_t  (*image\_free)(\textcolor{keywordtype}{void} *ptr, H5FD\_file\_image\_op\_t file\_image\_op, 
00345                           \textcolor{keywordtype}{void} *udata);
00346     \textcolor{keywordtype}{void}   *(*udata\_copy)(\textcolor{keywordtype}{void} *udata);
00347     herr\_t  (*udata\_free)(\textcolor{keywordtype}{void} *udata);
00348     \textcolor{keywordtype}{void} *udata;
00349 \} \hyperlink{struct_h5_f_d__file__image__callbacks__t}{H5FD\_file\_image\_callbacks\_t};
00350 
00351 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00352 \textcolor{keyword}{extern} \textcolor{stringliteral}{"C"} \{
00353 \textcolor{preprocessor}{#endif}
00354 
00355 \textcolor{comment}{/* Function prototypes */}
00356 H5\_DLL hid\_t H5FDregister(\textcolor{keyword}{const} \hyperlink{struct_h5_f_d__class__t}{H5FD\_class\_t} *cls);
00357 H5\_DLL herr\_t H5FDunregister(hid\_t driver\_id);
00358 H5\_DLL \hyperlink{struct_h5_f_d__t}{H5FD\_t} *H5FDopen(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *name, \textcolor{keywordtype}{unsigned} flags, hid\_t fapl\_id,
00359                         haddr\_t maxaddr);
00360 H5\_DLL herr\_t H5FDclose(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file});
00361 H5\_DLL \textcolor{keywordtype}{int} H5FDcmp(\textcolor{keyword}{const} \hyperlink{struct_h5_f_d__t}{H5FD\_t} *f1, \textcolor{keyword}{const} \hyperlink{struct_h5_f_d__t}{H5FD\_t} *f2);
00362 H5\_DLL \textcolor{keywordtype}{int} H5FDquery(\textcolor{keyword}{const} \hyperlink{struct_h5_f_d__t}{H5FD\_t} *f, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} *flags);
00363 H5\_DLL haddr\_t H5FDalloc(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, H5FD\_mem\_t type, hid\_t dxpl\_id, hsize\_t size);
00364 H5\_DLL herr\_t H5FDfree(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, H5FD\_mem\_t type, hid\_t dxpl\_id,
00365                        haddr\_t addr, hsize\_t size);
00366 H5\_DLL haddr\_t H5FDget\_eoa(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, H5FD\_mem\_t type);
00367 H5\_DLL herr\_t H5FDset\_eoa(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, H5FD\_mem\_t type, haddr\_t eoa);
00368 H5\_DLL haddr\_t H5FDget\_eof(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, H5FD\_mem\_t type);
00369 H5\_DLL herr\_t H5FDget\_vfd\_handle(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, hid\_t fapl, \textcolor{keywordtype}{void}**file\_handle);
00370 H5\_DLL herr\_t H5FDread(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, H5FD\_mem\_t type, hid\_t dxpl\_id,
00371                        haddr\_t addr, \textcolor{keywordtype}{size\_t} size, \textcolor{keywordtype}{void} *buf\textcolor{comment}{/*out*/});
00372 H5\_DLL herr\_t H5FDwrite(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, H5FD\_mem\_t type, hid\_t dxpl\_id,
00373                         haddr\_t addr, \textcolor{keywordtype}{size\_t} size, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *buf);
00374 H5\_DLL herr\_t H5FDflush(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, hid\_t dxpl\_id, hbool\_t closing);
00375 H5\_DLL herr\_t H5FDtruncate(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, hid\_t dxpl\_id, hbool\_t closing);
00376 H5\_DLL herr\_t H5FDlock(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file}, hbool\_t rw);
00377 H5\_DLL herr\_t H5FDunlock(\hyperlink{struct_h5_f_d__t}{H5FD\_t} *\hyperlink{structfile}{file});
00378 
00379 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00380 \}
00381 \textcolor{preprocessor}{#endif}
00382 \textcolor{preprocessor}{#endif}
00383 
\end{DoxyCode}
