\hypertarget{matio_2visual__studio_2test_2eigen_2unsupported_2test_2cxx11__tensor__index__list_8cpp_source}{}\section{matio/visual\+\_\+studio/test/eigen/unsupported/test/cxx11\+\_\+tensor\+\_\+index\+\_\+list.cpp}
\label{matio_2visual__studio_2test_2eigen_2unsupported_2test_2cxx11__tensor__index__list_8cpp_source}\index{cxx11\+\_\+tensor\+\_\+index\+\_\+list.\+cpp@{cxx11\+\_\+tensor\+\_\+index\+\_\+list.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2014 Benoit Steiner <benoit.steiner.goog@gmail.com>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#include "main.h"}
00011 
00012 \textcolor{preprocessor}{#include <Eigen/CXX11/Tensor>}
00013 
00014 \textcolor{preprocessor}{#ifdef EIGEN\_HAS\_INDEX\_LIST}
00015 
00016 \textcolor{keyword}{static} \textcolor{keywordtype}{void} test\_static\_index\_list()
00017 \{
00018   Tensor<float, 4> tensor(2,3,5,7);
00019   tensor.setRandom();
00020 
00021   constexpr \textcolor{keyword}{auto} reduction\_axis = make\_index\_list(0, 1, 2);
00022   VERIFY\_IS\_EQUAL(internal::array\_get<0>(reduction\_axis), 0);
00023   VERIFY\_IS\_EQUAL(internal::array\_get<1>(reduction\_axis), 1);
00024   VERIFY\_IS\_EQUAL(internal::array\_get<2>(reduction\_axis), 2);
00025   VERIFY\_IS\_EQUAL(static\_cast<DenseIndex>(reduction\_axis[0]), 0);
00026   VERIFY\_IS\_EQUAL(static\_cast<DenseIndex>(reduction\_axis[1]), 1);
00027   VERIFY\_IS\_EQUAL(static\_cast<DenseIndex>(reduction\_axis[2]), 2);
00028 
00029   EIGEN\_STATIC\_ASSERT((internal::array\_get<0>(reduction\_axis) == 0), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00030   EIGEN\_STATIC\_ASSERT((internal::array\_get<1>(reduction\_axis) == 1), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00031   EIGEN\_STATIC\_ASSERT((internal::array\_get<2>(reduction\_axis) == 2), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00032 
00033   Tensor<float, 1> result = tensor.sum(reduction\_axis);
00034   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < result.size(); ++i) \{
00035     \textcolor{keywordtype}{float} expected = 0.0f;
00036     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 2; ++j) \{
00037       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < 3; ++k) \{
00038         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} l = 0; l < 5; ++l) \{
00039           expected += tensor(j,k,l,i);
00040         \}
00041       \}
00042     \}
00043     VERIFY\_IS\_APPROX(result(i), expected);
00044   \}
00045 \}
00046 
00047 
00048 \textcolor{keyword}{static} \textcolor{keywordtype}{void} test\_type2index\_list()
00049 \{
00050   Tensor<float, 5> tensor(2,3,5,7,11);
00051   tensor.setRandom();
00052   tensor += tensor.constant(10.0f);
00053 
00054   \textcolor{keyword}{typedef} Eigen::IndexList<Eigen::type2index<0>> Dims0;
00055   \textcolor{keyword}{typedef} Eigen::IndexList<Eigen::type2index<0>, Eigen::type2index<1>> Dims1;
00056   \textcolor{keyword}{typedef} Eigen::IndexList<Eigen::type2index<0>, Eigen::type2index<1>, Eigen::type2index<2>> Dims2;
00057   \textcolor{keyword}{typedef} Eigen::IndexList<Eigen::type2index<0>, Eigen::type2index<1>, Eigen::type2index<2>, 
      Eigen::type2index<3>> Dims3;
00058   \textcolor{keyword}{typedef} Eigen::IndexList<Eigen::type2index<0>, Eigen::type2index<1>, Eigen::type2index<2>, 
      Eigen::type2index<3>, Eigen::type2index<4>> Dims4;
00059 
00060 \textcolor{preprocessor}{#if 0}
00061   EIGEN\_STATIC\_ASSERT((internal::indices\_statically\_known\_to\_increase<Dims0>() == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00062   EIGEN\_STATIC\_ASSERT((internal::indices\_statically\_known\_to\_increase<Dims1>() == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00063   EIGEN\_STATIC\_ASSERT((internal::indices\_statically\_known\_to\_increase<Dims2>() == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00064   EIGEN\_STATIC\_ASSERT((internal::indices\_statically\_known\_to\_increase<Dims3>() == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00065   EIGEN\_STATIC\_ASSERT((internal::indices\_statically\_known\_to\_increase<Dims4>() == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00066 \textcolor{preprocessor}{#endif}
00067 
00068   EIGEN\_STATIC\_ASSERT((internal::are\_inner\_most\_dims<Dims0, 1, ColMajor>::value == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00069   EIGEN\_STATIC\_ASSERT((internal::are\_inner\_most\_dims<Dims1, 2, ColMajor>::value == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00070   EIGEN\_STATIC\_ASSERT((internal::are\_inner\_most\_dims<Dims2, 3, ColMajor>::value == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00071   EIGEN\_STATIC\_ASSERT((internal::are\_inner\_most\_dims<Dims3, 4, ColMajor>::value == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00072   EIGEN\_STATIC\_ASSERT((internal::are\_inner\_most\_dims<Dims4, 5, ColMajor>::value == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00073 
00074   EIGEN\_STATIC\_ASSERT((internal::are\_inner\_most\_dims<Dims0, 1, RowMajor>::value == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00075   EIGEN\_STATIC\_ASSERT((internal::are\_inner\_most\_dims<Dims1, 2, RowMajor>::value == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00076   EIGEN\_STATIC\_ASSERT((internal::are\_inner\_most\_dims<Dims2, 3, RowMajor>::value == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00077   EIGEN\_STATIC\_ASSERT((internal::are\_inner\_most\_dims<Dims3, 4, RowMajor>::value == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00078   EIGEN\_STATIC\_ASSERT((internal::are\_inner\_most\_dims<Dims4, 5, RowMajor>::value == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00079 
00080   \textcolor{keyword}{const} Dims0 reduction\_axis0;
00081   Tensor<float, 4> result0 = tensor.sum(reduction\_axis0);
00082   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} m = 0; m < 11; ++m) \{
00083     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} l = 0; l < 7; ++l) \{
00084       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < 5; ++k) \{
00085         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
00086           \textcolor{keywordtype}{float} expected = 0.0f;
00087           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i) \{
00088             expected += tensor(i,j,k,l,m);
00089           \}
00090           VERIFY\_IS\_APPROX(result0(j,k,l,m), expected);
00091         \}
00092       \}
00093     \}
00094   \}
00095 
00096   \textcolor{keyword}{const} Dims1 reduction\_axis1;
00097   Tensor<float, 3> result1 = tensor.sum(reduction\_axis1);
00098   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} m = 0; m < 11; ++m) \{
00099     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} l = 0; l < 7; ++l) \{
00100       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < 5; ++k) \{
00101         \textcolor{keywordtype}{float} expected = 0.0f;
00102         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
00103           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i) \{
00104             expected += tensor(i,j,k,l,m);
00105           \}
00106         \}
00107         VERIFY\_IS\_APPROX(result1(k,l,m), expected);
00108       \}
00109     \}
00110   \}
00111 
00112   \textcolor{keyword}{const} Dims2 reduction\_axis2;
00113   Tensor<float, 2> result2 = tensor.sum(reduction\_axis2);
00114   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} m = 0; m < 11; ++m) \{
00115     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} l = 0; l < 7; ++l) \{
00116       \textcolor{keywordtype}{float} expected = 0.0f;
00117       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < 5; ++k) \{
00118         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
00119           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i) \{
00120             expected += tensor(i,j,k,l,m);
00121           \}
00122         \}
00123       \}
00124       VERIFY\_IS\_APPROX(result2(l,m), expected);
00125     \}
00126   \}
00127 
00128   \textcolor{keyword}{const} Dims3 reduction\_axis3;
00129   Tensor<float, 1> result3 = tensor.sum(reduction\_axis3);
00130   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} m = 0; m < 11; ++m) \{
00131     \textcolor{keywordtype}{float} expected = 0.0f;
00132     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} l = 0; l < 7; ++l) \{
00133       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < 5; ++k) \{
00134         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
00135           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i) \{
00136             expected += tensor(i,j,k,l,m);
00137           \}
00138         \}
00139       \}
00140     \}
00141     VERIFY\_IS\_APPROX(result3(m), expected);
00142   \}
00143 
00144   \textcolor{keyword}{const} Dims4 reduction\_axis4;
00145   Tensor<float, 0> result4 = tensor.sum(reduction\_axis4);
00146   \textcolor{keywordtype}{float} expected = 0.0f;
00147   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} m = 0; m < 11; ++m) \{
00148     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} l = 0; l < 7; ++l) \{
00149       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < 5; ++k) \{
00150         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
00151           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i) \{
00152             expected += tensor(i,j,k,l,m);
00153           \}
00154         \}
00155       \}
00156     \}
00157   \}
00158   VERIFY\_IS\_APPROX(result4(), expected);
00159 \}
00160 
00161 
00162 \textcolor{keyword}{static} \textcolor{keywordtype}{void} test\_type2indexpair\_list()
00163 \{
00164   Tensor<float, 5> tensor(2,3,5,7,11);
00165   tensor.setRandom();
00166   tensor += tensor.constant(10.0f);
00167 
00168   \textcolor{keyword}{typedef} Eigen::IndexPairList<Eigen::type2indexpair<0,10>> Dims0;
00169   \textcolor{keyword}{typedef} Eigen::IndexPairList<Eigen::type2indexpair<0,10>, Eigen::type2indexpair<1,11>, 
      Eigen::type2indexpair<2,12>> Dims2\_a;
00170   \textcolor{keyword}{typedef} Eigen::IndexPairList<Eigen::type2indexpair<0,10>, 
      \hyperlink{struct_eigen_1_1_index_pair}{Eigen::IndexPair<DenseIndex>}, Eigen::type2indexpair<2,12>> Dims2\_b;
00171   \textcolor{keyword}{typedef} Eigen::IndexPairList<Eigen::IndexPair<DenseIndex>, Eigen::type2indexpair<1,11>, 
      Eigen::IndexPair<DenseIndex>> Dims2\_c;
00172 
00173   Dims0 d0;
00174   Dims2\_a d2\_a;
00175 
00176   Dims2\_b d2\_b;
00177   d2\_b.set(1, Eigen::IndexPair<DenseIndex>(1,11));
00178 
00179   Dims2\_c d2\_c;
00180   d2\_c.set(0, Eigen::IndexPair<DenseIndex>(Eigen::IndexPair<DenseIndex>(0,10)));
00181   d2\_c.set(1, Eigen::IndexPair<DenseIndex>(1,11));  \textcolor{comment}{// setting type2indexpair to correct value.}
00182   d2\_c.set(2, Eigen::IndexPair<DenseIndex>(2,12));
00183 
00184   VERIFY\_IS\_EQUAL(d2\_a[0].first, 0);
00185   VERIFY\_IS\_EQUAL(d2\_a[0].second, 10);
00186   VERIFY\_IS\_EQUAL(d2\_a[1].first, 1);
00187   VERIFY\_IS\_EQUAL(d2\_a[1].second, 11);
00188   VERIFY\_IS\_EQUAL(d2\_a[2].first, 2);
00189   VERIFY\_IS\_EQUAL(d2\_a[2].second, 12);
00190 
00191   VERIFY\_IS\_EQUAL(d2\_b[0].first, 0);
00192   VERIFY\_IS\_EQUAL(d2\_b[0].second, 10);
00193   VERIFY\_IS\_EQUAL(d2\_b[1].first, 1);
00194   VERIFY\_IS\_EQUAL(d2\_b[1].second, 11);
00195   VERIFY\_IS\_EQUAL(d2\_b[2].first, 2);
00196   VERIFY\_IS\_EQUAL(d2\_b[2].second, 12);
00197 
00198   VERIFY\_IS\_EQUAL(d2\_c[0].first, 0);
00199   VERIFY\_IS\_EQUAL(d2\_c[0].second, 10);
00200   VERIFY\_IS\_EQUAL(d2\_c[1].first, 1);
00201   VERIFY\_IS\_EQUAL(d2\_c[1].second, 11);
00202   VERIFY\_IS\_EQUAL(d2\_c[2].first, 2);
00203   VERIFY\_IS\_EQUAL(d2\_c[2].second, 12);
00204 
00205   EIGEN\_STATIC\_ASSERT((d2\_a.value\_known\_statically(0) == \textcolor{keyword}{true}), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00206   EIGEN\_STATIC\_ASSERT((d2\_a.value\_known\_statically(1) == \textcolor{keyword}{true}), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00207   EIGEN\_STATIC\_ASSERT((d2\_a.value\_known\_statically(2) == \textcolor{keyword}{true}), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00208 
00209   EIGEN\_STATIC\_ASSERT((d2\_b.value\_known\_statically(0) == \textcolor{keyword}{true}), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00210   EIGEN\_STATIC\_ASSERT((d2\_b.value\_known\_statically(1) == \textcolor{keyword}{false}), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00211   EIGEN\_STATIC\_ASSERT((d2\_b.value\_known\_statically(2) == \textcolor{keyword}{true}), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00212 
00213   EIGEN\_STATIC\_ASSERT((d2\_c.value\_known\_statically(0) == \textcolor{keyword}{false}), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00214   EIGEN\_STATIC\_ASSERT((d2\_c.value\_known\_statically(1) == \textcolor{keyword}{true}), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00215   EIGEN\_STATIC\_ASSERT((d2\_c.value\_known\_statically(2) == \textcolor{keyword}{false}), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00216 
00217   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims0>(0, 0) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00218   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims0>(0, 1) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00219 
00220   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_a>(0, 0) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00221   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_a>(0, 1) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00222   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_a>(1, 1) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00223   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_a>(1, 2) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00224   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_a>(2, 2) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00225   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_a>(2, 3) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00226 
00227   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_b>(0, 0) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00228   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_b>(0, 1) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00229   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_b>(1, 1) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00230   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_b>(1, 2) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00231   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_b>(2, 2) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00232   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_b>(2, 3) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00233 
00234   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_c>(0, 0) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00235   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_c>(0, 1) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00236   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_c>(1, 1) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00237   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_c>(1, 2) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00238   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_c>(2, 2) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00239   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_first\_statically\_eq<Dims2\_c>(2, 3) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00240 
00241   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims0>(0, 10) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00242   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims0>(0, 11) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00243 
00244   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_a>(0, 10) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00245   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_a>(0, 11) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00246   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_a>(1, 11) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00247   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_a>(1, 12) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00248   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_a>(2, 12) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00249   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_a>(2, 13) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00250 
00251   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_b>(0, 10) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00252   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_b>(0, 11) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00253   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_b>(1, 11) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00254   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_b>(1, 12) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00255   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_b>(2, 12) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00256   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_b>(2, 13) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00257 
00258   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_c>(0, 10) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00259   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_c>(0, 11) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00260   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_c>(1, 11) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00261   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_c>(1, 12) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00262   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_c>(2, 12) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00263   EIGEN\_STATIC\_ASSERT((Eigen::internal::index\_pair\_second\_statically\_eq<Dims2\_c>(2, 13) == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00264 \}
00265 
00266 
00267 \textcolor{keyword}{static} \textcolor{keywordtype}{void} test\_dynamic\_index\_list()
00268 \{
00269   Tensor<float, 4> tensor(2,3,5,7);
00270   tensor.setRandom();
00271 
00272   \textcolor{keywordtype}{int} dim1 = 2;
00273   \textcolor{keywordtype}{int} dim2 = 1;
00274   \textcolor{keywordtype}{int} dim3 = 0;
00275 
00276   \textcolor{keyword}{auto} reduction\_axis = make\_index\_list(dim1, dim2, dim3);
00277 
00278   VERIFY\_IS\_EQUAL(internal::array\_get<0>(reduction\_axis), 2);
00279   VERIFY\_IS\_EQUAL(internal::array\_get<1>(reduction\_axis), 1);
00280   VERIFY\_IS\_EQUAL(internal::array\_get<2>(reduction\_axis), 0);
00281   VERIFY\_IS\_EQUAL(static\_cast<DenseIndex>(reduction\_axis[0]), 2);
00282   VERIFY\_IS\_EQUAL(static\_cast<DenseIndex>(reduction\_axis[1]), 1);
00283   VERIFY\_IS\_EQUAL(static\_cast<DenseIndex>(reduction\_axis[2]), 0);
00284 
00285   Tensor<float, 1> result = tensor.sum(reduction\_axis);
00286   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < result.size(); ++i) \{
00287     \textcolor{keywordtype}{float} expected = 0.0f;
00288     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 2; ++j) \{
00289       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < 3; ++k) \{
00290         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} l = 0; l < 5; ++l) \{
00291           expected += tensor(j,k,l,i);
00292         \}
00293       \}
00294     \}
00295     VERIFY\_IS\_APPROX(result(i), expected);
00296   \}
00297 \}
00298 
00299 \textcolor{keyword}{static} \textcolor{keywordtype}{void} test\_mixed\_index\_list()
00300 \{
00301   Tensor<float, 4> tensor(2,3,5,7);
00302   tensor.setRandom();
00303 
00304   \textcolor{keywordtype}{int} dim2 = 1;
00305   \textcolor{keywordtype}{int} dim4 = 3;
00306 
00307   \textcolor{keyword}{auto} reduction\_axis = make\_index\_list(0, dim2, 2, dim4);
00308 
00309   VERIFY\_IS\_EQUAL(internal::array\_get<0>(reduction\_axis), 0);
00310   VERIFY\_IS\_EQUAL(internal::array\_get<1>(reduction\_axis), 1);
00311   VERIFY\_IS\_EQUAL(internal::array\_get<2>(reduction\_axis), 2);
00312   VERIFY\_IS\_EQUAL(internal::array\_get<3>(reduction\_axis), 3);
00313   VERIFY\_IS\_EQUAL(static\_cast<DenseIndex>(reduction\_axis[0]), 0);
00314   VERIFY\_IS\_EQUAL(static\_cast<DenseIndex>(reduction\_axis[1]), 1);
00315   VERIFY\_IS\_EQUAL(static\_cast<DenseIndex>(reduction\_axis[2]), 2);
00316   VERIFY\_IS\_EQUAL(static\_cast<DenseIndex>(reduction\_axis[3]), 3);
00317 
00318   \textcolor{keyword}{typedef} IndexList<type2index<0>, int, type2index<2>, \textcolor{keywordtype}{int}> ReductionIndices;
00319   ReductionIndices reduction\_indices;
00320   reduction\_indices.set(1, 1);
00321   reduction\_indices.set(3, 3);
00322   EIGEN\_STATIC\_ASSERT((internal::array\_get<0>(reduction\_indices) == 0), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00323   EIGEN\_STATIC\_ASSERT((internal::array\_get<2>(reduction\_indices) == 2), YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00324   EIGEN\_STATIC\_ASSERT((internal::index\_known\_statically<ReductionIndices>(0) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00325   EIGEN\_STATIC\_ASSERT((internal::index\_known\_statically<ReductionIndices>(2) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00326   EIGEN\_STATIC\_ASSERT((internal::index\_statically\_eq<ReductionIndices>(0, 0) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00327   EIGEN\_STATIC\_ASSERT((internal::index\_statically\_eq<ReductionIndices>(2, 2) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00328 \textcolor{preprocessor}{#if 0}
00329   EIGEN\_STATIC\_ASSERT((internal::all\_indices\_known\_statically<ReductionIndices>() == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00330   EIGEN\_STATIC\_ASSERT((internal::indices\_statically\_known\_to\_increase<ReductionIndices>() == \textcolor{keyword}{false}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00331 \textcolor{preprocessor}{#endif}
00332 
00333   \textcolor{keyword}{typedef} IndexList<type2index<0>, type2index<1>, type2index<2>, type2index<3>> ReductionList;
00334   ReductionList reduction\_list;
00335   EIGEN\_STATIC\_ASSERT((internal::index\_statically\_eq<ReductionList>(0, 0) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00336   EIGEN\_STATIC\_ASSERT((internal::index\_statically\_eq<ReductionList>(1, 1) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00337   EIGEN\_STATIC\_ASSERT((internal::index\_statically\_eq<ReductionList>(2, 2) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00338   EIGEN\_STATIC\_ASSERT((internal::index\_statically\_eq<ReductionList>(3, 3) == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00339 \textcolor{preprocessor}{#if 0}
00340   EIGEN\_STATIC\_ASSERT((internal::all\_indices\_known\_statically<ReductionList>() == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00341   EIGEN\_STATIC\_ASSERT((internal::indices\_statically\_known\_to\_increase<ReductionList>() == \textcolor{keyword}{true}), 
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);
00342 \textcolor{preprocessor}{#endif}
00343 
00344   Tensor<float, 0> result1 = tensor.sum(reduction\_axis);
00345   Tensor<float, 0> result2 = tensor.sum(reduction\_indices);
00346   Tensor<float, 0> result3 = tensor.sum(reduction\_list);
00347 
00348   \textcolor{keywordtype}{float} expected = 0.0f;
00349   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i) \{
00350     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
00351       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < 5; ++k) \{
00352         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} l = 0; l < 7; ++l) \{
00353           expected += tensor(i,j,k,l);
00354         \}
00355       \}
00356     \}
00357   \}
00358   VERIFY\_IS\_APPROX(result1(), expected);
00359   VERIFY\_IS\_APPROX(result2(), expected);
00360   VERIFY\_IS\_APPROX(result3(), expected);
00361 \}
00362 
00363 
00364 \textcolor{keyword}{static} \textcolor{keywordtype}{void} test\_dim\_check()
00365 \{
00366   Eigen::IndexList<Eigen::type2index<1>, \textcolor{keywordtype}{int}> dim1;
00367   dim1.set(1, 2);
00368   Eigen::IndexList<Eigen::type2index<1>, \textcolor{keywordtype}{int}> dim2;
00369   dim2.set(1, 2);
00370   VERIFY(dimensions\_match(dim1, dim2));
00371 \}
00372 
00373 
00374 \textcolor{preprocessor}{#endif}
00375 
00376 \textcolor{keywordtype}{void} test\_cxx11\_tensor\_index\_list()
00377 \{
00378 \textcolor{preprocessor}{#ifdef EIGEN\_HAS\_INDEX\_LIST}
00379   CALL\_SUBTEST(test\_static\_index\_list());
00380   CALL\_SUBTEST(test\_type2index\_list());
00381   CALL\_SUBTEST(test\_type2indexpair\_list());
00382   CALL\_SUBTEST(test\_dynamic\_index\_list());
00383   CALL\_SUBTEST(test\_mixed\_index\_list());
00384   CALL\_SUBTEST(test\_dim\_check());
00385 \textcolor{preprocessor}{#endif}
00386 \}
\end{DoxyCode}
