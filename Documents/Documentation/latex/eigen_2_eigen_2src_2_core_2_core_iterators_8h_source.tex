\hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source}{}\section{eigen/\+Eigen/src/\+Core/\+Core\+Iterators.h}
\label{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source}\index{Core\+Iterators.\+h@{Core\+Iterators.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2008-2014 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_COREITERATORS\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_COREITERATORS\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{ 
00014 
00015 \textcolor{comment}{/* This file contains the respective InnerIterator definition of the expressions defined in Eigen/Core}
00016 \textcolor{comment}{ */}
00017 
00018 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00019 
00020 \textcolor{keyword}{template}<\textcolor{keyword}{typename} XprType, \textcolor{keyword}{typename} EvaluatorKind>
\Hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source_l00021}\hyperlink{class_eigen_1_1internal_1_1inner__iterator__selector}{00021} \textcolor{keyword}{class }\hyperlink{class_eigen_1_1internal_1_1inner__iterator__selector}{inner\_iterator\_selector};
00022 
00023 \}
00024 
00032 \textcolor{keyword}{template}<\textcolor{keyword}{typename} XprType>
\Hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source_l00033}\hyperlink{class_eigen_1_1_inner_iterator}{00033} \textcolor{keyword}{class }\hyperlink{class_eigen_1_1_inner_iterator}{InnerIterator}
00034 \{
00035 \textcolor{keyword}{protected}:
00036   \textcolor{keyword}{typedef} 
      \hyperlink{class_eigen_1_1internal_1_1inner__iterator__selector}{internal::inner\_iterator\_selector<XprType, typename internal::evaluator\_traits<XprType>::Kind}
      > \hyperlink{class_eigen_1_1internal_1_1inner__iterator__selector}{IteratorType};
00037   \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{internal::evaluator<XprType>} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{EvaluatorType};
00038   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<XprType>::Scalar} Scalar;
00039 \textcolor{keyword}{public}:
\Hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source_l00041}\hyperlink{class_eigen_1_1_inner_iterator_abbcdcf4d5ecb4445654b7940204cb750}{00041}   \hyperlink{class_eigen_1_1_inner_iterator_abbcdcf4d5ecb4445654b7940204cb750}{InnerIterator}(\textcolor{keyword}{const} XprType &xpr, \textcolor{keyword}{const} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} &outerId)
00042     : m\_eval(xpr), m\_iter(m\_eval, outerId, xpr.innerSize())
00043   \{\}
00044   
\Hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source_l00046}\hyperlink{class_eigen_1_1_inner_iterator_ab04bccb41eb22ffcb92dc61125aab119}{00046}   EIGEN\_STRONG\_INLINE Scalar \hyperlink{class_eigen_1_1_inner_iterator_ab04bccb41eb22ffcb92dc61125aab119}{value}()\textcolor{keyword}{ const          }\{ \textcolor{keywordflow}{return} m\_iter.value(); \}
\Hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source_l00050}\hyperlink{class_eigen_1_1_inner_iterator_ae4ed2eece5291e23d870b7238878e2f1}{00050}   EIGEN\_STRONG\_INLINE \hyperlink{class_eigen_1_1_inner_iterator}{InnerIterator}& \hyperlink{class_eigen_1_1_inner_iterator_ae4ed2eece5291e23d870b7238878e2f1}{operator++}()   \{ m\_iter.operator++(); \textcolor{keywordflow}{return} *\textcolor{keyword}{
      this}; \}
\Hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source_l00052}\hyperlink{class_eigen_1_1_inner_iterator_ac9e0e40b8aceb192a0e1c7d656148760}{00052}   EIGEN\_STRONG\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} \hyperlink{class_eigen_1_1_inner_iterator_ac9e0e40b8aceb192a0e1c7d656148760}{index}()\textcolor{keyword}{ const           }\{ \textcolor{keywordflow}{return} m\_iter.index(); \}
\Hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source_l00054}\hyperlink{class_eigen_1_1_inner_iterator_a3ab6f3afdf62740623cdc9ecb14dc132}{00054}   EIGEN\_STRONG\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} \hyperlink{class_eigen_1_1_inner_iterator_a3ab6f3afdf62740623cdc9ecb14dc132}{row}()\textcolor{keyword}{ const             }\{ \textcolor{keywordflow}{return} m\_iter.row(); \}
\Hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source_l00056}\hyperlink{class_eigen_1_1_inner_iterator_a1d2ccb720e90bc6928064cc30c41fb93}{00056}   EIGEN\_STRONG\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} \hyperlink{class_eigen_1_1_inner_iterator_a1d2ccb720e90bc6928064cc30c41fb93}{col}()\textcolor{keyword}{ const             }\{ \textcolor{keywordflow}{return} m\_iter.col(); \}
\Hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source_l00058}\hyperlink{class_eigen_1_1_inner_iterator_a0f11df2dfcd1c48c54aa29e605c09310}{00058}   EIGEN\_STRONG\_INLINE \textcolor{keyword}{operator} bool()\textcolor{keyword}{ const         }\{ \textcolor{keywordflow}{return} m\_iter; \}
00059   
00060 \textcolor{keyword}{protected}:
00061   EvaluatorType m\_eval;
00062   IteratorType m\_iter;
00063 \textcolor{keyword}{private}:
00064   \textcolor{comment}{// If you get here, then you're not using the right InnerIterator type, e.g.:}
00065   \textcolor{comment}{//   SparseMatrix<double,RowMajor> A;}
00066   \textcolor{comment}{//   SparseMatrix<double>::InnerIterator it(A,0);}
00067   \textcolor{keyword}{template}<\textcolor{keyword}{typename} T> \hyperlink{class_eigen_1_1_inner_iterator}{InnerIterator}(\textcolor{keyword}{const} \hyperlink{group___core___module_struct_eigen_1_1_eigen_base}{EigenBase<T>}&,
      \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} outer);
00068 \};
00069 
00070 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00071 
00072 \textcolor{comment}{// Generic inner iterator implementation for dense objects}
00073 \textcolor{keyword}{template}<\textcolor{keyword}{typename} XprType>
\Hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source_l00074}\hyperlink{class_eigen_1_1internal_1_1inner__iterator__selector_3_01_xpr_type_00_01_index_based_01_4}{00074} \textcolor{keyword}{class }\hyperlink{class_eigen_1_1internal_1_1inner__iterator__selector}{inner\_iterator\_selector}<XprType, \hyperlink{struct_eigen_1_1internal_1_1_index_based}{IndexBased}>
00075 \{
00076 \textcolor{keyword}{protected}:
00077   \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator<XprType>} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{EvaluatorType};
00078   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits<XprType>::Scalar} Scalar;
00079   \textcolor{keyword}{enum} \{ IsRowMajor = (XprType::Flags&\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit})==\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit} \};
00080   
00081 \textcolor{keyword}{public}:
00082   EIGEN\_STRONG\_INLINE \hyperlink{class_eigen_1_1internal_1_1inner__iterator__selector}{inner\_iterator\_selector}(\textcolor{keyword}{const} EvaluatorType &
      \hyperlink{struct_eigen_1_1internal_1_1eval}{eval}, \textcolor{keyword}{const} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} &outerId, \textcolor{keyword}{const} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} &innerSize)
00083     : m\_eval(eval), m\_inner(0), m\_outer(outerId), m\_end(innerSize)
00084   \{\}
00085 
00086   EIGEN\_STRONG\_INLINE Scalar value()\textcolor{keyword}{ const}
00087 \textcolor{keyword}{  }\{
00088     \textcolor{keywordflow}{return} (IsRowMajor) ? m\_eval.coeff(m\_outer, m\_inner)
00089                         : m\_eval.coeff(m\_inner, m\_outer);
00090   \}
00091 
00092   EIGEN\_STRONG\_INLINE inner\_iterator\_selector& operator++() \{ m\_inner++; \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
00093 
00094   EIGEN\_STRONG\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} index()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_inner; \}
00095   \textcolor{keyword}{inline} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} row()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} IsRowMajor ? m\_outer : index(); \}
00096   \textcolor{keyword}{inline} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} col()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} IsRowMajor ? index() : m\_outer; \}
00097 
00098   EIGEN\_STRONG\_INLINE \textcolor{keyword}{operator} bool()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_inner < m\_end && m\_inner>=0; \}
00099 
00100 \textcolor{keyword}{protected}:
00101   \textcolor{keyword}{const} EvaluatorType& m\_eval;
00102   \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} m\_inner;
00103   \textcolor{keyword}{const} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} m\_outer;
00104   \textcolor{keyword}{const} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} m\_end;
00105 \};
00106 
00107 \textcolor{comment}{// For iterator-based evaluator, inner-iterator is already implemented as}
00108 \textcolor{comment}{// evaluator<>::InnerIterator}
00109 \textcolor{keyword}{template}<\textcolor{keyword}{typename} XprType>
\Hypertarget{eigen_2_eigen_2src_2_core_2_core_iterators_8h_source_l00110}\hyperlink{class_eigen_1_1internal_1_1inner__iterator__selector_3_01_xpr_type_00_01_iterator_based_01_4}{00110} \textcolor{keyword}{class }\hyperlink{class_eigen_1_1internal_1_1inner__iterator__selector}{inner\_iterator\_selector}<XprType, \hyperlink{struct_eigen_1_1internal_1_1_iterator_based}{IteratorBased}>
00111  : \textcolor{keyword}{public} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}<XprType>\hyperlink{class_eigen_1_1_inner_iterator}{::InnerIterator}
00112 \{
00113 \textcolor{keyword}{protected}:
00114   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator<XprType>::InnerIterator} Base;
00115   \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator<XprType>} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{EvaluatorType};
00116   
00117 \textcolor{keyword}{public}:
00118   EIGEN\_STRONG\_INLINE \hyperlink{class_eigen_1_1internal_1_1inner__iterator__selector}{inner\_iterator\_selector}(\textcolor{keyword}{const} EvaluatorType &
      \hyperlink{struct_eigen_1_1internal_1_1eval}{eval}, \textcolor{keyword}{const} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} &outerId, \textcolor{keyword}{const} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} &\textcolor{comment}{/*innerSize*/})
00119     : Base(eval, outerId)
00120   \{\}  
00121 \};
00122 
00123 \} \textcolor{comment}{// end namespace internal}
00124 
00125 \} \textcolor{comment}{// end namespace Eigen}
00126 
00127 \textcolor{preprocessor}{#endif // EIGEN\_COREITERATORS\_H}
\end{DoxyCode}
