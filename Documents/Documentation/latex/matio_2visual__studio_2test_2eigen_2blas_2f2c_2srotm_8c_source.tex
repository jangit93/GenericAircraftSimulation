\hypertarget{matio_2visual__studio_2test_2eigen_2blas_2f2c_2srotm_8c_source}{}\section{matio/visual\+\_\+studio/test/eigen/blas/f2c/srotm.c}
\label{matio_2visual__studio_2test_2eigen_2blas_2f2c_2srotm_8c_source}\index{srotm.\+c@{srotm.\+c}}

\begin{DoxyCode}
00001 \textcolor{comment}{/* srotm.f -- translated by f2c (version 20100827).}
00002 \textcolor{comment}{   You must link the resulting object file with libf2c:}
00003 \textcolor{comment}{    on Microsoft Windows system, link with libf2c.lib;}
00004 \textcolor{comment}{    on Linux or Unix systems, link with .../path/to/libf2c.a -lm}
00005 \textcolor{comment}{    or, if you install libf2c.a in a standard place, with -lf2c -lm}
00006 \textcolor{comment}{    -- in that order, at the end of the command line, as in}
00007 \textcolor{comment}{        cc *.o -lf2c -lm}
00008 \textcolor{comment}{    Source for libf2c is in /netlib/f2c/libf2c.zip, e.g.,}
00009 \textcolor{comment}{}
00010 \textcolor{comment}{        http://www.netlib.org/f2c/libf2c.zip}
00011 \textcolor{comment}{*/}
00012 
00013 \textcolor{preprocessor}{#include "datatypes.h"}
00014 
00015 \textcolor{comment}{/* Subroutine */} \textcolor{keywordtype}{int} srotm\_(integer *n, real *sx, integer *incx, real *sy, 
00016     integer *incy, real *sparam)
00017 \{
00018     \textcolor{comment}{/* Initialized data */}
00019 
00020     \textcolor{keyword}{static} real zero = 0.f;
00021     \textcolor{keyword}{static} real two = 2.f;
00022 
00023     \textcolor{comment}{/* System generated locals */}
00024     integer i\_\_1, i\_\_2;
00025 
00026     \textcolor{comment}{/* Local variables */}
00027     integer i\_\_;
00028     real w, z\_\_;
00029     integer kx, ky;
00030     real sh11, sh12, sh21, sh22, sflag;
00031     integer nsteps;
00032 
00033 \textcolor{comment}{/*     .. Scalar Arguments .. */}
00034 \textcolor{comment}{/*     .. */}
00035 \textcolor{comment}{/*     .. Array Arguments .. */}
00036 \textcolor{comment}{/*     .. */}
00037 
00038 \textcolor{comment}{/*  Purpose */}
00039 \textcolor{comment}{/*  ======= */}
00040 
00041 \textcolor{comment}{/*     APPLY THE MODIFIED GIVENS TRANSFORMATION, H, TO THE 2 BY N MATRIX */}
00042 
00043 \textcolor{comment}{/*     (SX**T) , WHERE **T INDICATES TRANSPOSE. THE ELEMENTS OF SX ARE IN */}
00044 \textcolor{comment}{/*     (DX**T) */}
00045 
00046 \textcolor{comment}{/*     SX(LX+I*INCX), I = 0 TO N-1, WHERE LX = 1 IF INCX .GE. 0, ELSE */}
00047 \textcolor{comment}{/*     LX = (-INCX)*N, AND SIMILARLY FOR SY USING USING LY AND INCY. */}
00048 \textcolor{comment}{/*     WITH SPARAM(1)=SFLAG, H HAS ONE OF THE FOLLOWING FORMS.. */}
00049 
00050 \textcolor{comment}{/*     SFLAG=-1.E0     SFLAG=0.E0        SFLAG=1.E0     SFLAG=-2.E0 */}
00051 
00052 \textcolor{comment}{/*       (SH11  SH12)    (1.E0  SH12)    (SH11  1.E0)    (1.E0  0.E0) */}
00053 \textcolor{comment}{/*     H=(          )    (          )    (          )    (          ) */}
00054 \textcolor{comment}{/*       (SH21  SH22),   (SH21  1.E0),   (-1.E0 SH22),   (0.E0  1.E0). */}
00055 \textcolor{comment}{/*     SEE  SROTMG FOR A DESCRIPTION OF DATA STORAGE IN SPARAM. */}
00056 
00057 
00058 \textcolor{comment}{/*  Arguments */}
00059 \textcolor{comment}{/*  ========= */}
00060 
00061 \textcolor{comment}{/*  N      (input) INTEGER */}
00062 \textcolor{comment}{/*         number of elements in input vector(s) */}
00063 
00064 \textcolor{comment}{/*  SX     (input/output) REAL array, dimension N */}
00065 \textcolor{comment}{/*         double precision vector with N elements */}
00066 
00067 \textcolor{comment}{/*  INCX   (input) INTEGER */}
00068 \textcolor{comment}{/*         storage spacing between elements of SX */}
00069 
00070 \textcolor{comment}{/*  SY     (input/output) REAL array, dimension N */}
00071 \textcolor{comment}{/*         double precision vector with N elements */}
00072 
00073 \textcolor{comment}{/*  INCY   (input) INTEGER */}
00074 \textcolor{comment}{/*         storage spacing between elements of SY */}
00075 
00076 \textcolor{comment}{/*  SPARAM (input/output)  REAL array, dimension 5 */}
00077 \textcolor{comment}{/*     SPARAM(1)=SFLAG */}
00078 \textcolor{comment}{/*     SPARAM(2)=SH11 */}
00079 \textcolor{comment}{/*     SPARAM(3)=SH21 */}
00080 \textcolor{comment}{/*     SPARAM(4)=SH12 */}
00081 \textcolor{comment}{/*     SPARAM(5)=SH22 */}
00082 
00083 \textcolor{comment}{/*  ===================================================================== */}
00084 
00085 \textcolor{comment}{/*     .. Local Scalars .. */}
00086 \textcolor{comment}{/*     .. */}
00087 \textcolor{comment}{/*     .. Data statements .. */}
00088     \textcolor{comment}{/* Parameter adjustments */}
00089     --sparam;
00090     --sy;
00091     --sx;
00092 
00093     \textcolor{comment}{/* Function Body */}
00094 \textcolor{comment}{/*     .. */}
00095 
00096     sflag = sparam[1];
00097     \textcolor{keywordflow}{if} (*n <= 0 || sflag + two == zero) \{
00098     \textcolor{keywordflow}{goto} L140;
00099     \}
00100     \textcolor{keywordflow}{if} (! (*incx == *incy && *incx > 0)) \{
00101     \textcolor{keywordflow}{goto} L70;
00102     \}
00103 
00104     nsteps = *n * *incx;
00105     \textcolor{keywordflow}{if} (sflag < 0.f) \{
00106     \textcolor{keywordflow}{goto} L50;
00107     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sflag == 0) \{
00108     \textcolor{keywordflow}{goto} L10;
00109     \} \textcolor{keywordflow}{else} \{
00110     \textcolor{keywordflow}{goto} L30;
00111     \}
00112 L10:
00113     sh12 = sparam[4];
00114     sh21 = sparam[3];
00115     i\_\_1 = nsteps;
00116     i\_\_2 = *incx;
00117     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_2 < 0 ? i\_\_ >= i\_\_1 : i\_\_ <= i\_\_1; i\_\_ += i\_\_2) \{
00118     w = sx[i\_\_];
00119     z\_\_ = sy[i\_\_];
00120     sx[i\_\_] = w + z\_\_ * sh12;
00121     sy[i\_\_] = w * sh21 + z\_\_;
00122 \textcolor{comment}{/* L20: */}
00123     \}
00124     \textcolor{keywordflow}{goto} L140;
00125 L30:
00126     sh11 = sparam[2];
00127     sh22 = sparam[5];
00128     i\_\_2 = nsteps;
00129     i\_\_1 = *incx;
00130     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_1 < 0 ? i\_\_ >= i\_\_2 : i\_\_ <= i\_\_2; i\_\_ += i\_\_1) \{
00131     w = sx[i\_\_];
00132     z\_\_ = sy[i\_\_];
00133     sx[i\_\_] = w * sh11 + z\_\_;
00134     sy[i\_\_] = -w + sh22 * z\_\_;
00135 \textcolor{comment}{/* L40: */}
00136     \}
00137     \textcolor{keywordflow}{goto} L140;
00138 L50:
00139     sh11 = sparam[2];
00140     sh12 = sparam[4];
00141     sh21 = sparam[3];
00142     sh22 = sparam[5];
00143     i\_\_1 = nsteps;
00144     i\_\_2 = *incx;
00145     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_2 < 0 ? i\_\_ >= i\_\_1 : i\_\_ <= i\_\_1; i\_\_ += i\_\_2) \{
00146     w = sx[i\_\_];
00147     z\_\_ = sy[i\_\_];
00148     sx[i\_\_] = w * sh11 + z\_\_ * sh12;
00149     sy[i\_\_] = w * sh21 + z\_\_ * sh22;
00150 \textcolor{comment}{/* L60: */}
00151     \}
00152     \textcolor{keywordflow}{goto} L140;
00153 L70:
00154     kx = 1;
00155     ky = 1;
00156     \textcolor{keywordflow}{if} (*incx < 0) \{
00157     kx = (1 - *n) * *incx + 1;
00158     \}
00159     \textcolor{keywordflow}{if} (*incy < 0) \{
00160     ky = (1 - *n) * *incy + 1;
00161     \}
00162 
00163     \textcolor{keywordflow}{if} (sflag < 0.f) \{
00164     \textcolor{keywordflow}{goto} L120;
00165     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sflag == 0) \{
00166     \textcolor{keywordflow}{goto} L80;
00167     \} \textcolor{keywordflow}{else} \{
00168     \textcolor{keywordflow}{goto} L100;
00169     \}
00170 L80:
00171     sh12 = sparam[4];
00172     sh21 = sparam[3];
00173     i\_\_2 = *n;
00174     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_ <= i\_\_2; ++i\_\_) \{
00175     w = sx[kx];
00176     z\_\_ = sy[ky];
00177     sx[kx] = w + z\_\_ * sh12;
00178     sy[ky] = w * sh21 + z\_\_;
00179     kx += *incx;
00180     ky += *incy;
00181 \textcolor{comment}{/* L90: */}
00182     \}
00183     \textcolor{keywordflow}{goto} L140;
00184 L100:
00185     sh11 = sparam[2];
00186     sh22 = sparam[5];
00187     i\_\_2 = *n;
00188     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_ <= i\_\_2; ++i\_\_) \{
00189     w = sx[kx];
00190     z\_\_ = sy[ky];
00191     sx[kx] = w * sh11 + z\_\_;
00192     sy[ky] = -w + sh22 * z\_\_;
00193     kx += *incx;
00194     ky += *incy;
00195 \textcolor{comment}{/* L110: */}
00196     \}
00197     \textcolor{keywordflow}{goto} L140;
00198 L120:
00199     sh11 = sparam[2];
00200     sh12 = sparam[4];
00201     sh21 = sparam[3];
00202     sh22 = sparam[5];
00203     i\_\_2 = *n;
00204     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_ <= i\_\_2; ++i\_\_) \{
00205     w = sx[kx];
00206     z\_\_ = sy[ky];
00207     sx[kx] = w * sh11 + z\_\_ * sh12;
00208     sy[ky] = w * sh21 + z\_\_ * sh22;
00209     kx += *incx;
00210     ky += *incy;
00211 \textcolor{comment}{/* L130: */}
00212     \}
00213 L140:
00214     \textcolor{keywordflow}{return} 0;
00215 \} \textcolor{comment}{/* srotm\_ */}
00216 
\end{DoxyCode}
