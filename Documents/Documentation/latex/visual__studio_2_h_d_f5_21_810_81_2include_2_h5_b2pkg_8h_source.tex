\hypertarget{visual__studio_2_h_d_f5_21_810_81_2include_2_h5_b2pkg_8h_source}{}\section{visual\+\_\+studio/\+H\+D\+F5/1.10.1/include/\+H5\+B2pkg.h}
\label{visual__studio_2_h_d_f5_21_810_81_2include_2_h5_b2pkg_8h_source}\index{H5\+B2pkg.\+h@{H5\+B2pkg.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *}
00002 \textcolor{comment}{ * Copyright by The HDF Group.                                               *}
00003 \textcolor{comment}{ * Copyright by the Board of Trustees of the University of Illinois.         *}
00004 \textcolor{comment}{ * All rights reserved.                                                      *}
00005 \textcolor{comment}{ *                                                                           *}
00006 \textcolor{comment}{ * This file is part of HDF5.  The full HDF5 copyright notice, including     *}
00007 \textcolor{comment}{ * terms governing use, modification, and redistribution, is contained in    *}
00008 \textcolor{comment}{ * the COPYING file, which can be found at the root of the source code       *}
00009 \textcolor{comment}{ * distribution tree, or in https://support.hdfgroup.org/ftp/HDF5/releases.  *}
00010 \textcolor{comment}{ * If you do not have access to either file, you may request a copy from     *}
00011 \textcolor{comment}{ * help@hdfgroup.org.                                                        *}
00012 \textcolor{comment}{ * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */}
00013 
00014 \textcolor{comment}{/*}
00015 \textcolor{comment}{ * Programmer:  Quincey Koziol <koziol@ncsa.uiuc.edu>}
00016 \textcolor{comment}{ *      Monday, January 31, 2005}
00017 \textcolor{comment}{ *}
00018 \textcolor{comment}{ * Purpose: This file contains declarations which are visible only within}
00019 \textcolor{comment}{ *      the H5B2 package.  Source files outside the H5B2 package should}
00020 \textcolor{comment}{ *      include H5B2private.h instead.}
00021 \textcolor{comment}{ */}
00022 \textcolor{preprocessor}{#if !(defined H5B2\_FRIEND || defined H5B2\_MODULE)}
00023 \textcolor{preprocessor}{#error "Do not include this file outside the H5B2 package!"}
00024 \textcolor{preprocessor}{#endif}
00025 
00026 \textcolor{preprocessor}{#ifndef \_H5B2pkg\_H}
00027 \textcolor{preprocessor}{#define \_H5B2pkg\_H}
00028 
00029 \textcolor{comment}{/* Get package's private header */}
00030 \textcolor{preprocessor}{#include "H5B2private.h"}
00031 
00032 \textcolor{comment}{/* Other private headers needed by this file */}
00033 \textcolor{preprocessor}{#include "H5ACprivate.h"}    \textcolor{comment}{/* Metadata cache           */}
00034 \textcolor{preprocessor}{#include "H5FLprivate.h"}    \textcolor{comment}{/* Free Lists                           */}
00035 
00036 
00037 \textcolor{comment}{/**************************/}
00038 \textcolor{comment}{/* Package Private Macros */}
00039 \textcolor{comment}{/**************************/}
00040 
00041 \textcolor{comment}{/* Size of storage for number of records per node (on disk) */}
00042 \textcolor{preprocessor}{#define H5B2\_SIZEOF\_RECORDS\_PER\_NODE    (unsigned)2}
00043 
00044 \textcolor{comment}{/* Size of a "tree pointer" (on disk) */}
00045 \textcolor{comment}{/* (essentially, the largest internal pointer allowed) */}
00046 \textcolor{preprocessor}{#define H5B2\_TREE\_POINTER\_SIZE(sizeof\_addr, sizeof\_size)       (              \(\backslash\)}
00047 \textcolor{preprocessor}{    (sizeof\_addr) +                                                           \(\backslash\)}
00048 \textcolor{preprocessor}{    H5B2\_SIZEOF\_RECORDS\_PER\_NODE +                                            \(\backslash\)}
00049 \textcolor{preprocessor}{    (sizeof\_size)                                                             \(\backslash\)}
00050 \textcolor{preprocessor}{    )}
00051 
00052 \textcolor{comment}{/* Size of a internal node pointer (on disk) */}
00053 \textcolor{preprocessor}{#define H5B2\_INT\_POINTER\_SIZE(h, d) (                                         \(\backslash\)}
00054 \textcolor{preprocessor}{    (unsigned)(h)->sizeof\_addr  }\textcolor{comment}{/* Address of child node */}\textcolor{preprocessor}{                   \(\backslash\)}
00055 \textcolor{preprocessor}{    + (h)->max\_nrec\_size        }\textcolor{comment}{/* # of records in child node */}\textcolor{preprocessor}{              \(\backslash\)}
00056 \textcolor{preprocessor}{    + (h)->node\_info[(d) - 1].cum\_max\_nrec\_size }\textcolor{comment}{/* Total # of records in child & below */}\textcolor{preprocessor}{ \(\backslash\)}
00057 \textcolor{preprocessor}{    )}
00058 
00059 \textcolor{comment}{/* Size of checksum information (on disk) */}
00060 \textcolor{preprocessor}{#define H5B2\_SIZEOF\_CHKSUM      4}
00061 
00062 \textcolor{comment}{/* Format overhead for all v2 B-tree metadata in the file */}
00063 \textcolor{preprocessor}{#define H5B2\_METADATA\_PREFIX\_SIZE (                                           \(\backslash\)}
00064 \textcolor{preprocessor}{    (unsigned)H5\_SIZEOF\_MAGIC   }\textcolor{comment}{/* Signature */}\textcolor{preprocessor}{                               \(\backslash\)}
00065 \textcolor{preprocessor}{    + (unsigned)1 }\textcolor{comment}{/* Version */}\textcolor{preprocessor}{                                               \(\backslash\)}
00066 \textcolor{preprocessor}{    + (unsigned)1 }\textcolor{comment}{/* Tree type */}\textcolor{preprocessor}{                                             \(\backslash\)}
00067 \textcolor{preprocessor}{    + (unsigned)H5B2\_SIZEOF\_CHKSUM }\textcolor{comment}{/* Metadata checksum */}\textcolor{preprocessor}{                    \(\backslash\)}
00068 \textcolor{preprocessor}{    )}
00069 
00070 \textcolor{comment}{/* Size of the v2 B-tree header on disk */}
00071 \textcolor{preprocessor}{#define H5B2\_HEADER\_SIZE(sizeof\_addr, sizeof\_size)   (                        \(\backslash\)}
00072 \textcolor{preprocessor}{    }\textcolor{comment}{/* General metadata fields */}\textcolor{preprocessor}{                                             \(\backslash\)}
00073 \textcolor{preprocessor}{    H5B2\_METADATA\_PREFIX\_SIZE                                                 \(\backslash\)}
00074 \textcolor{preprocessor}{                                                                              \(\backslash\)}
00075 \textcolor{preprocessor}{    }\textcolor{comment}{/* Header specific fields */}\textcolor{preprocessor}{                                              \(\backslash\)}
00076 \textcolor{preprocessor}{    + (unsigned)4 }\textcolor{comment}{/* Node size, in bytes */}\textcolor{preprocessor}{                                   \(\backslash\)}
00077 \textcolor{preprocessor}{    + (unsigned)2 }\textcolor{comment}{/* Record size, in bytes */}\textcolor{preprocessor}{                                 \(\backslash\)}
00078 \textcolor{preprocessor}{    + (unsigned)2 }\textcolor{comment}{/* Depth of tree */}\textcolor{preprocessor}{                                         \(\backslash\)}
00079 \textcolor{preprocessor}{    + (unsigned)1 }\textcolor{comment}{/* Split % of full (as integer, ie. "98" means 98%) */}\textcolor{preprocessor}{      \(\backslash\)}
00080 \textcolor{preprocessor}{    + (unsigned)1 }\textcolor{comment}{/* Merge % of full (as integer, ie. "98" means 98%) */}\textcolor{preprocessor}{      \(\backslash\)}
00081 \textcolor{preprocessor}{    + H5B2\_TREE\_POINTER\_SIZE(sizeof\_addr, sizeof\_size)  }\textcolor{comment}{/* Node pointer to root node in tree */}\textcolor{preprocessor}{ \(\backslash\)}
00082 \textcolor{preprocessor}{    )}
00083 
00084 \textcolor{comment}{/* Size of the v2 B-tree header on disk (via file pointer) */}
00085 \textcolor{preprocessor}{#define H5B2\_HEADER\_SIZE\_FILE(f)   (                                          \(\backslash\)}
00086 \textcolor{preprocessor}{    H5B2\_HEADER\_SIZE(H5F\_SIZEOF\_ADDR(f), H5F\_SIZEOF\_SIZE(f))                  \(\backslash\)}
00087 \textcolor{preprocessor}{    )}
00088 
00089 \textcolor{comment}{/* Size of the v2 B-tree header on disk (via v2 B-tree header) */}
00090 \textcolor{preprocessor}{#define H5B2\_HEADER\_SIZE\_HDR(h)   (                                           \(\backslash\)}
00091 \textcolor{preprocessor}{    H5B2\_HEADER\_SIZE((h)->sizeof\_addr, (h)->sizeof\_size)                      \(\backslash\)}
00092 \textcolor{preprocessor}{    )}
00093 
00094 \textcolor{comment}{/* Size of the v2 B-tree internal node prefix */}
00095 \textcolor{preprocessor}{#define H5B2\_INT\_PREFIX\_SIZE (                                                \(\backslash\)}
00096 \textcolor{preprocessor}{    }\textcolor{comment}{/* General metadata fields */}\textcolor{preprocessor}{                                             \(\backslash\)}
00097 \textcolor{preprocessor}{    H5B2\_METADATA\_PREFIX\_SIZE                                                 \(\backslash\)}
00098 \textcolor{preprocessor}{                                                                              \(\backslash\)}
00099 \textcolor{preprocessor}{    }\textcolor{comment}{/* Header specific fields */}\textcolor{preprocessor}{                                              \(\backslash\)}
00100 \textcolor{preprocessor}{    }\textcolor{comment}{/* <none> */}\textcolor{preprocessor}{                                                              \(\backslash\)}
00101 \textcolor{preprocessor}{    )}
00102 
00103 \textcolor{comment}{/* Size of the v2 B-tree leaf node prefix */}
00104 \textcolor{preprocessor}{#define H5B2\_LEAF\_PREFIX\_SIZE (                                               \(\backslash\)}
00105 \textcolor{preprocessor}{    }\textcolor{comment}{/* General metadata fields */}\textcolor{preprocessor}{                                             \(\backslash\)}
00106 \textcolor{preprocessor}{    H5B2\_METADATA\_PREFIX\_SIZE                                                 \(\backslash\)}
00107 \textcolor{preprocessor}{                                                                              \(\backslash\)}
00108 \textcolor{preprocessor}{    }\textcolor{comment}{/* Header specific fields */}\textcolor{preprocessor}{                                              \(\backslash\)}
00109 \textcolor{preprocessor}{    }\textcolor{comment}{/* <none> */}\textcolor{preprocessor}{                                                              \(\backslash\)}
00110 \textcolor{preprocessor}{    )}
00111 
00112 \textcolor{comment}{/* Macro to retrieve pointer to i'th native record for native record buffer */}
00113 \textcolor{preprocessor}{#define H5B2\_NAT\_NREC(b, hdr, idx)  ((b) + (hdr)->nat\_off[(idx)])}
00114 
00115 \textcolor{comment}{/* Macro to retrieve pointer to i'th native record for internal node */}
00116 \textcolor{preprocessor}{#define H5B2\_INT\_NREC(i, hdr, idx)  H5B2\_NAT\_NREC((i)->int\_native, (hdr), (idx))}
00117 
00118 \textcolor{comment}{/* Macro to retrieve pointer to i'th native record for leaf node */}
00119 \textcolor{preprocessor}{#define H5B2\_LEAF\_NREC(l, hdr, idx)  H5B2\_NAT\_NREC((l)->leaf\_native, (hdr), (idx))}
00120 
00121 \textcolor{comment}{/* Number of records that fit into internal node */}
00122 \textcolor{comment}{/* (accounts for extra node pointer by counting it in with the prefix bytes) */}
00123 \textcolor{preprocessor}{#define H5B2\_NUM\_INT\_REC(h, d) \(\backslash\)}
00124 \textcolor{preprocessor}{    (((h)->node\_size - (H5B2\_INT\_PREFIX\_SIZE + H5B2\_INT\_POINTER\_SIZE(h, d))) / ((h)->rrec\_size +
       H5B2\_INT\_POINTER\_SIZE(h, d)))}
00125 
00126 \textcolor{comment}{/* Uncomment this macro to enable extra sanity checking */}
00127 \textcolor{comment}{/* #define H5B2\_DEBUG */}
00128 
00129 
00130 \textcolor{comment}{/****************************/}
00131 \textcolor{comment}{/* Package Private Typedefs */}
00132 \textcolor{comment}{/****************************/}
00133 
00134 \textcolor{comment}{/* A "node pointer" to another B-tree node */}
00135 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{
00136     haddr\_t     addr;           \textcolor{comment}{/* Address of other node */}
00137     uint16\_t    node\_nrec;      \textcolor{comment}{/* Number of records used in node pointed to */}
00138     hsize\_t     all\_nrec;       \textcolor{comment}{/* Number of records in node pointed to and all it's children */}
00139 \} \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t};
00140 
00141 \textcolor{comment}{/* Information about a node at a given depth */}
00142 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{
00143     \textcolor{keywordtype}{unsigned}    max\_nrec;       \textcolor{comment}{/* Max. number of records in node */}
00144     \textcolor{keywordtype}{unsigned}    split\_nrec;     \textcolor{comment}{/* Number of records to split node at */}
00145     \textcolor{keywordtype}{unsigned}    merge\_nrec;     \textcolor{comment}{/* Number of records to merge node at */}
00146     hsize\_t     cum\_max\_nrec;   \textcolor{comment}{/* Cumulative max. # of records below this node's depth */}
00147     uint8\_t     cum\_max\_nrec\_size; \textcolor{comment}{/* Size to store cumulative max. # of records for this node (in bytes) 
      */}
00148     H5FL\_fac\_head\_t *nat\_rec\_fac;   \textcolor{comment}{/* Factory for native record blocks */}
00149     H5FL\_fac\_head\_t *node\_ptr\_fac;  \textcolor{comment}{/* Factory for node pointer blocks */}
00150 \} \hyperlink{struct_h5_b2__node__info__t}{H5B2\_node\_info\_t};
00151 
00152 \textcolor{comment}{/* The B-tree header information */}
00153 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} \{
00154     \textcolor{comment}{/* Information for H5AC cache functions, \_must\_ be first field in structure */}
00155     H5AC\_info\_t cache\_info;
00156 
00157     \textcolor{comment}{/* Internal B-tree information (stored) */}
00158     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} root;       \textcolor{comment}{/* Node pointer to root node in B-tree        */}
00159 
00160     \textcolor{comment}{/* Information set by user (stored) */}
00161     uint8\_t     split\_percent;  \textcolor{comment}{/* Percent full at which to split the node, when inserting */}
00162     uint8\_t     merge\_percent;  \textcolor{comment}{/* Percent full at which to merge the node, when deleting */}
00163     uint32\_t    node\_size;      \textcolor{comment}{/* Size of B-tree nodes, in bytes             */}
00164     uint32\_t    rrec\_size;      \textcolor{comment}{/* Size of "raw" (on disk) record, in bytes   */}
00165 
00166     \textcolor{comment}{/* Dynamic information (stored) */}
00167     uint16\_t    depth;      \textcolor{comment}{/* B-tree's overall depth                     */}
00168 
00169     \textcolor{comment}{/* Derived information from user's information (not stored) */}
00170     uint8\_t     max\_nrec\_size;  \textcolor{comment}{/* Size to store max. # of records in any node (in bytes) */}
00171 
00172     \textcolor{comment}{/* Shared internal data structures (not stored) */}
00173     \hyperlink{struct_h5_f__t}{H5F\_t}       *f;             \textcolor{comment}{/* Pointer to the file that the B-tree is in */}
00174     haddr\_t     addr;           \textcolor{comment}{/* Address of B-tree header in the file */}
00175     \textcolor{keywordtype}{size\_t}      hdr\_size;       \textcolor{comment}{/* Size of the B-tree header on disk */}
00176     \textcolor{keywordtype}{size\_t}      rc;             \textcolor{comment}{/* Reference count of nodes using this header */}
00177     \textcolor{keywordtype}{size\_t}      file\_rc;        \textcolor{comment}{/* Reference count of files using this header */}
00178     hbool\_t     pending\_delete; \textcolor{comment}{/* B-tree is pending deletion */}
00179     uint8\_t     sizeof\_size;    \textcolor{comment}{/* Size of file sizes */}
00180     uint8\_t     sizeof\_addr;    \textcolor{comment}{/* Size of file addresses */}
00181     H5B2\_remove\_t remove\_op;    \textcolor{comment}{/* Callback operator for deleting B-tree */}
00182     \textcolor{keywordtype}{void}        *remove\_op\_data;\textcolor{comment}{/* B-tree deletion callback's context */}
00183     uint8\_t *page;          \textcolor{comment}{/* Common disk page for I/O */}
00184     \textcolor{keywordtype}{size\_t}      *nat\_off;       \textcolor{comment}{/* Array of offsets of native records */}
00185     \hyperlink{struct_h5_b2__node__info__t}{H5B2\_node\_info\_t} *node\_info; \textcolor{comment}{/* Table of node info structs for current depth of B-tree 
      */}
00186     \textcolor{keywordtype}{void}        *min\_native\_rec; \textcolor{comment}{/* Pointer to minimum native record                  */}
00187     \textcolor{keywordtype}{void}        *max\_native\_rec; \textcolor{comment}{/* Pointer to maximum native record                  */}
00188 
00189     \textcolor{comment}{/* SWMR / Flush dependency information (not stored) */}
00190     hbool\_t     swmr\_write;     \textcolor{comment}{/* Whether we are doing SWMR writes */}
00191     H5AC\_proxy\_entry\_t *top\_proxy;  \textcolor{comment}{/* 'Top' proxy cache entry for all B-tree entries */}
00192     \textcolor{keywordtype}{void}        *parent;        \textcolor{comment}{/* Pointer to 'top' proxy flush dependency}
00193 \textcolor{comment}{                                 * parent, if it exists, otherwise NULL.}
00194 \textcolor{comment}{                                 * If the v2 B-tree is being used to index a}
00195 \textcolor{comment}{                                 * chunked dataset and the dataset metadata is}
00196 \textcolor{comment}{                                 * modified by a SWMR writer, this field will}
00197 \textcolor{comment}{                                 * be set equal to the object header proxy}
00198 \textcolor{comment}{                                 * that is the flush dependency parent}
00199 \textcolor{comment}{                                 * of the v2 B-tree header.}
00200 \textcolor{comment}{                 *}
00201 \textcolor{comment}{                 * The field is used to avoid duplicate setups}
00202 \textcolor{comment}{                                 * of the flush dependency relationship, and to}
00203 \textcolor{comment}{                                 * allow the v2 B-tree header to destroy the}
00204 \textcolor{comment}{                                 * flush dependency on receipt of an eviction}
00205 \textcolor{comment}{                                 * notification from the metadata cache.}
00206 \textcolor{comment}{                 */}
00207     uint64\_t    shadow\_epoch;   \textcolor{comment}{/* Epoch of header, for making shadow copies */}
00208 
00209     \textcolor{comment}{/* Client information (not stored) */}
00210     \textcolor{keyword}{const} H5B2\_class\_t *cls;    \textcolor{comment}{/* Class of B-tree client */}
00211     \textcolor{keywordtype}{void}        *cb\_ctx;        \textcolor{comment}{/* Client callback context */}
00212 \} \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t};
00213 
00214 \textcolor{comment}{/* B-tree leaf node information */}
00215 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_b2__leaf__t}{H5B2\_leaf\_t} \{
00216     \textcolor{comment}{/* Information for H5AC cache functions, \_must\_ be first field in structure */}
00217     H5AC\_info\_t cache\_info;
00218 
00219     \textcolor{comment}{/* Internal B-tree information */}
00220     \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t}    *hdr;       \textcolor{comment}{/* Pointer to the [pinned] v2 B-tree header   */}
00221     uint8\_t     *leaf\_native;   \textcolor{comment}{/* Pointer to native records                  */}
00222     uint16\_t    nrec;           \textcolor{comment}{/* Number of records in node                  */}
00223 
00224     \textcolor{comment}{/* SWMR / Flush dependency information (not stored) */}
00225     H5AC\_proxy\_entry\_t *top\_proxy;  \textcolor{comment}{/* 'Top' proxy cache entry for all B-tree entries */}
00226     \textcolor{keywordtype}{void}        *parent;        \textcolor{comment}{/* Flush dependency parent for leaf           */}
00227     uint64\_t    shadow\_epoch;   \textcolor{comment}{/* Epoch of node, for making shadow copies */}
00228 \} \hyperlink{struct_h5_b2__leaf__t}{H5B2\_leaf\_t};
00229 
00230 \textcolor{comment}{/* B-tree internal node information */}
00231 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} \{
00232     \textcolor{comment}{/* Information for H5AC cache functions, \_must\_ be first field in structure */}
00233     H5AC\_info\_t cache\_info;
00234 
00235     \textcolor{comment}{/* Internal B-tree information */}
00236     \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t}    *hdr;       \textcolor{comment}{/* Pointer to the [pinned] v2 B-tree header   */}
00237     uint8\_t     *int\_native;    \textcolor{comment}{/* Pointer to native records                  */}
00238     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *node\_ptrs; \textcolor{comment}{/* Pointer to node pointers                   */}
00239     uint16\_t    nrec;           \textcolor{comment}{/* Number of records in node                  */}
00240     uint16\_t    depth;          \textcolor{comment}{/* Depth of this node in the B-tree           */}
00241 
00242     \textcolor{comment}{/* SWMR / Flush dependency information (not stored) */}
00243     H5AC\_proxy\_entry\_t *top\_proxy;  \textcolor{comment}{/* 'Top' proxy cache entry for all B-tree entries */}
00244     \textcolor{keywordtype}{void}        *parent;        \textcolor{comment}{/* Flush dependency parent for internal node  */}
00245     uint64\_t    shadow\_epoch;   \textcolor{comment}{/* Epoch of node, for making shadow copies */}
00246 \} \hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t};
00247 
00248 \textcolor{comment}{/* v2 B-tree */}
00249 \textcolor{keyword}{struct }\hyperlink{struct_h5_b2__t}{H5B2\_t} \{
00250     \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t}  *hdr;           \textcolor{comment}{/* Pointer to internal v2 B-tree header info */}
00251     \hyperlink{struct_h5_f__t}{H5F\_t}      *f;              \textcolor{comment}{/* Pointer to file for v2 B-tree */}
00252 \};
00253 
00254 \textcolor{comment}{/* Node position, for min/max determination */}
00255 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} H5B2\_nodepos\_t \{
00256     H5B2\_POS\_ROOT,              \textcolor{comment}{/* Node is root (i.e. both right & left-most in tree) */}
00257     H5B2\_POS\_RIGHT,             \textcolor{comment}{/* Node is right-most in tree, at a given depth */}
00258     H5B2\_POS\_LEFT,              \textcolor{comment}{/* Node is left-most in tree, at a given depth */}
00259     H5B2\_POS\_MIDDLE             \textcolor{comment}{/* Node is neither right or left-most in tree */}
00260 \} H5B2\_nodepos\_t;
00261 
00262 \textcolor{comment}{/* Update status */}
00263 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} H5B2\_update\_status\_t \{
00264     H5B2\_UPDATE\_UNKNOWN,            \textcolor{comment}{/* Unknown update status (initial state) */}
00265     H5B2\_UPDATE\_MODIFY\_DONE,        \textcolor{comment}{/* Update successfully modified existing record */}
00266     H5B2\_UPDATE\_SHADOW\_DONE,        \textcolor{comment}{/* Update modified existing record and modified node was shadowed */}
00267     H5B2\_UPDATE\_INSERT\_DONE,        \textcolor{comment}{/* Update inserted record successfully */}
00268     H5B2\_UPDATE\_INSERT\_CHILD\_FULL   \textcolor{comment}{/* Update will insert record, but child is full */}
00269 \} H5B2\_update\_status\_t;
00270 
00271 \textcolor{comment}{/* Callback info for loading a v2 B-tree header into the cache */}
00272 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_b2__hdr__cache__ud__t}{H5B2\_hdr\_cache\_ud\_t} \{
00273     \hyperlink{struct_h5_f__t}{H5F\_t} *f;                   \textcolor{comment}{/* File that v2 b-tree header is within */}
00274     haddr\_t addr;               \textcolor{comment}{/* Address of B-tree header in the file */}
00275     \textcolor{keywordtype}{void} *ctx\_udata;            \textcolor{comment}{/* User-data for protecting */}
00276 \} \hyperlink{struct_h5_b2__hdr__cache__ud__t}{H5B2\_hdr\_cache\_ud\_t};
00277 
00278 \textcolor{comment}{/* Callback info for loading a v2 B-tree internal node into the cache */}
00279 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_b2__internal__cache__ud__t}{H5B2\_internal\_cache\_ud\_t} \{
00280     \hyperlink{struct_h5_f__t}{H5F\_t} *f;                   \textcolor{comment}{/* File that v2 b-tree header is within */}
00281     \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr;            \textcolor{comment}{/* v2 B-tree header */}
00282     \textcolor{keywordtype}{void} *parent;               \textcolor{comment}{/* Flush dependency parent */}
00283     uint16\_t nrec;              \textcolor{comment}{/* Number of records in node to load */}
00284     uint16\_t depth;             \textcolor{comment}{/* Depth of node to load */}
00285 \} \hyperlink{struct_h5_b2__internal__cache__ud__t}{H5B2\_internal\_cache\_ud\_t};
00286 
00287 \textcolor{comment}{/* Callback info for loading a v2 B-tree leaf node into the cache */}
00288 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_b2__leaf__cache__ud__t}{H5B2\_leaf\_cache\_ud\_t} \{
00289     \hyperlink{struct_h5_f__t}{H5F\_t} *f;                   \textcolor{comment}{/* File that v2 b-tree header is within */}
00290     \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr;            \textcolor{comment}{/* v2 B-tree header */}
00291     \textcolor{keywordtype}{void} *parent;               \textcolor{comment}{/* Flush dependency parent */}
00292     uint16\_t nrec;              \textcolor{comment}{/* Number of records in node to load */}
00293 \} \hyperlink{struct_h5_b2__leaf__cache__ud__t}{H5B2\_leaf\_cache\_ud\_t};
00294 
00295 \textcolor{preprocessor}{#ifdef H5B2\_TESTING}
00296 \textcolor{comment}{/* Node information for testing */}
00297 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }H5B2\_node\_info\_test\_t \{
00298     uint16\_t depth;             \textcolor{comment}{/* Depth of node */}
00299     uint16\_t nrec;              \textcolor{comment}{/* Number of records in node */}
00300 \} H5B2\_node\_info\_test\_t;
00301 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* H5B2\_TESTING */}\textcolor{preprocessor}{}
00302 
00303 
00304 \textcolor{comment}{/*****************************/}
00305 \textcolor{comment}{/* Package Private Variables */}
00306 \textcolor{comment}{/*****************************/}
00307 
00308 \textcolor{comment}{/* Declare a free list to manage the H5B2\_internal\_t struct */}
00309 H5FL\_EXTERN(\hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t});
00310 
00311 \textcolor{comment}{/* Declare a free list to manage the H5B2\_leaf\_t struct */}
00312 H5FL\_EXTERN(\hyperlink{struct_h5_b2__leaf__t}{H5B2\_leaf\_t});
00313 
00314 \textcolor{comment}{/* Internal v2 B-tree testing class */}
00315 \textcolor{preprocessor}{#ifdef H5B2\_TESTING}
00316 H5\_DLLVAR \textcolor{keyword}{const} H5B2\_class\_t H5B2\_TEST[1];
00317 H5\_DLLVAR \textcolor{keyword}{const} H5B2\_class\_t H5B2\_TEST2[1];
00318 
00319 \textcolor{comment}{/* B-tree record for testing H5B2\_TEST2 class */}
00320 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }H5B2\_test\_rec\_t \{
00321     hsize\_t key;        \textcolor{comment}{/* Key for record */}
00322     hsize\_t val;        \textcolor{comment}{/* Value for record */}
00323 \} H5B2\_test\_rec\_t;
00324 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* H5B2\_TESTING */}\textcolor{preprocessor}{}
00325 
00326 \textcolor{comment}{/* Array of v2 B-tree client ID -> client class mappings */}
00327 \textcolor{keyword}{extern} \textcolor{keyword}{const} H5B2\_class\_t *\textcolor{keyword}{const} H5B2\_client\_class\_g[H5B2\_NUM\_BTREE\_ID];
00328 
00329 
00330 \textcolor{comment}{/******************************/}
00331 \textcolor{comment}{/* Package Private Prototypes */}
00332 \textcolor{comment}{/******************************/}
00333 
00334 \textcolor{comment}{/* Generic routines */}
00335 H5\_DLL herr\_t H5B2\_\_create\_flush\_depend(H5AC\_info\_t *parent\_entry,
00336     H5AC\_info\_t *child\_entry);
00337 H5\_DLL herr\_t H5B2\_\_update\_flush\_depend(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00338     \textcolor{keywordtype}{unsigned} depth, \textcolor{keyword}{const} \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *node\_ptr, \textcolor{keywordtype}{void} *old\_parent,
00339     \textcolor{keywordtype}{void} *new\_parent);
00340 H5\_DLL herr\_t H5B2\_\_destroy\_flush\_depend(H5AC\_info\_t *parent\_entry,
00341     H5AC\_info\_t *child\_entry);
00342 
00343 \textcolor{comment}{/* Internal node management routines */}
00344 H5\_DLL herr\_t H5B2\_\_split1(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id, uint16\_t depth,
00345     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, \textcolor{keywordtype}{unsigned} *parent\_cache\_info\_flags\_ptr,
00346     \hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} *\textcolor{keyword}{internal}, \textcolor{keywordtype}{unsigned} *internal\_flags\_ptr, \textcolor{keywordtype}{unsigned} idx);
00347 H5\_DLL herr\_t H5B2\_\_redistribute2(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id, uint16\_t depth,
00348     \hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} *\textcolor{keyword}{internal}, \textcolor{keywordtype}{unsigned} idx);
00349 H5\_DLL herr\_t H5B2\_\_redistribute3(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id, uint16\_t depth,
00350     \hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} *\textcolor{keyword}{internal}, \textcolor{keywordtype}{unsigned} *internal\_flags\_ptr, \textcolor{keywordtype}{unsigned} idx);
00351 H5\_DLL herr\_t H5B2\_\_merge2(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id, uint16\_t depth,
00352     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, \textcolor{keywordtype}{unsigned} *parent\_cache\_info\_flags\_ptr,
00353     \hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} *\textcolor{keyword}{internal}, \textcolor{keywordtype}{unsigned} *internal\_flags\_ptr, \textcolor{keywordtype}{unsigned} idx);
00354 H5\_DLL herr\_t H5B2\_\_merge3(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id, uint16\_t depth,
00355     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, \textcolor{keywordtype}{unsigned} *parent\_cache\_info\_flags\_ptr,
00356     \hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} *\textcolor{keyword}{internal}, \textcolor{keywordtype}{unsigned} *internal\_flags\_ptr, \textcolor{keywordtype}{unsigned} idx);
00357 
00358 \textcolor{comment}{/* Routines for managing B-tree header info */}
00359 H5\_DLL \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *H5B2\_\_hdr\_alloc(\hyperlink{struct_h5_f__t}{H5F\_t} *f);
00360 H5\_DLL haddr\_t H5B2\_\_hdr\_create(\hyperlink{struct_h5_f__t}{H5F\_t} *f, hid\_t dxpl\_id,
00361     \textcolor{keyword}{const} H5B2\_create\_t *cparam, \textcolor{keywordtype}{void} *ctx\_udata);
00362 H5\_DLL herr\_t H5B2\_\_hdr\_init(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, \textcolor{keyword}{const} H5B2\_create\_t *cparam,
00363     \textcolor{keywordtype}{void} *ctx\_udata, uint16\_t depth);
00364 H5\_DLL herr\_t H5B2\_\_hdr\_incr(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr);
00365 H5\_DLL herr\_t H5B2\_\_hdr\_decr(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr);
00366 H5\_DLL herr\_t H5B2\_\_hdr\_fuse\_incr(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr);
00367 H5\_DLL \textcolor{keywordtype}{size\_t} H5B2\_\_hdr\_fuse\_decr(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr);
00368 H5\_DLL herr\_t H5B2\_\_hdr\_dirty(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr);
00369 H5\_DLL \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *H5B2\_\_hdr\_protect(\hyperlink{struct_h5_f__t}{H5F\_t} *f, hid\_t dxpl\_id, haddr\_t hdr\_addr,
00370     \textcolor{keywordtype}{void} *ctx\_udata, \textcolor{keywordtype}{unsigned} flags);
00371 H5\_DLL herr\_t H5B2\_\_hdr\_unprotect(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00372     \textcolor{keywordtype}{unsigned} cache\_flags);
00373 H5\_DLL herr\_t H5B2\_\_hdr\_delete(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id);
00374 
00375 \textcolor{comment}{/* Routines for operating on leaf nodes */}
00376 H5\_DLL \hyperlink{struct_h5_b2__leaf__t}{H5B2\_leaf\_t} * H5B2\_\_protect\_leaf(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00377     \textcolor{keywordtype}{void} *parent, \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *node\_ptr, hbool\_t shadow, \textcolor{keywordtype}{unsigned} flags);
00378 H5\_DLL herr\_t H5B2\_\_swap\_leaf(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id, uint16\_t depth,
00379     \hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} *\textcolor{keyword}{internal}, \textcolor{keywordtype}{unsigned} *internal\_flags\_ptr, \textcolor{keywordtype}{unsigned} idx,
00380     \textcolor{keywordtype}{void} *swap\_loc);
00381 
00382 \textcolor{comment}{/* Routines for operating on internal nodes */}
00383 H5\_DLL \hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} *H5B2\_\_protect\_internal(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00384     \textcolor{keywordtype}{void} *parent, \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *node\_ptr, uint16\_t depth, hbool\_t shadow,
00385     \textcolor{keywordtype}{unsigned} flags);
00386 
00387 \textcolor{comment}{/* Routines for allocating nodes */}
00388 H5\_DLL herr\_t H5B2\_\_split\_root(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id);
00389 H5\_DLL herr\_t H5B2\_\_create\_leaf(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id, \textcolor{keywordtype}{void} *parent,
00390     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *node\_ptr);
00391 H5\_DLL herr\_t H5B2\_\_create\_internal(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id, \textcolor{keywordtype}{void} *parent,
00392     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *node\_ptr, uint16\_t depth);
00393 
00394 \textcolor{comment}{/* Routines for releasing structures */}
00395 H5\_DLL herr\_t H5B2\_\_hdr\_free(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr);
00396 H5\_DLL herr\_t H5B2\_\_leaf\_free(\hyperlink{struct_h5_b2__leaf__t}{H5B2\_leaf\_t} *l);
00397 H5\_DLL herr\_t H5B2\_\_internal\_free(\hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} *i);
00398 
00399 \textcolor{comment}{/* Routines for inserting records */}
00400 H5\_DLL herr\_t H5B2\_\_insert(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id, \textcolor{keywordtype}{void} *udata);
00401 H5\_DLL herr\_t H5B2\_\_insert\_internal(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00402     uint16\_t depth, \textcolor{keywordtype}{unsigned} *parent\_cache\_info\_flags\_ptr,
00403     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, H5B2\_nodepos\_t curr\_pos, \textcolor{keywordtype}{void} *parent, \textcolor{keywordtype}{void} *udata);
00404 H5\_DLL herr\_t H5B2\_\_insert\_leaf(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00405     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, H5B2\_nodepos\_t curr\_pos, \textcolor{keywordtype}{void} *parent, \textcolor{keywordtype}{void} *udata);
00406 
00407 \textcolor{comment}{/* Routines for update records */}
00408 H5\_DLL herr\_t H5B2\_\_update\_internal(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00409     uint16\_t depth, \textcolor{keywordtype}{unsigned} *parent\_cache\_info\_flags\_ptr,
00410     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, H5B2\_update\_status\_t *status,
00411     H5B2\_nodepos\_t curr\_pos, \textcolor{keywordtype}{void} *parent, \textcolor{keywordtype}{void} *udata, H5B2\_modify\_t op,
00412     \textcolor{keywordtype}{void} *op\_data);
00413 H5\_DLL herr\_t H5B2\_\_update\_leaf(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00414     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, H5B2\_update\_status\_t *status,
00415     H5B2\_nodepos\_t curr\_pos, \textcolor{keywordtype}{void} *parent, \textcolor{keywordtype}{void} *udata, H5B2\_modify\_t op,
00416     \textcolor{keywordtype}{void} *op\_data);
00417 
00418 \textcolor{comment}{/* Routines for iterating over nodes/records */}
00419 H5\_DLL herr\_t H5B2\_\_iterate\_node(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id, uint16\_t depth,
00420     \textcolor{keyword}{const} \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node, \textcolor{keywordtype}{void} *parent, H5B2\_operator\_t op, \textcolor{keywordtype}{void} *op\_data);
00421 H5\_DLL herr\_t H5B2\_\_node\_size(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00422     uint16\_t depth, \textcolor{keyword}{const} \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node, \textcolor{keywordtype}{void} *parent,
00423     hsize\_t *op\_data);
00424 
00425 \textcolor{comment}{/* Routines for locating records */}
00426 H5\_DLL herr\_t H5B2\_\_locate\_record(\textcolor{keyword}{const} H5B2\_class\_t *type, \textcolor{keywordtype}{unsigned} nrec,
00427     \textcolor{keywordtype}{size\_t} *rec\_off, \textcolor{keyword}{const} uint8\_t *native, \textcolor{keyword}{const} \textcolor{keywordtype}{void} *udata, \textcolor{keywordtype}{unsigned} *idx, \textcolor{keywordtype}{int} *result);
00428 H5\_DLL herr\_t H5B2\_\_neighbor\_internal(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00429     uint16\_t depth, \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, \textcolor{keywordtype}{void} *neighbor\_loc,
00430     H5B2\_compare\_t comp, \textcolor{keywordtype}{void} *parent, \textcolor{keywordtype}{void} *udata, H5B2\_found\_t op,
00431     \textcolor{keywordtype}{void} *op\_data);
00432 H5\_DLL herr\_t H5B2\_\_neighbor\_leaf(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00433     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, \textcolor{keywordtype}{void} *neighbor\_loc, H5B2\_compare\_t comp,
00434     \textcolor{keywordtype}{void} *parent, \textcolor{keywordtype}{void} *udata, H5B2\_found\_t op, \textcolor{keywordtype}{void} *op\_data);
00435 
00436 \textcolor{comment}{/* Routines for removing records */}
00437 H5\_DLL herr\_t H5B2\_\_remove\_internal(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00438     hbool\_t *depth\_decreased, \textcolor{keywordtype}{void} *swap\_loc, \textcolor{keywordtype}{void} *swap\_parent, uint16\_t depth,
00439     H5AC\_info\_t *parent\_cache\_info, \textcolor{keywordtype}{unsigned} *parent\_cache\_info\_flags\_ptr,
00440     H5B2\_nodepos\_t curr\_pos, \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, \textcolor{keywordtype}{void} *udata,
00441     H5B2\_remove\_t op, \textcolor{keywordtype}{void} *op\_data);
00442 H5\_DLL herr\_t H5B2\_\_remove\_leaf(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00443     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, H5B2\_nodepos\_t curr\_pos, \textcolor{keywordtype}{void} *parent,
00444     \textcolor{keywordtype}{void} *udata, H5B2\_remove\_t op, \textcolor{keywordtype}{void} *op\_data);
00445 H5\_DLL herr\_t H5B2\_\_remove\_internal\_by\_idx(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00446     hbool\_t *depth\_decreased, \textcolor{keywordtype}{void} *swap\_loc, \textcolor{keywordtype}{void} *swap\_parent, uint16\_t depth,
00447     H5AC\_info\_t *parent\_cache\_info, \textcolor{keywordtype}{unsigned} *parent\_cache\_info\_flags\_ptr,
00448     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, H5B2\_nodepos\_t curr\_pos, hsize\_t n,
00449     H5B2\_remove\_t op, \textcolor{keywordtype}{void} *op\_data);
00450 H5\_DLL herr\_t H5B2\_\_remove\_leaf\_by\_idx(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id,
00451     \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node\_ptr, H5B2\_nodepos\_t curr\_pos, \textcolor{keywordtype}{void} *parent,
00452     \textcolor{keywordtype}{unsigned} idx, H5B2\_remove\_t op, \textcolor{keywordtype}{void} *op\_data);
00453 
00454 \textcolor{comment}{/* Routines for deleting nodes */}
00455 H5\_DLL herr\_t H5B2\_\_delete\_node(\hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, hid\_t dxpl\_id, uint16\_t depth,
00456     \textcolor{keyword}{const} \hyperlink{struct_h5_b2__node__ptr__t}{H5B2\_node\_ptr\_t} *curr\_node, \textcolor{keywordtype}{void} *parent, H5B2\_remove\_t op,
00457     \textcolor{keywordtype}{void} *op\_data);
00458 
00459 \textcolor{comment}{/* Debugging routines for dumping file structures */}
00460 H5\_DLL herr\_t H5B2\_\_hdr\_debug(\hyperlink{struct_h5_f__t}{H5F\_t} *f, hid\_t dxpl\_id, haddr\_t addr,
00461     FILE *stream, \textcolor{keywordtype}{int} indent, \textcolor{keywordtype}{int} fwidth, \textcolor{keyword}{const} H5B2\_class\_t *type, haddr\_t obj\_addr);
00462 H5\_DLL herr\_t H5B2\_\_int\_debug(\hyperlink{struct_h5_f__t}{H5F\_t} *f, hid\_t dxpl\_id, haddr\_t addr,
00463     FILE *stream, \textcolor{keywordtype}{int} indent, \textcolor{keywordtype}{int} fwidth, \textcolor{keyword}{const} H5B2\_class\_t *type,
00464     haddr\_t hdr\_addr, \textcolor{keywordtype}{unsigned} nrec, \textcolor{keywordtype}{unsigned} depth, haddr\_t obj\_addr);
00465 H5\_DLL herr\_t H5B2\_\_leaf\_debug(\hyperlink{struct_h5_f__t}{H5F\_t} *f, hid\_t dxpl\_id, haddr\_t addr,
00466     FILE *stream, \textcolor{keywordtype}{int} indent, \textcolor{keywordtype}{int} fwidth, \textcolor{keyword}{const} H5B2\_class\_t *type,
00467     haddr\_t hdr\_addr, \textcolor{keywordtype}{unsigned} nrec, haddr\_t obj\_addr);
00468 
00469 \textcolor{comment}{/* Sanity checking routines */}
00470 \textcolor{preprocessor}{#ifdef H5B2\_DEBUG}
00471 \textcolor{comment}{/* Don't label these with H5\_ATTR\_PURE or you'll get even more warnings... */}
00472 H5\_DLL herr\_t H5B2\_\_assert\_internal(hsize\_t parent\_all\_nrec, \textcolor{keyword}{const} \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, \textcolor{keyword}{const} 
      \hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} *\textcolor{keyword}{internal});
00473 H5\_DLL herr\_t H5B2\_\_assert\_internal2(hsize\_t parent\_all\_nrec, \textcolor{keyword}{const} \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, \textcolor{keyword}{const} 
      \hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} *\textcolor{keyword}{internal}, \textcolor{keyword}{const} \hyperlink{struct_h5_b2__internal__t}{H5B2\_internal\_t} *internal2);
00474 H5\_DLL herr\_t H5B2\_\_assert\_leaf(\textcolor{keyword}{const} \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, \textcolor{keyword}{const} 
      \hyperlink{struct_h5_b2__leaf__t}{H5B2\_leaf\_t} *leaf);
00475 H5\_DLL herr\_t H5B2\_\_assert\_leaf2(\textcolor{keyword}{const} \hyperlink{struct_h5_b2__hdr__t}{H5B2\_hdr\_t} *hdr, \textcolor{keyword}{const} 
      \hyperlink{struct_h5_b2__leaf__t}{H5B2\_leaf\_t} *leaf, \textcolor{keyword}{const} \hyperlink{struct_h5_b2__leaf__t}{H5B2\_leaf\_t} *leaf2);
00476 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* H5B2\_DEBUG */}\textcolor{preprocessor}{}
00477 
00478 \textcolor{comment}{/* Testing routines */}
00479 \textcolor{preprocessor}{#ifdef H5B2\_TESTING}
00480 H5\_DLL herr\_t H5B2\_get\_root\_addr\_test(\hyperlink{struct_h5_b2__t}{H5B2\_t} *bt2, haddr\_t *root\_addr);
00481 H5\_DLL \textcolor{keywordtype}{int} H5B2\_get\_node\_depth\_test(\hyperlink{struct_h5_b2__t}{H5B2\_t} *bt2, hid\_t dxpl\_id, \textcolor{keywordtype}{void} *udata);
00482 H5\_DLL herr\_t H5B2\_get\_node\_info\_test(\hyperlink{struct_h5_b2__t}{H5B2\_t} *bt2, hid\_t dxpl\_id,
00483     \textcolor{keywordtype}{void} *udata, H5B2\_node\_info\_test\_t *ninfo);
00484 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* H5B2\_TESTING */}\textcolor{preprocessor}{}
00485 
00486 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* \_H5B2pkg\_H */}\textcolor{preprocessor}{}
00487 
\end{DoxyCode}
