\hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_select_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/\+Eigen/src/\+Core/\+Select.h}
\label{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_select_8h_source}\index{Select.\+h@{Select.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2008-2010 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_SELECT\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_SELECT\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{ 
00014 
00030 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00031 \textcolor{keyword}{template}<\textcolor{keyword}{typename} ConditionMatrixType, \textcolor{keyword}{typename} ThenMatrixType, \textcolor{keyword}{typename} ElseMatrixType>
00032 \textcolor{keyword}{struct }traits<Select<ConditionMatrixType, ThenMatrixType, ElseMatrixType> >
00033  : traits<ThenMatrixType>
00034 \{
00035   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} traits<ThenMatrixType>::Scalar Scalar;
00036   \textcolor{keyword}{typedef} Dense StorageKind;
00037   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} traits<ThenMatrixType>::XprKind XprKind;
00038   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} ConditionMatrixType::Nested ConditionMatrixNested;
00039   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} ThenMatrixType::Nested ThenMatrixNested;
00040   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} ElseMatrixType::Nested ElseMatrixNested;
00041   \textcolor{keyword}{enum} \{
00042     RowsAtCompileTime = ConditionMatrixType::RowsAtCompileTime,
00043     ColsAtCompileTime = ConditionMatrixType::ColsAtCompileTime,
00044     MaxRowsAtCompileTime = ConditionMatrixType::MaxRowsAtCompileTime,
00045     MaxColsAtCompileTime = ConditionMatrixType::MaxColsAtCompileTime,
00046     Flags = (\textcolor{keywordtype}{unsigned} int)ThenMatrixType::Flags & ElseMatrixType::Flags & 
      \hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}
00047   \};
00048 \};
00049 \}
00050 
00051 \textcolor{keyword}{template}<\textcolor{keyword}{typename} ConditionMatrixType, \textcolor{keyword}{typename} ThenMatrixType, \textcolor{keyword}{typename} ElseMatrixType>
00052 \textcolor{keyword}{class }Select : \textcolor{keyword}{public} internal::dense\_xpr\_base< Select<ConditionMatrixType, ThenMatrixType, ElseMatrixType>
       >::type,
00053                internal::no\_assignment\_operator
00054 \{
00055   \textcolor{keyword}{public}:
00056 
00057     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::dense\_xpr\_base<Select>::type Base;
00058     EIGEN\_DENSE\_PUBLIC\_INTERFACE(Select)
00059 
00060     \textcolor{keyword}{inline} EIGEN\_DEVICE\_FUNC
00061     Select(\textcolor{keyword}{const} ConditionMatrixType& a\_conditionMatrix,
00062            \textcolor{keyword}{const} ThenMatrixType& a\_thenMatrix,
00063            \textcolor{keyword}{const} ElseMatrixType& a\_elseMatrix)
00064       : m\_condition(a\_conditionMatrix), m\_then(a\_thenMatrix), m\_else(a\_elseMatrix)
00065     \{
00066       eigen\_assert(m\_condition.rows() == m\_then.rows() && m\_condition.rows() == m\_else.rows());
00067       eigen\_assert(m\_condition.cols() == m\_then.cols() && m\_condition.cols() == m\_else.cols());
00068     \}
00069 
00070     \textcolor{keyword}{inline} EIGEN\_DEVICE\_FUNC \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rows()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_condition.rows(); \}
00071     \textcolor{keyword}{inline} EIGEN\_DEVICE\_FUNC \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} cols()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_condition.cols(); \}
00072 
00073     \textcolor{keyword}{inline} EIGEN\_DEVICE\_FUNC
00074     \textcolor{keyword}{const} Scalar coeff(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} i, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j)\textcolor{keyword}{ const}
00075 \textcolor{keyword}{    }\{
00076       \textcolor{keywordflow}{if} (m\_condition.coeff(i,j))
00077         \textcolor{keywordflow}{return} m\_then.coeff(i,j);
00078       \textcolor{keywordflow}{else}
00079         \textcolor{keywordflow}{return} m\_else.coeff(i,j);
00080     \}
00081 
00082     \textcolor{keyword}{inline} EIGEN\_DEVICE\_FUNC
00083     \textcolor{keyword}{const} Scalar coeff(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} i)\textcolor{keyword}{ const}
00084 \textcolor{keyword}{    }\{
00085       \textcolor{keywordflow}{if} (m\_condition.coeff(i))
00086         \textcolor{keywordflow}{return} m\_then.coeff(i);
00087       \textcolor{keywordflow}{else}
00088         \textcolor{keywordflow}{return} m\_else.coeff(i);
00089     \}
00090 
00091     \textcolor{keyword}{inline} EIGEN\_DEVICE\_FUNC \textcolor{keyword}{const} ConditionMatrixType& conditionMatrix()\textcolor{keyword}{ const}
00092 \textcolor{keyword}{    }\{
00093       \textcolor{keywordflow}{return} m\_condition;
00094     \}
00095 
00096     \textcolor{keyword}{inline} EIGEN\_DEVICE\_FUNC \textcolor{keyword}{const} ThenMatrixType& thenMatrix()\textcolor{keyword}{ const}
00097 \textcolor{keyword}{    }\{
00098       \textcolor{keywordflow}{return} m\_then;
00099     \}
00100 
00101     \textcolor{keyword}{inline} EIGEN\_DEVICE\_FUNC \textcolor{keyword}{const} ElseMatrixType& elseMatrix()\textcolor{keyword}{ const}
00102 \textcolor{keyword}{    }\{
00103       \textcolor{keywordflow}{return} m\_else;
00104     \}
00105 
00106   \textcolor{keyword}{protected}:
00107     \textcolor{keyword}{typename} ConditionMatrixType::Nested m\_condition;
00108     \textcolor{keyword}{typename} ThenMatrixType::Nested m\_then;
00109     \textcolor{keyword}{typename} ElseMatrixType::Nested m\_else;
00110 \};
00111 
00112 
00121 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
00122 \textcolor{keyword}{template}<\textcolor{keyword}{typename} ThenDerived,\textcolor{keyword}{typename} ElseDerived>
00123 \textcolor{keyword}{inline} \textcolor{keyword}{const} Select<Derived,ThenDerived,ElseDerived>
00124 \hyperlink{group___core___module_a65e78cfcbc9852e6923bebff4323ddca}{DenseBase<Derived>::select}(\textcolor{keyword}{const} DenseBase<ThenDerived>& thenMatrix,
00125                             \textcolor{keyword}{const} DenseBase<ElseDerived>& elseMatrix)\textcolor{keyword}{ const}
00126 \textcolor{keyword}{}\{
00127   \textcolor{keywordflow}{return} Select<Derived,ThenDerived,ElseDerived>(derived(), thenMatrix.derived(), elseMatrix.derived());
00128 \}
00129 
00135 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
00136 \textcolor{keyword}{template}<\textcolor{keyword}{typename} ThenDerived>
00137 \textcolor{keyword}{inline} \textcolor{keyword}{const} Select<Derived,ThenDerived, typename ThenDerived::ConstantReturnType>
00138 \hyperlink{group___core___module_a65e78cfcbc9852e6923bebff4323ddca}{DenseBase<Derived>::select}(\textcolor{keyword}{const} DenseBase<ThenDerived>& thenMatrix,
00139                            \textcolor{keyword}{const} \textcolor{keyword}{typename} ThenDerived::Scalar& elseScalar)\textcolor{keyword}{ const}
00140 \textcolor{keyword}{}\{
00141   \textcolor{keywordflow}{return} Select<Derived,ThenDerived,typename ThenDerived::ConstantReturnType>(
00142     derived(), thenMatrix.derived(), ThenDerived::Constant(rows(),cols(),elseScalar));
00143 \}
00144 
00150 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
00151 \textcolor{keyword}{template}<\textcolor{keyword}{typename} ElseDerived>
00152 \textcolor{keyword}{inline} \textcolor{keyword}{const} Select<Derived, typename ElseDerived::ConstantReturnType, ElseDerived >
00153 \hyperlink{group___core___module_a65e78cfcbc9852e6923bebff4323ddca}{DenseBase<Derived>::select}(\textcolor{keyword}{const} \textcolor{keyword}{typename} ElseDerived::Scalar& thenScalar,
00154                            \textcolor{keyword}{const} DenseBase<ElseDerived>& elseMatrix)\textcolor{keyword}{ const}
00155 \textcolor{keyword}{}\{
00156   \textcolor{keywordflow}{return} Select<Derived,typename ElseDerived::ConstantReturnType,ElseDerived>(
00157     derived(), ElseDerived::Constant(rows(),cols(),thenScalar), elseMatrix.derived());
00158 \}
00159 
00160 \} \textcolor{comment}{// end namespace Eigen}
00161 
00162 \textcolor{preprocessor}{#endif // EIGEN\_SELECT\_H}
\end{DoxyCode}
