\hypertarget{matio_2visual__studio_2test_2eigen_2doc_2examples_2_tutorial_inplace_l_u_8cpp_source}{}\section{matio/visual\+\_\+studio/test/eigen/doc/examples/\+Tutorial\+Inplace\+LU.cpp}
\label{matio_2visual__studio_2test_2eigen_2doc_2examples_2_tutorial_inplace_l_u_8cpp_source}\index{Tutorial\+Inplace\+L\+U.\+cpp@{Tutorial\+Inplace\+L\+U.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#include <iostream>}
00002 \textcolor{keyword}{struct }\hyperlink{structinit}{init} \{
00003   \hyperlink{structinit}{init}() \{ std::cout << \textcolor{stringliteral}{"["} << \textcolor{stringliteral}{"init"} << \textcolor{stringliteral}{"]"} << std::endl; \}
00004 \};
00005 \hyperlink{structinit}{init} init\_obj;
00006 \textcolor{comment}{// [init]}
00007 \textcolor{preprocessor}{#include <iostream>}
00008 \textcolor{preprocessor}{#include <Eigen/Dense>}
00009 
00010 \textcolor{keyword}{using namespace }\hyperlink{namespacestd}{std};
00011 \textcolor{keyword}{using namespace }\hyperlink{namespace_eigen}{Eigen};
00012 
00013 \textcolor{keywordtype}{int} main()
00014 \{
00015   MatrixXd \hyperlink{group___core___module_class_eigen_1_1_matrix}{A}(2,2);
00016   \hyperlink{group___core___module_class_eigen_1_1_matrix}{A} << 2, -1, 1, 3;
00017   cout << \textcolor{stringliteral}{"Here is the input matrix A before decomposition:\(\backslash\)n"} << \hyperlink{group___core___module_class_eigen_1_1_matrix}{A} << endl;
00018 cout << \textcolor{stringliteral}{"[init]"} << endl;
00019 
00020 cout << \textcolor{stringliteral}{"[declaration]"} << endl;
00021   \hyperlink{group___l_u___module_class_eigen_1_1_partial_piv_l_u}{PartialPivLU<Ref<MatrixXd>} > lu(\hyperlink{group___core___module_class_eigen_1_1_matrix}{A});
00022   cout << \textcolor{stringliteral}{"Here is the input matrix A after decomposition:\(\backslash\)n"} << \hyperlink{group___core___module_class_eigen_1_1_matrix}{A} << endl;
00023 cout << \textcolor{stringliteral}{"[declaration]"} << endl;
00024 
00025 cout << \textcolor{stringliteral}{"[matrixLU]"} << endl;
00026   cout << \textcolor{stringliteral}{"Here is the matrix storing the L and U factors:\(\backslash\)n"} << lu.matrixLU() << endl;
00027 cout << \textcolor{stringliteral}{"[matrixLU]"} << endl;
00028 
00029 cout << \textcolor{stringliteral}{"[solve]"} << endl;
00030   MatrixXd A0(2,2); A0 << 2, -1, 1, 3;
00031   VectorXd b(2);    b << 1, 2;
00032   VectorXd x = lu.solve(b);
00033   cout << \textcolor{stringliteral}{"Residual: "} << (A0 * x - b).norm() << endl;
00034 cout << \textcolor{stringliteral}{"[solve]"} << endl;
00035 
00036 cout << \textcolor{stringliteral}{"[modifyA]"} << endl;
00037   \hyperlink{group___core___module_class_eigen_1_1_matrix}{A} << 3, 4, -2, 1;
00038   x = lu.solve(b);
00039   cout << \textcolor{stringliteral}{"Residual: "} << (A0 * x - b).norm() << endl;
00040 cout << \textcolor{stringliteral}{"[modifyA]"} << endl;
00041 
00042 cout << \textcolor{stringliteral}{"[recompute]"} << endl;
00043   A0 = \hyperlink{group___core___module_class_eigen_1_1_matrix}{A}; \textcolor{comment}{// save A}
00044   lu.compute(\hyperlink{group___core___module_class_eigen_1_1_matrix}{A});
00045   x = lu.solve(b);
00046   cout << \textcolor{stringliteral}{"Residual: "} << (A0 * x - b).norm() << endl;
00047 cout << \textcolor{stringliteral}{"[recompute]"} << endl;
00048 
00049 cout << \textcolor{stringliteral}{"[recompute\_bis0]"} << endl;
00050   MatrixXd A1(2,2);
00051   A1 << 5,-2,3,4;
00052   lu.compute(A1);
00053   cout << \textcolor{stringliteral}{"Here is the input matrix A1 after decomposition:\(\backslash\)n"} << A1 << endl;
00054 cout << \textcolor{stringliteral}{"[recompute\_bis0]"} << endl;
00055 
00056 cout << \textcolor{stringliteral}{"[recompute\_bis1]"} << endl;
00057   x = lu.solve(b);
00058   cout << \textcolor{stringliteral}{"Residual: "} << (A1 * x - b).norm() << endl;
00059 cout << \textcolor{stringliteral}{"[recompute\_bis1]"} << endl;
00060 
00061 \}
\end{DoxyCode}
