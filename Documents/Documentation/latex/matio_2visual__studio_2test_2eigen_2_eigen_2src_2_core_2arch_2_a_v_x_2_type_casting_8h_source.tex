\hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2arch_2_a_v_x_2_type_casting_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/\+Eigen/src/\+Core/arch/\+A\+V\+X/\+Type\+Casting.h}
\label{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2arch_2_a_v_x_2_type_casting_8h_source}\index{Type\+Casting.\+h@{Type\+Casting.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2015 Benoit Steiner <benoit.steiner.goog@gmail.com>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_TYPE\_CASTING\_AVX\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_TYPE\_CASTING\_AVX\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{
00014 
00015 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00016 
00017 \textcolor{comment}{// For now we use SSE to handle integers, so we can't use AVX instructions to cast}
00018 \textcolor{comment}{// from int to float}
00019 \textcolor{keyword}{template} <>
00020 \textcolor{keyword}{struct }type\_casting\_traits<float, int> \{
00021   \textcolor{keyword}{enum} \{
00022     VectorizedCast = 0,
00023     SrcCoeffRatio = 1,
00024     TgtCoeffRatio = 1
00025   \};
00026 \};
00027 
00028 \textcolor{keyword}{template} <>
00029 \textcolor{keyword}{struct }type\_casting\_traits<int, float> \{
00030   \textcolor{keyword}{enum} \{
00031     VectorizedCast = 0,
00032     SrcCoeffRatio = 1,
00033     TgtCoeffRatio = 1
00034   \};
00035 \};
00036 
00037 
00038 
00039 \textcolor{keyword}{template}<> EIGEN\_STRONG\_INLINE Packet8i pcast<Packet8f, Packet8i>(\textcolor{keyword}{const} Packet8f& a) \{
00040   \textcolor{keywordflow}{return} \_mm256\_cvtps\_epi32(a);
00041 \}
00042 
00043 \textcolor{keyword}{template}<> EIGEN\_STRONG\_INLINE Packet8f pcast<Packet8i, Packet8f>(\textcolor{keyword}{const} Packet8i& a) \{
00044   \textcolor{keywordflow}{return} \_mm256\_cvtepi32\_ps(a);
00045 \}
00046 
00047 \} \textcolor{comment}{// end namespace internal}
00048 
00049 \} \textcolor{comment}{// end namespace Eigen}
00050 
00051 \textcolor{preprocessor}{#endif // EIGEN\_TYPE\_CASTING\_AVX\_H}
\end{DoxyCode}
