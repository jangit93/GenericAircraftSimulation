\hypertarget{visual__studio_2_h_d_f5_21_810_81_2include_2_h5_zpublic_8h_source}{}\section{visual\+\_\+studio/\+H\+D\+F5/1.10.1/include/\+H5\+Zpublic.h}
\label{visual__studio_2_h_d_f5_21_810_81_2include_2_h5_zpublic_8h_source}\index{H5\+Zpublic.\+h@{H5\+Zpublic.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *}
00002 \textcolor{comment}{ * Copyright by The HDF Group.                                               *}
00003 \textcolor{comment}{ * Copyright by the Board of Trustees of the University of Illinois.         *}
00004 \textcolor{comment}{ * All rights reserved.                                                      *}
00005 \textcolor{comment}{ *                                                                           *}
00006 \textcolor{comment}{ * This file is part of HDF5.  The full HDF5 copyright notice, including     *}
00007 \textcolor{comment}{ * terms governing use, modification, and redistribution, is contained in    *}
00008 \textcolor{comment}{ * the COPYING file, which can be found at the root of the source code       *}
00009 \textcolor{comment}{ * distribution tree, or in https://support.hdfgroup.org/ftp/HDF5/releases.  *}
00010 \textcolor{comment}{ * If you do not have access to either file, you may request a copy from     *}
00011 \textcolor{comment}{ * help@hdfgroup.org.                                                        *}
00012 \textcolor{comment}{ * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */}
00013 
00014 \textcolor{comment}{/* Programmer:  Robb Matzke <matzke@llnl.gov>}
00015 \textcolor{comment}{ *              Thursday, April 16, 1998}
00016 \textcolor{comment}{ */}
00017 
00018 \textcolor{preprocessor}{#ifndef \_H5Zpublic\_H}
00019 \textcolor{preprocessor}{#define \_H5Zpublic\_H}
00020 
00021 \textcolor{comment}{/* Public headers needed by this file */}
00022 \textcolor{preprocessor}{#include "H5public.h"}
00023 
00024 \textcolor{comment}{/*}
00025 \textcolor{comment}{ * Filter identifiers.  Values 0 through 255 are for filters defined by the}
00026 \textcolor{comment}{ * HDF5 library.  Values 256 through 511 are available for testing new}
00027 \textcolor{comment}{ * filters. Subsequent values should be obtained from the HDF5 development}
00028 \textcolor{comment}{ * team at hdf5dev@ncsa.uiuc.edu.  These values will never change because they}
00029 \textcolor{comment}{ * appear in the HDF5 files.}
00030 \textcolor{comment}{ */}
00031 \textcolor{keyword}{typedef} \textcolor{keywordtype}{int} H5Z\_filter\_t;
00032 
00033 \textcolor{comment}{/* Filter IDs */}
00034 \textcolor{preprocessor}{#define H5Z\_FILTER\_ERROR    (-1)    }\textcolor{comment}{/*no filter         */}\textcolor{preprocessor}{}
00035 \textcolor{preprocessor}{#define H5Z\_FILTER\_NONE     0   }\textcolor{comment}{/*reserved indefinitely     */}\textcolor{preprocessor}{}
00036 \textcolor{preprocessor}{#define H5Z\_FILTER\_DEFLATE  1   }\textcolor{comment}{/*deflation like gzip           */}\textcolor{preprocessor}{}
00037 \textcolor{preprocessor}{#define H5Z\_FILTER\_SHUFFLE      2       }\textcolor{comment}{/*shuffle the data              */}\textcolor{preprocessor}{}
00038 \textcolor{preprocessor}{#define H5Z\_FILTER\_FLETCHER32   3       }\textcolor{comment}{/*fletcher32 checksum of EDC    */}\textcolor{preprocessor}{}
00039 \textcolor{preprocessor}{#define H5Z\_FILTER\_SZIP         4       }\textcolor{comment}{/*szip compression              */}\textcolor{preprocessor}{}
00040 \textcolor{preprocessor}{#define H5Z\_FILTER\_NBIT         5       }\textcolor{comment}{/*nbit compression              */}\textcolor{preprocessor}{}
00041 \textcolor{preprocessor}{#define H5Z\_FILTER\_SCALEOFFSET  6       }\textcolor{comment}{/*scale+offset compression      */}\textcolor{preprocessor}{}
00042 \textcolor{preprocessor}{#define H5Z\_FILTER\_RESERVED     256 }\textcolor{comment}{/*filter ids below this value are reserved for library use */}\textcolor{preprocessor}{}
00043 
00044 \textcolor{preprocessor}{#define H5Z\_FILTER\_MAX      65535   }\textcolor{comment}{/*maximum filter id     */}\textcolor{preprocessor}{}
00045 
00046 \textcolor{comment}{/* General macros */}
00047 \textcolor{preprocessor}{#define H5Z\_FILTER\_ALL      0   }\textcolor{comment}{/* Symbol to remove all filters in H5Premove\_filter */}\textcolor{preprocessor}{}
00048 \textcolor{preprocessor}{#define H5Z\_MAX\_NFILTERS        32      }\textcolor{comment}{/* Maximum number of filters allowed in a pipeline */}\textcolor{preprocessor}{}
00049                                         \textcolor{comment}{/* (should probably be allowed to be an}
00050 \textcolor{comment}{                                         * unlimited amount, but currently each}
00051 \textcolor{comment}{                                         * filter uses a bit in a 32-bit field,}
00052 \textcolor{comment}{                                         * so the format would have to be}
00053 \textcolor{comment}{                                         * changed to accomodate that)}
00054 \textcolor{comment}{                                         */}
00055 
00056 \textcolor{comment}{/* Flags for filter definition (stored) */}
00057 \textcolor{preprocessor}{#define H5Z\_FLAG\_DEFMASK    0x00ff  }\textcolor{comment}{/*definition flag mask      */}\textcolor{preprocessor}{}
00058 \textcolor{preprocessor}{#define H5Z\_FLAG\_MANDATORY      0x0000  }\textcolor{comment}{/*filter is mandatory       */}\textcolor{preprocessor}{}
00059 \textcolor{preprocessor}{#define H5Z\_FLAG\_OPTIONAL   0x0001  }\textcolor{comment}{/*filter is optional        */}\textcolor{preprocessor}{}
00060 
00061 \textcolor{comment}{/* Additional flags for filter invocation (not stored) */}
00062 \textcolor{preprocessor}{#define H5Z\_FLAG\_INVMASK    0xff00  }\textcolor{comment}{/*invocation flag mask      */}\textcolor{preprocessor}{}
00063 \textcolor{preprocessor}{#define H5Z\_FLAG\_REVERSE    0x0100  }\textcolor{comment}{/*reverse direction; read   */}\textcolor{preprocessor}{}
00064 \textcolor{preprocessor}{#define H5Z\_FLAG\_SKIP\_EDC   0x0200  }\textcolor{comment}{/*skip EDC filters for read */}\textcolor{preprocessor}{}
00065 
00066 \textcolor{comment}{/* Special parameters for szip compression */}
00067 \textcolor{comment}{/* [These are aliases for the similar definitions in szlib.h, which we can't}
00068 \textcolor{comment}{ * include directly due to the duplication of various symbols with the zlib.h}
00069 \textcolor{comment}{ * header file] */}
00070 \textcolor{preprocessor}{#define H5\_SZIP\_ALLOW\_K13\_OPTION\_MASK   1}
00071 \textcolor{preprocessor}{#define H5\_SZIP\_CHIP\_OPTION\_MASK        2}
00072 \textcolor{preprocessor}{#define H5\_SZIP\_EC\_OPTION\_MASK          4}
00073 \textcolor{preprocessor}{#define H5\_SZIP\_NN\_OPTION\_MASK          32}
00074 \textcolor{preprocessor}{#define H5\_SZIP\_MAX\_PIXELS\_PER\_BLOCK    32}
00075 
00076 \textcolor{comment}{/* Macros for the shuffle filter */}
00077 \textcolor{preprocessor}{#define H5Z\_SHUFFLE\_USER\_NPARMS    0    }\textcolor{comment}{/* Number of parameters that users can set */}\textcolor{preprocessor}{}
00078 \textcolor{preprocessor}{#define H5Z\_SHUFFLE\_TOTAL\_NPARMS   1    }\textcolor{comment}{/* Total number of parameters for filter */}\textcolor{preprocessor}{}
00079 
00080 \textcolor{comment}{/* Macros for the szip filter */}
00081 \textcolor{preprocessor}{#define H5Z\_SZIP\_USER\_NPARMS    2       }\textcolor{comment}{/* Number of parameters that users can set */}\textcolor{preprocessor}{}
00082 \textcolor{preprocessor}{#define H5Z\_SZIP\_TOTAL\_NPARMS   4       }\textcolor{comment}{/* Total number of parameters for filter */}\textcolor{preprocessor}{}
00083 \textcolor{preprocessor}{#define H5Z\_SZIP\_PARM\_MASK      0       }\textcolor{comment}{/* "User" parameter for option mask */}\textcolor{preprocessor}{}
00084 \textcolor{preprocessor}{#define H5Z\_SZIP\_PARM\_PPB       1       }\textcolor{comment}{/* "User" parameter for pixels-per-block */}\textcolor{preprocessor}{}
00085 \textcolor{preprocessor}{#define H5Z\_SZIP\_PARM\_BPP       2       }\textcolor{comment}{/* "Local" parameter for bits-per-pixel */}\textcolor{preprocessor}{}
00086 \textcolor{preprocessor}{#define H5Z\_SZIP\_PARM\_PPS       3       }\textcolor{comment}{/* "Local" parameter for pixels-per-scanline */}\textcolor{preprocessor}{}
00087 
00088 \textcolor{comment}{/* Macros for the nbit filter */}
00089 \textcolor{preprocessor}{#define H5Z\_NBIT\_USER\_NPARMS     0     }\textcolor{comment}{/* Number of parameters that users can set */}\textcolor{preprocessor}{}
00090 
00091 \textcolor{comment}{/* Macros for the scale offset filter */}
00092 \textcolor{preprocessor}{#define H5Z\_SCALEOFFSET\_USER\_NPARMS      2    }\textcolor{comment}{/* Number of parameters that users can set */}\textcolor{preprocessor}{}
00093 
00094 
00095 \textcolor{comment}{/* Special parameters for ScaleOffset filter*/}
00096 \textcolor{preprocessor}{#define H5Z\_SO\_INT\_MINBITS\_DEFAULT 0}
00097 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} H5Z\_SO\_scale\_type\_t \{
00098     H5Z\_SO\_FLOAT\_DSCALE = 0,
00099     H5Z\_SO\_FLOAT\_ESCALE = 1,
00100     H5Z\_SO\_INT          = 2
00101 \} H5Z\_SO\_scale\_type\_t;
00102 
00103 \textcolor{comment}{/* Current version of the H5Z\_class\_t struct */}
00104 \textcolor{preprocessor}{#define H5Z\_CLASS\_T\_VERS (1)}
00105 
00106 \textcolor{comment}{/* Values to decide if EDC is enabled for reading data */}
00107 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} H5Z\_EDC\_t \{
00108     H5Z\_ERROR\_EDC       = -1,   \textcolor{comment}{/* error value */}
00109     H5Z\_DISABLE\_EDC     = 0,
00110     H5Z\_ENABLE\_EDC      = 1,
00111     H5Z\_NO\_EDC          = 2     \textcolor{comment}{/* must be the last */}
00112 \} H5Z\_EDC\_t;
00113 
00114 \textcolor{comment}{/* Bit flags for H5Zget\_filter\_info */}
00115 \textcolor{preprocessor}{#define H5Z\_FILTER\_CONFIG\_ENCODE\_ENABLED (0x0001)}
00116 \textcolor{preprocessor}{#define H5Z\_FILTER\_CONFIG\_DECODE\_ENABLED (0x0002)}
00117 
00118 \textcolor{comment}{/* Return values for filter callback function */}
00119 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} H5Z\_cb\_return\_t \{
00120     H5Z\_CB\_ERROR  = -1,
00121     H5Z\_CB\_FAIL   = 0,    \textcolor{comment}{/* I/O should fail if filter fails. */}
00122     H5Z\_CB\_CONT   = 1,    \textcolor{comment}{/* I/O continues if filter fails.   */}
00123     H5Z\_CB\_NO     = 2
00124 \} H5Z\_cb\_return\_t;
00125 
00126 \textcolor{comment}{/* Filter callback function definition */}
00127 \textcolor{keyword}{typedef} H5Z\_cb\_return\_t (*H5Z\_filter\_func\_t)(H5Z\_filter\_t filter, \textcolor{keywordtype}{void}* buf,
00128                                 \textcolor{keywordtype}{size\_t} buf\_size, \textcolor{keywordtype}{void}* op\_data);
00129 
00130 \textcolor{comment}{/* Structure for filter callback property */}
00131 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_z__cb__t}{H5Z\_cb\_t} \{
00132     H5Z\_filter\_func\_t \hyperlink{structfunc}{func};
00133     \textcolor{keywordtype}{void}*              op\_data;
00134 \} \hyperlink{struct_h5_z__cb__t}{H5Z\_cb\_t};
00135 
00136 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00137 \textcolor{keyword}{extern} \textcolor{stringliteral}{"C"} \{
00138 \textcolor{preprocessor}{#endif}
00139 
00140 \textcolor{comment}{/*}
00141 \textcolor{comment}{ * Before a dataset gets created, the "can\_apply" callbacks for any filters used}
00142 \textcolor{comment}{ * in the dataset creation property list are called}
00143 \textcolor{comment}{ * with the dataset's dataset creation property list, the dataset's datatype and}
00144 \textcolor{comment}{ * a dataspace describing a chunk (for chunked dataset storage).}
00145 \textcolor{comment}{ *}
00146 \textcolor{comment}{ * The "can\_apply" callback must determine if the combination of the dataset}
00147 \textcolor{comment}{ * creation property list setting, the datatype and the dataspace represent a}
00148 \textcolor{comment}{ * valid combination to apply this filter to.  For example, some cases of}
00149 \textcolor{comment}{ * invalid combinations may involve the filter not operating correctly on}
00150 \textcolor{comment}{ * certain datatypes (or certain datatype sizes), or certain sizes of the chunk}
00151 \textcolor{comment}{ * dataspace.}
00152 \textcolor{comment}{ *}
00153 \textcolor{comment}{ * The "can\_apply" callback can be the NULL pointer, in which case, the library}
00154 \textcolor{comment}{ * will assume that it can apply to any combination of dataset creation}
00155 \textcolor{comment}{ * property list values, datatypes and dataspaces.}
00156 \textcolor{comment}{ *}
00157 \textcolor{comment}{ * The "can\_apply" callback returns positive a valid combination, zero for an}
00158 \textcolor{comment}{ * invalid combination and negative for an error.}
00159 \textcolor{comment}{ */}
00160 \textcolor{keyword}{typedef} htri\_t (*H5Z\_can\_apply\_func\_t)(hid\_t dcpl\_id, hid\_t type\_id, hid\_t space\_id);
00161 
00162 \textcolor{comment}{/*}
00163 \textcolor{comment}{ * After the "can\_apply" callbacks are checked for new datasets, the "set\_local"}
00164 \textcolor{comment}{ * callbacks for any filters used in the dataset creation property list are}
00165 \textcolor{comment}{ * called.  These callbacks receive the dataset's private copy of the dataset}
00166 \textcolor{comment}{ * creation property list passed in to H5Dcreate (i.e. not the actual property}
00167 \textcolor{comment}{ * list passed in to H5Dcreate) and the datatype ID passed in to H5Dcreate}
00168 \textcolor{comment}{ * (which is not copied and should not be modified) and a dataspace describing}
00169 \textcolor{comment}{ * the chunk (for chunked dataset storage) (which should also not be modified).}
00170 \textcolor{comment}{ *}
00171 \textcolor{comment}{ * The "set\_local" callback must set any parameters that are specific to this}
00172 \textcolor{comment}{ * dataset, based on the combination of the dataset creation property list}
00173 \textcolor{comment}{ * values, the datatype and the dataspace.  For example, some filters perform}
00174 \textcolor{comment}{ * different actions based on different datatypes (or datatype sizes) or}
00175 \textcolor{comment}{ * different number of dimensions or dataspace sizes.}
00176 \textcolor{comment}{ *}
00177 \textcolor{comment}{ * The "set\_local" callback can be the NULL pointer, in which case, the library}
00178 \textcolor{comment}{ * will assume that there are no dataset-specific settings for this filter.}
00179 \textcolor{comment}{ *}
00180 \textcolor{comment}{ * The "set\_local" callback must return non-negative on success and negative}
00181 \textcolor{comment}{ * for an error.}
00182 \textcolor{comment}{ */}
00183 \textcolor{keyword}{typedef} herr\_t (*H5Z\_set\_local\_func\_t)(hid\_t dcpl\_id, hid\_t type\_id, hid\_t space\_id);
00184 
00185 \textcolor{comment}{/*}
00186 \textcolor{comment}{ * A filter gets definition flags and invocation flags (defined above), the}
00187 \textcolor{comment}{ * client data array and size defined when the filter was added to the}
00188 \textcolor{comment}{ * pipeline, the size in bytes of the data on which to operate, and pointers}
00189 \textcolor{comment}{ * to a buffer and its allocated size.}
00190 \textcolor{comment}{ *}
00191 \textcolor{comment}{ * The filter should store the result in the supplied buffer if possible,}
00192 \textcolor{comment}{ * otherwise it can allocate a new buffer, freeing the original.  The}
00193 \textcolor{comment}{ * allocated size of the new buffer should be returned through the BUF\_SIZE}
00194 \textcolor{comment}{ * pointer and the new buffer through the BUF pointer.}
00195 \textcolor{comment}{ *}
00196 \textcolor{comment}{ * The return value from the filter is the number of bytes in the output}
00197 \textcolor{comment}{ * buffer. If an error occurs then the function should return zero and leave}
00198 \textcolor{comment}{ * all pointer arguments unchanged.}
00199 \textcolor{comment}{ */}
00200 \textcolor{keyword}{typedef} size\_t (*H5Z\_func\_t)(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} flags, \textcolor{keywordtype}{size\_t} cd\_nelmts,
00201                  \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} cd\_values[], \textcolor{keywordtype}{size\_t} nbytes,
00202                  \textcolor{keywordtype}{size\_t} *buf\_size, \textcolor{keywordtype}{void} **buf);
00203 
00204 \textcolor{comment}{/*}
00205 \textcolor{comment}{ * The filter table maps filter identification numbers to structs that}
00206 \textcolor{comment}{ * contain a pointers to the filter function and timing statistics.}
00207 \textcolor{comment}{ */}
00208 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_z__class2__t}{H5Z\_class2\_t} \{
00209     \textcolor{keywordtype}{int} version;                \textcolor{comment}{/* Version number of the H5Z\_class\_t struct */}
00210     H5Z\_filter\_t id;        \textcolor{comment}{/* Filter ID number              */}
00211     \textcolor{keywordtype}{unsigned} encoder\_present;   \textcolor{comment}{/* Does this filter have an encoder? */}
00212     \textcolor{keywordtype}{unsigned} decoder\_present;   \textcolor{comment}{/* Does this filter have a decoder? */}
00213     \textcolor{keyword}{const} \textcolor{keywordtype}{char}  *name;      \textcolor{comment}{/* Comment for debugging             */}
00214     H5Z\_can\_apply\_func\_t can\_apply; \textcolor{comment}{/* The "can apply" callback for a filter */}
00215     H5Z\_set\_local\_func\_t set\_local; \textcolor{comment}{/* The "set local" callback for a filter */}
00216     H5Z\_func\_t filter;      \textcolor{comment}{/* The actual filter function            */}
00217 \} \hyperlink{struct_h5_z__class2__t}{H5Z\_class2\_t};
00218 
00219 H5\_DLL herr\_t H5Zregister(\textcolor{keyword}{const} \textcolor{keywordtype}{void} *cls);
00220 H5\_DLL herr\_t H5Zunregister(H5Z\_filter\_t \textcolor{keywordtype}{id});
00221 H5\_DLL htri\_t H5Zfilter\_avail(H5Z\_filter\_t \textcolor{keywordtype}{id});
00222 H5\_DLL herr\_t H5Zget\_filter\_info(H5Z\_filter\_t filter, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} *filter\_config\_flags);
00223 
00224 \textcolor{comment}{/* Symbols defined for compatibility with previous versions of the HDF5 API.}
00225 \textcolor{comment}{ *}
00226 \textcolor{comment}{ * Use of these symbols is deprecated.}
00227 \textcolor{comment}{ */}
00228 \textcolor{preprocessor}{#ifndef H5\_NO\_DEPRECATED\_SYMBOLS}
00229 
00230 \textcolor{comment}{/*}
00231 \textcolor{comment}{ * The filter table maps filter identification numbers to structs that}
00232 \textcolor{comment}{ * contain a pointers to the filter function and timing statistics.}
00233 \textcolor{comment}{ */}
00234 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_z__class1__t}{H5Z\_class1\_t} \{
00235     H5Z\_filter\_t id;        \textcolor{comment}{/* Filter ID number              */}
00236     \textcolor{keyword}{const} \textcolor{keywordtype}{char}  *name;      \textcolor{comment}{/* Comment for debugging             */}
00237     H5Z\_can\_apply\_func\_t can\_apply; \textcolor{comment}{/* The "can apply" callback for a filter */}
00238     H5Z\_set\_local\_func\_t set\_local; \textcolor{comment}{/* The "set local" callback for a filter */}
00239     H5Z\_func\_t filter;      \textcolor{comment}{/* The actual filter function            */}
00240 \} \hyperlink{struct_h5_z__class1__t}{H5Z\_class1\_t};
00241 
00242 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* H5\_NO\_DEPRECATED\_SYMBOLS */}\textcolor{preprocessor}{}
00243 
00244 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00245 \}
00246 \textcolor{preprocessor}{#endif}
00247 \textcolor{preprocessor}{#endif}
00248 
\end{DoxyCode}
