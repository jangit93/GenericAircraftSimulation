\hypertarget{eigen_2bench_2btl_2generic__bench_2utils_2xy__file_8hh_source}{}\section{eigen/bench/btl/generic\+\_\+bench/utils/xy\+\_\+file.hh}
\label{eigen_2bench_2btl_2generic__bench_2utils_2xy__file_8hh_source}\index{xy\+\_\+file.\+hh@{xy\+\_\+file.\+hh}}

\begin{DoxyCode}
00001 \textcolor{comment}{//=====================================================}
00002 \textcolor{comment}{// File   :  dump\_file\_x\_y.hh}
00003 \textcolor{comment}{// Author :  L. Plagne <laurent.plagne@edf.fr)>        }
00004 \textcolor{comment}{// Copyright (C) EDF R&D,  lun sep 30 14:23:20 CEST 2002}
00005 \textcolor{comment}{//=====================================================}
00006 \textcolor{comment}{// }
00007 \textcolor{comment}{// This program is free software; you can redistribute it and/or}
00008 \textcolor{comment}{// modify it under the terms of the GNU General Public License}
00009 \textcolor{comment}{// as published by the Free Software Foundation; either version 2}
00010 \textcolor{comment}{// of the License, or (at your option) any later version.}
00011 \textcolor{comment}{// }
00012 \textcolor{comment}{// This program is distributed in the hope that it will be useful,}
00013 \textcolor{comment}{// but WITHOUT ANY WARRANTY; without even the implied warranty of}
00014 \textcolor{comment}{// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the}
00015 \textcolor{comment}{// GNU General Public License for more details.}
00016 \textcolor{comment}{// You should have received a copy of the GNU General Public License}
00017 \textcolor{comment}{// along with this program; if not, write to the Free Software}
00018 \textcolor{comment}{// Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.}
00019 \textcolor{comment}{// }
00020 \textcolor{preprocessor}{#ifndef XY\_FILE\_HH}
00021 \textcolor{preprocessor}{#define XY\_FILE\_HH}
00022 \textcolor{preprocessor}{#include <fstream>}
00023 \textcolor{preprocessor}{#include <iostream>}
00024 \textcolor{preprocessor}{#include <string>}
00025 \textcolor{preprocessor}{#include <vector>}
00026 \textcolor{keyword}{using namespace }\hyperlink{namespacestd}{std};
00027 
00028 \textcolor{keywordtype}{bool} read\_xy\_file(\textcolor{keyword}{const} std::string & filename, std::vector<int> & tab\_sizes,
00029                   std::vector<double> & tab\_mflops, \textcolor{keywordtype}{bool} quiet = \textcolor{keyword}{false})
00030 \{
00031 
00032   std::ifstream input\_file (filename.c\_str(),std::ios::in);
00033 
00034   \textcolor{keywordflow}{if} (!input\_file)\{
00035     \textcolor{keywordflow}{if} (!quiet) \{
00036       INFOS(\textcolor{stringliteral}{"!!! Error opening "}<<filename);
00037     \}
00038     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00039   \}
00040 
00041   \textcolor{keywordtype}{int} nb\_point=0;
00042   \textcolor{keywordtype}{int} size=0;
00043   \textcolor{keywordtype}{double} mflops=0;
00044 
00045   \textcolor{keywordflow}{while} (input\_file >> size >> mflops )\{
00046     nb\_point++;
00047     tab\_sizes.push\_back(size);
00048     tab\_mflops.push\_back(mflops);
00049   \}
00050   SCRUTE(nb\_point);
00051 
00052   input\_file.close();
00053   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00054 \}
00055 
00056 \textcolor{comment}{// The Vector class must satisfy the following part of STL vector concept :}
00057 \textcolor{comment}{//            resize() method}
00058 \textcolor{comment}{//            [] operator for seting element}
00059 \textcolor{comment}{// the vector element must have the << operator define}
00060 
00061 \textcolor{keyword}{using namespace }\hyperlink{namespacestd}{std};
00062 
00063 \textcolor{keyword}{template}<\textcolor{keyword}{class} Vector\_A, \textcolor{keyword}{class} Vector\_B>
00064 \textcolor{keywordtype}{void} dump\_xy\_file(\textcolor{keyword}{const} Vector\_A & X, \textcolor{keyword}{const} Vector\_B & Y, \textcolor{keyword}{const} std::string & filename)\{
00065   
00066   ofstream outfile (filename.c\_str(),ios::out) ;
00067   \textcolor{keywordtype}{int} size=X.size();
00068   
00069   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<size;i++)
00070     outfile << X[i] << \textcolor{stringliteral}{" "} << Y[i] << endl;
00071 
00072   outfile.close();
00073 \} 
00074 
00075 \textcolor{preprocessor}{#endif}
\end{DoxyCode}
