\hypertarget{matio_2visual__studio_2test_2eigen_2bench_2btl_2generic__bench_2static_2static__size__generator_8hh_source}{}\section{matio/visual\+\_\+studio/test/eigen/bench/btl/generic\+\_\+bench/static/static\+\_\+size\+\_\+generator.hh}
\label{matio_2visual__studio_2test_2eigen_2bench_2btl_2generic__bench_2static_2static__size__generator_8hh_source}\index{static\+\_\+size\+\_\+generator.\+hh@{static\+\_\+size\+\_\+generator.\+hh}}

\begin{DoxyCode}
00001 \textcolor{comment}{//=====================================================}
00002 \textcolor{comment}{// File   :  static\_size\_generator.hh}
00003 \textcolor{comment}{// Author :  L. Plagne <laurent.plagne@edf.fr)>        }
00004 \textcolor{comment}{// Copyright (C) EDF R&D,  mar déc 3 18:59:36 CET 2002}
00005 \textcolor{comment}{//=====================================================}
00006 \textcolor{comment}{// }
00007 \textcolor{comment}{// This program is free software; you can redistribute it and/or}
00008 \textcolor{comment}{// modify it under the terms of the GNU General Public License}
00009 \textcolor{comment}{// as published by the Free Software Foundation; either version 2}
00010 \textcolor{comment}{// of the License, or (at your option) any later version.}
00011 \textcolor{comment}{// }
00012 \textcolor{comment}{// This program is distributed in the hope that it will be useful,}
00013 \textcolor{comment}{// but WITHOUT ANY WARRANTY; without even the implied warranty of}
00014 \textcolor{comment}{// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the}
00015 \textcolor{comment}{// GNU General Public License for more details.}
00016 \textcolor{comment}{// You should have received a copy of the GNU General Public License}
00017 \textcolor{comment}{// along with this program; if not, write to the Free Software}
00018 \textcolor{comment}{// Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.}
00019 \textcolor{comment}{// }
00020 \textcolor{preprocessor}{#ifndef \_STATIC\_SIZE\_GENERATOR\_HH}
00021 \textcolor{preprocessor}{#define \_STATIC\_SIZE\_GENERATOR\_HH}
00022 \textcolor{preprocessor}{#include <vector>}
00023 
00024 \textcolor{keyword}{using namespace }\hyperlink{namespacestd}{std};
00025 
00026 \textcolor{comment}{//recursive generation of statically defined matrix and vector sizes}
00027 
00028 \textcolor{keyword}{template} <\textcolor{keywordtype}{int} SIZE,\textcolor{keyword}{template}<\textcolor{keyword}{class}> \textcolor{keyword}{class }Perf\_Analyzer, \textcolor{keyword}{template}<\textcolor{keyword}{class}> \textcolor{keyword}{class }Action, \textcolor{keyword}{template}<\textcolor{keyword}{class},\textcolor{keywordtype}{int}> \textcolor{keyword}{
      class }Interface> 
00029 \textcolor{keyword}{struct }\hyperlink{structstatic__size__generator}{static\_size\_generator}\{
00030   \textcolor{keyword}{static} \textcolor{keywordtype}{void} go(vector<double> & tab\_sizes, vector<double> & tab\_mflops)
00031   \{
00032     tab\_sizes.push\_back(SIZE);
00033     std::cout << tab\_sizes.back() << \textcolor{stringliteral}{" \(\backslash\)t"} << std::flush;
00034     Perf\_Analyzer<Action<Interface<REAL\_TYPE,SIZE> > > perf\_action;
00035     tab\_mflops.push\_back(perf\_action.eval\_mflops(SIZE));
00036     std::cout << tab\_mflops.back() << \textcolor{stringliteral}{" MFlops"} << std::endl;
00037     \hyperlink{structstatic__size__generator}{static\_size\_generator<SIZE-1,Perf\_Analyzer,Action,Interface>::go}
      (tab\_sizes,tab\_mflops);
00038   \};
00039 \};
00040 
00041 \textcolor{comment}{//recursion end}
00042 
00043 \textcolor{keyword}{template} <\textcolor{keyword}{template}<\textcolor{keyword}{class}> \textcolor{keyword}{class }Perf\_Analyzer, \textcolor{keyword}{template}<\textcolor{keyword}{class}> \textcolor{keyword}{class }Action, \textcolor{keyword}{template}<\textcolor{keyword}{class},\textcolor{keywordtype}{int}> \textcolor{keyword}{class }
      Interface> 
00044 \textcolor{keyword}{struct }\hyperlink{structstatic__size__generator}{static\_size\_generator}<1,Perf\_Analyzer,Action,Interface>\{  
00045   \textcolor{keyword}{static}  \textcolor{keywordtype}{void} go(vector<double> & tab\_sizes, vector<double> & tab\_mflops)
00046   \{
00047     tab\_sizes.push\_back(1);
00048     Perf\_Analyzer<Action<Interface<REAL\_TYPE,1> > > perf\_action;
00049     tab\_mflops.push\_back(perf\_action.eval\_mflops(1));
00050   \};
00051 \};
00052 
00053 \textcolor{preprocessor}{#endif}
00054   
00055   
00056   
00057   
\end{DoxyCode}
