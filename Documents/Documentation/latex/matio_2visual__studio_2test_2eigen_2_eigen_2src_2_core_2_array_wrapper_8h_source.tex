\hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_array_wrapper_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/\+Eigen/src/\+Core/\+Array\+Wrapper.h}
\label{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_array_wrapper_8h_source}\index{Array\+Wrapper.\+h@{Array\+Wrapper.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2009-2010 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_ARRAYWRAPPER\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_ARRAYWRAPPER\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{ 
00014 
00026 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00027 \textcolor{keyword}{template}<\textcolor{keyword}{typename} ExpressionType>
00028 \textcolor{keyword}{struct }traits<ArrayWrapper<ExpressionType> >
00029   : \textcolor{keyword}{public} traits<typename remove\_all<typename ExpressionType::Nested>::type >
00030 \{
00031   \textcolor{keyword}{typedef} ArrayXpr XprKind;
00032   \textcolor{comment}{// Let's remove NestByRefBit}
00033   \textcolor{keyword}{enum} \{
00034     Flags0 = traits<typename remove\_all<typename ExpressionType::Nested>::type >::Flags,
00035     LvalueBitFlag = is\_lvalue<ExpressionType>::value ? \hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit} : 0,
00036     Flags = (Flags0 & ~(NestByRefBit | \hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit})) | LvalueBitFlag
00037   \};
00038 \};
00039 \}
00040 
00041 \textcolor{keyword}{template}<\textcolor{keyword}{typename} ExpressionType>
00042 \textcolor{keyword}{class }ArrayWrapper : \textcolor{keyword}{public} ArrayBase<ArrayWrapper<ExpressionType> >
00043 \{
00044   \textcolor{keyword}{public}:
00045     \textcolor{keyword}{typedef} ArrayBase<ArrayWrapper> Base;
00046     EIGEN\_DENSE\_PUBLIC\_INTERFACE(ArrayWrapper)
00047     EIGEN\_INHERIT\_ASSIGNMENT\_OPERATORS(ArrayWrapper)
00048     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_all<ExpressionType>::type NestedExpression;
00049 
00050     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::conditional<
00051                        internal::is\_lvalue<ExpressionType>::value,
00052                        Scalar,
00053                        \textcolor{keyword}{const} Scalar
00054                      >::type ScalarWithConstIfNotLvalue;
00055 
00056     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::ref\_selector<ExpressionType>::non\_const\_type NestedExpressionType;
00057 
00058     \textcolor{keyword}{using} Base::coeffRef;
00059 
00060     EIGEN\_DEVICE\_FUNC
00061     \textcolor{keyword}{explicit} EIGEN\_STRONG\_INLINE ArrayWrapper(ExpressionType& matrix) : m\_expression(matrix) \{\}
00062 
00063     EIGEN\_DEVICE\_FUNC
00064     \textcolor{keyword}{inline} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rows()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_expression.rows(); \}
00065     EIGEN\_DEVICE\_FUNC
00066     \textcolor{keyword}{inline} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} cols()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_expression.cols(); \}
00067     EIGEN\_DEVICE\_FUNC
00068     \textcolor{keyword}{inline} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} outerStride()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_expression.outerStride(); \}
00069     EIGEN\_DEVICE\_FUNC
00070     \textcolor{keyword}{inline} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} innerStride()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_expression.innerStride(); \}
00071 
00072     EIGEN\_DEVICE\_FUNC
00073     \textcolor{keyword}{inline} ScalarWithConstIfNotLvalue* data() \{ \textcolor{keywordflow}{return} m\_expression.data(); \}
00074     EIGEN\_DEVICE\_FUNC
00075     \textcolor{keyword}{inline} \textcolor{keyword}{const} Scalar* data()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_expression.data(); \}
00076 
00077     EIGEN\_DEVICE\_FUNC
00078     \textcolor{keyword}{inline} \textcolor{keyword}{const} Scalar& coeffRef(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rowId, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} colId)\textcolor{keyword}{ const}
00079 \textcolor{keyword}{    }\{
00080       \textcolor{keywordflow}{return} m\_expression.coeffRef(rowId, colId);
00081     \}
00082 
00083     EIGEN\_DEVICE\_FUNC
00084     \textcolor{keyword}{inline} \textcolor{keyword}{const} Scalar& coeffRef(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} index)\textcolor{keyword}{ const}
00085 \textcolor{keyword}{    }\{
00086       \textcolor{keywordflow}{return} m\_expression.coeffRef(index);
00087     \}
00088 
00089     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Dest>
00090     EIGEN\_DEVICE\_FUNC
00091     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} evalTo(Dest& dst)\textcolor{keyword}{ const }\{ dst = m\_expression; \}
00092 
00093     \textcolor{keyword}{const} \textcolor{keyword}{typename} internal::remove\_all<NestedExpressionType>::type& 
00094     EIGEN\_DEVICE\_FUNC
00095     nestedExpression()\textcolor{keyword}{ const }
00096 \textcolor{keyword}{    }\{
00097       \textcolor{keywordflow}{return} m\_expression;
00098     \}
00099 
00102     EIGEN\_DEVICE\_FUNC
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_array_wrapper_8h_source_l00103}\hyperlink{group___core___module_a04bcb4140d2b2f9bf571efddac135a21}{00103}     \textcolor{keywordtype}{void} \hyperlink{group___core___module_a04bcb4140d2b2f9bf571efddac135a21}{resize}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} newSize) \{ m\_expression.resize(newSize); \}
00106     EIGEN\_DEVICE\_FUNC
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_array_wrapper_8h_source_l00107}\hyperlink{group___core___module_aaead58c7011ff95bb588d9bb242aca8a}{00107}     \textcolor{keywordtype}{void} \hyperlink{group___core___module_aaead58c7011ff95bb588d9bb242aca8a}{resize}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rows, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} cols) \{ m\_expression.resize(rows,cols); \}
00108 
00109   \textcolor{keyword}{protected}:
00110     NestedExpressionType m\_expression;
00111 \};
00112 
00124 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00125 \textcolor{keyword}{template}<\textcolor{keyword}{typename} ExpressionType>
00126 \textcolor{keyword}{struct }traits<MatrixWrapper<ExpressionType> >
00127  : \textcolor{keyword}{public} traits<typename remove\_all<typename ExpressionType::Nested>::type >
00128 \{
00129   \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1_matrix_xpr}{MatrixXpr} XprKind;
00130   \textcolor{comment}{// Let's remove NestByRefBit}
00131   \textcolor{keyword}{enum} \{
00132     Flags0 = traits<typename remove\_all<typename ExpressionType::Nested>::type >::Flags,
00133     LvalueBitFlag = is\_lvalue<ExpressionType>::value ? \hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit} : 0,
00134     Flags = (Flags0 & ~(NestByRefBit | \hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit})) | LvalueBitFlag
00135   \};
00136 \};
00137 \}
00138 
00139 \textcolor{keyword}{template}<\textcolor{keyword}{typename} ExpressionType>
00140 \textcolor{keyword}{class }\hyperlink{group___core___module_class_eigen_1_1_matrix_wrapper}{MatrixWrapper} : \textcolor{keyword}{public} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase}<MatrixWrapper<ExpressionType> >
00141 \{
00142   \textcolor{keyword}{public}:
00143     \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<MatrixWrapper<ExpressionType>} > Base;
00144     EIGEN\_DENSE\_PUBLIC\_INTERFACE(\hyperlink{group___core___module_class_eigen_1_1_matrix_wrapper}{MatrixWrapper})
00145     EIGEN\_INHERIT\_ASSIGNMENT\_OPERATORS(\hyperlink{group___core___module_class_eigen_1_1_matrix_wrapper}{MatrixWrapper})
00146     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{group___sparse_core___module}{internal::remove\_all<ExpressionType>::type} 
      NestedExpression;
00147 
00148     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1conditional}{internal::conditional}<
00149                        internal::is\_lvalue<ExpressionType>::value,
00150                        Scalar,
00151                        \textcolor{keyword}{const} Scalar
00152                      >::type ScalarWithConstIfNotLvalue;
00153 
00154     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{class_eigen_1_1internal_1_1_tensor_lazy_evaluator_writable}{internal::ref\_selector<ExpressionType>::non\_const\_type}
       NestedExpressionType;
00155 
00156     \textcolor{keyword}{using} Base::coeffRef;
00157 
00158     EIGEN\_DEVICE\_FUNC
00159     \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \hyperlink{group___core___module_class_eigen_1_1_matrix_wrapper}{MatrixWrapper}(ExpressionType& matrix) : m\_expression(matrix) \{\}
00160 
00161     EIGEN\_DEVICE\_FUNC
00162     \textcolor{keyword}{inline} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rows()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_expression.rows(); \}
00163     EIGEN\_DEVICE\_FUNC
00164     \textcolor{keyword}{inline} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} cols()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_expression.cols(); \}
00165     EIGEN\_DEVICE\_FUNC
00166     \textcolor{keyword}{inline} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} outerStride()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_expression.outerStride(); \}
00167     EIGEN\_DEVICE\_FUNC
00168     \textcolor{keyword}{inline} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} innerStride()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_expression.innerStride(); \}
00169 
00170     EIGEN\_DEVICE\_FUNC
00171     \textcolor{keyword}{inline} ScalarWithConstIfNotLvalue* data() \{ \textcolor{keywordflow}{return} m\_expression.data(); \}
00172     EIGEN\_DEVICE\_FUNC
00173     \textcolor{keyword}{inline} \textcolor{keyword}{const} Scalar* data()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_expression.data(); \}
00174 
00175     EIGEN\_DEVICE\_FUNC
00176     \textcolor{keyword}{inline} \textcolor{keyword}{const} Scalar& coeffRef(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rowId, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} colId)\textcolor{keyword}{ const}
00177 \textcolor{keyword}{    }\{
00178       \textcolor{keywordflow}{return} m\_expression.derived().coeffRef(rowId, colId);
00179     \}
00180 
00181     EIGEN\_DEVICE\_FUNC
00182     \textcolor{keyword}{inline} \textcolor{keyword}{const} Scalar& coeffRef(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} index)\textcolor{keyword}{ const}
00183 \textcolor{keyword}{    }\{
00184       \textcolor{keywordflow}{return} m\_expression.coeffRef(index);
00185     \}
00186 
00187     EIGEN\_DEVICE\_FUNC
00188     \textcolor{keyword}{const} \textcolor{keyword}{typename} \hyperlink{group___sparse_core___module}{internal::remove\_all<NestedExpressionType>::type}
      & 
00189     nestedExpression()\textcolor{keyword}{ const }
00190 \textcolor{keyword}{    }\{
00191       \textcolor{keywordflow}{return} m\_expression;
00192     \}
00193 
00196     EIGEN\_DEVICE\_FUNC
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_array_wrapper_8h_source_l00197}\hyperlink{group___core___module_a0244fd1071715e2b0cd60e39c1e6e56a}{00197}     \textcolor{keywordtype}{void} \hyperlink{group___core___module_a0244fd1071715e2b0cd60e39c1e6e56a}{resize}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} newSize) \{ m\_expression.resize(newSize); \}
00200     EIGEN\_DEVICE\_FUNC
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_array_wrapper_8h_source_l00201}\hyperlink{group___core___module_a6b0c3c352ad14c57294b022237b7489f}{00201}     \textcolor{keywordtype}{void} \hyperlink{group___core___module_a6b0c3c352ad14c57294b022237b7489f}{resize}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rows, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} cols) \{ m\_expression.resize(rows,cols); \}
00202 
00203   \textcolor{keyword}{protected}:
00204     NestedExpressionType m\_expression;
00205 \};
00206 
00207 \} \textcolor{comment}{// end namespace Eigen}
00208 
00209 \textcolor{preprocessor}{#endif // EIGEN\_ARRAYWRAPPER\_H}
\end{DoxyCode}
