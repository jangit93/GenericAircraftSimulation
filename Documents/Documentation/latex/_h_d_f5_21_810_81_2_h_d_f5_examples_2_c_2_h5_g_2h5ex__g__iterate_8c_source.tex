\hypertarget{_h_d_f5_21_810_81_2_h_d_f5_examples_2_c_2_h5_g_2h5ex__g__iterate_8c_source}{}\section{H\+D\+F5/1.10.1/\+H\+D\+F5\+Examples/\+C/\+H5\+G/h5ex\+\_\+g\+\_\+iterate.c}
\label{_h_d_f5_21_810_81_2_h_d_f5_examples_2_c_2_h5_g_2h5ex__g__iterate_8c_source}\index{h5ex\+\_\+g\+\_\+iterate.\+c@{h5ex\+\_\+g\+\_\+iterate.\+c}}

\begin{DoxyCode}
00001 \textcolor{comment}{/************************************************************}
00002 \textcolor{comment}{}
00003 \textcolor{comment}{  This example shows how to iterate over group members using}
00004 \textcolor{comment}{  H5Literate.}
00005 \textcolor{comment}{}
00006 \textcolor{comment}{  This file is intended for use with HDF5 Library version 1.8}
00007 \textcolor{comment}{}
00008 \textcolor{comment}{ ************************************************************/}
00009 
00010 \textcolor{preprocessor}{#include "hdf5.h"}
00011 \textcolor{preprocessor}{#include <stdio.h>}
00012 
00013 \textcolor{preprocessor}{#define FILE       "h5ex\_g\_iterate.h5"}
00014 
00015 \textcolor{comment}{/*}
00016 \textcolor{comment}{ * Operator function to be called by H5Literate.}
00017 \textcolor{comment}{ */}
00018 herr\_t op\_func (hid\_t loc\_id, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *name, \textcolor{keyword}{const} \hyperlink{struct_h5_l__info__t}{H5L\_info\_t} *info,
00019             \textcolor{keywordtype}{void} *operator\_data);
00020 
00021 \textcolor{keywordtype}{int}
00022 main (\textcolor{keywordtype}{void})
00023 \{
00024     hid\_t           \hyperlink{structfile}{file};           \textcolor{comment}{/* Handle */}
00025     herr\_t          status;
00026 
00027     \textcolor{comment}{/*}
00028 \textcolor{comment}{     * Open file.}
00029 \textcolor{comment}{     */}
00030     file = H5Fopen (FILE, H5F\_ACC\_RDONLY, H5P\_DEFAULT);
00031 
00032     \textcolor{comment}{/*}
00033 \textcolor{comment}{     * Begin iteration.}
00034 \textcolor{comment}{     */}
00035     printf (\textcolor{stringliteral}{"Objects in root group:\(\backslash\)n"});
00036     status = H5Literate (file, H5\_INDEX\_NAME, H5\_ITER\_NATIVE, NULL, op\_func, NULL);
00037 
00038     \textcolor{comment}{/*}
00039 \textcolor{comment}{     * Close and release resources.}
00040 \textcolor{comment}{     */}
00041     status = H5Fclose (file);
00042 
00043     \textcolor{keywordflow}{return} 0;
00044 \}
00045 
00046 
00047 \textcolor{comment}{/************************************************************}
00048 \textcolor{comment}{}
00049 \textcolor{comment}{  Operator function.  Prints the name and type of the object}
00050 \textcolor{comment}{  being examined.}
00051 \textcolor{comment}{}
00052 \textcolor{comment}{ ************************************************************/}
00053 herr\_t op\_func (hid\_t loc\_id, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *name, \textcolor{keyword}{const} \hyperlink{struct_h5_l__info__t}{H5L\_info\_t} *info,
00054             \textcolor{keywordtype}{void} *operator\_data)
00055 \{
00056     herr\_t          status;
00057     \hyperlink{struct_h5_o__info__t}{H5O\_info\_t}      infobuf;
00058 
00059     \textcolor{comment}{/*}
00060 \textcolor{comment}{     * Get type of the object and display its name and type.}
00061 \textcolor{comment}{     * The name of the object is passed to this function by}
00062 \textcolor{comment}{     * the Library.}
00063 \textcolor{comment}{     */}
00064     status = H5Oget\_info\_by\_name (loc\_id, name, &infobuf, H5P\_DEFAULT);
00065     \textcolor{keywordflow}{switch} (infobuf.type) \{
00066         \textcolor{keywordflow}{case} H5O\_TYPE\_GROUP:
00067             printf (\textcolor{stringliteral}{"  Group: %s\(\backslash\)n"}, name);
00068             \textcolor{keywordflow}{break};
00069         \textcolor{keywordflow}{case} H5O\_TYPE\_DATASET:
00070             printf (\textcolor{stringliteral}{"  Dataset: %s\(\backslash\)n"}, name);
00071             \textcolor{keywordflow}{break};
00072         \textcolor{keywordflow}{case} H5O\_TYPE\_NAMED\_DATATYPE:
00073             printf (\textcolor{stringliteral}{"  Datatype: %s\(\backslash\)n"}, name);
00074             \textcolor{keywordflow}{break};
00075         \textcolor{keywordflow}{default}:
00076             printf ( \textcolor{stringliteral}{"  Unknown: %s\(\backslash\)n"}, name);
00077     \}
00078 
00079     \textcolor{keywordflow}{return} 0;
00080 \}
\end{DoxyCode}
