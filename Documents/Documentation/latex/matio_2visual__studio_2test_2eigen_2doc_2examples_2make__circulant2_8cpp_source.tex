\hypertarget{matio_2visual__studio_2test_2eigen_2doc_2examples_2make__circulant2_8cpp_source}{}\section{matio/visual\+\_\+studio/test/eigen/doc/examples/make\+\_\+circulant2.cpp}
\label{matio_2visual__studio_2test_2eigen_2doc_2examples_2make__circulant2_8cpp_source}\index{make\+\_\+circulant2.\+cpp@{make\+\_\+circulant2.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#include <Eigen/Core>}
00002 \textcolor{preprocessor}{#include <iostream>}
00003 
00004 \textcolor{keyword}{using namespace }\hyperlink{namespace_eigen}{Eigen};
00005 
00006 \textcolor{comment}{// [circulant\_func]}
00007 \textcolor{keyword}{template}<\textcolor{keyword}{class} ArgType>
00008 \textcolor{keyword}{class }\hyperlink{classcirculant__functor}{circulant\_functor} \{
00009   \textcolor{keyword}{const} ArgType &m\_vec;
00010 \textcolor{keyword}{public}:
00011   \hyperlink{classcirculant__functor}{circulant\_functor}(\textcolor{keyword}{const} ArgType& arg) : m\_vec(arg) \{\}
00012 
00013   \textcolor{keyword}{const} \textcolor{keyword}{typename} ArgType::Scalar& operator() (\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} row, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} col)\textcolor{keyword}{ const }\{
00014     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} index = row - col;
00015     \textcolor{keywordflow}{if} (index < 0) index += m\_vec.size();
00016     \textcolor{keywordflow}{return} m\_vec(index);
00017   \}
00018 \};
00019 \textcolor{comment}{// [circulant\_func]}
00020 
00021 \textcolor{comment}{// [square]}
00022 \textcolor{keyword}{template}<\textcolor{keyword}{class} ArgType>
00023 \textcolor{keyword}{struct }\hyperlink{structcirculant__helper}{circulant\_helper} \{
00024   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix}<\textcolor{keyword}{typename} ArgType::Scalar,
00025                  ArgType::SizeAtCompileTime,
00026                  ArgType::SizeAtCompileTime,
00027                  \hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0cbd4bdd0abcfc0224c5fcb5e4f6669a}{ColMajor},
00028                  ArgType::MaxSizeAtCompileTime,
00029                  ArgType::MaxSizeAtCompileTime> MatrixType;
00030 \};
00031 \textcolor{comment}{// [square]}
00032 
00033 \textcolor{comment}{// [makeCirculant]}
00034 \textcolor{keyword}{template} <\textcolor{keyword}{class} ArgType>
00035 \hyperlink{group___core___module_class_eigen_1_1_cwise_nullary_op}{CwiseNullaryOp<circulant\_functor<ArgType>}, \textcolor{keyword}{typename} 
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{circulant\_helper<ArgType>::MatrixType}>
00036 makeCirculant(\textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{Eigen::MatrixBase<ArgType>}& arg)
00037 \{
00038   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{group___core___module_class_eigen_1_1_matrix}{circulant\_helper<ArgType>::MatrixType} MatrixType;
00039   \textcolor{keywordflow}{return} MatrixType::NullaryExpr(arg.size(), arg.size(), 
      \hyperlink{classcirculant__functor}{circulant\_functor<ArgType>}(arg.derived()));
00040 \}
00041 \textcolor{comment}{// [makeCirculant]}
00042 
00043 \textcolor{comment}{// [main]}
00044 \textcolor{keywordtype}{int} main()
00045 \{
00046   Eigen::VectorXd vec(4);
00047   vec << 1, 2, 4, 8;
00048   Eigen::MatrixXd mat;
00049   mat = makeCirculant(vec);
00050   std::cout << mat << std::endl;
00051 \}
00052 \textcolor{comment}{// [main]}
\end{DoxyCode}
