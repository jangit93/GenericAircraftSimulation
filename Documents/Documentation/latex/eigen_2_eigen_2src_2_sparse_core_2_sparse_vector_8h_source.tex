\hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source}{}\section{eigen/\+Eigen/src/\+Sparse\+Core/\+Sparse\+Vector.h}
\label{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source}\index{Sparse\+Vector.\+h@{Sparse\+Vector.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2008-2015 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_SPARSEVECTOR\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_SPARSEVECTOR\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{ 
00014 
00028 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00029 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_Scalar, \textcolor{keywordtype}{int} \_Options, \textcolor{keyword}{typename} \_StorageIndex>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00030}\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_sparse_vector_3_01___scalar_00_01___options_00_01___storage_index_01_4_01_4}{00030} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1traits}{traits}<\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}<\_Scalar, \_Options, \_StorageIndex> >
00031 \{
00032   \textcolor{keyword}{typedef} \_Scalar Scalar;
00033   \textcolor{keyword}{typedef} \_StorageIndex StorageIndex;
00034   \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1_sparse}{Sparse} \hyperlink{struct_eigen_1_1_sparse}{StorageKind};
00035   \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1_matrix_xpr}{MatrixXpr} \hyperlink{struct_eigen_1_1_matrix_xpr}{XprKind};
00036   \textcolor{keyword}{enum} \{
00037     IsColVector = (\_Options & \hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}) ? 0 : 1,
00038 
00039     RowsAtCompileTime = IsColVector ? \hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} : 1,
00040     ColsAtCompileTime = IsColVector ? 1 : Dynamic,
00041     MaxRowsAtCompileTime = RowsAtCompileTime,
00042     MaxColsAtCompileTime = ColsAtCompileTime,
00043     Flags = \_Options | NestByRefBit | \hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit} | (IsColVector ? 0 : 
      \hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}) | \hyperlink{group__flags_gaed0244284da47a2b8661261431173caf}{CompressedAccessBit},
00044     SupportedAccessPatterns = InnerRandomAccessPattern
00045   \};
00046 \};
00047 
00048 \textcolor{comment}{// Sparse-Vector-Assignment kinds:}
00049 \textcolor{keyword}{enum} \{
00050   SVA\_RuntimeSwitch,
00051   SVA\_Inner,
00052   SVA\_Outer
00053 \};
00054 
00055 \textcolor{keyword}{template}< \textcolor{keyword}{typename} Dest, \textcolor{keyword}{typename} Src,
00056           \textcolor{keywordtype}{int} \hyperlink{struct_eigen_1_1internal_1_1_assignment_kind}{AssignmentKind} = !bool(Src::IsVectorAtCompileTime) ? SVA\_RuntimeSwitch
00057                              : Src::InnerSizeAtCompileTime==1 ? SVA\_Outer
00058                              : SVA\_Inner>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00059}\hyperlink{struct_eigen_1_1internal_1_1sparse__vector__assign__selector}{00059} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1sparse__vector__assign__selector}{sparse\_vector\_assign\_selector};
00060 
00061 \}
00062 
00063 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_Scalar, \textcolor{keywordtype}{int} \_Options, \textcolor{keyword}{typename} \_StorageIndex>
00064 \textcolor{keyword}{class }\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}
00065   : \textcolor{keyword}{public} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_compressed_base}{SparseCompressedBase}<SparseVector<\_Scalar, \_Options, \_StorageIndex> >
00066 \{
00067     \textcolor{keyword}{typedef} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_compressed_base}{SparseCompressedBase<SparseVector>} Base;
00068     \textcolor{keyword}{using} Base::convert\_index;
00069   \textcolor{keyword}{public}:
00070     EIGEN\_SPARSE\_PUBLIC\_INTERFACE(\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector})
00071     EIGEN\_SPARSE\_INHERIT\_ASSIGNMENT\_OPERATOR(\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}, +=)
00072     EIGEN\_SPARSE\_INHERIT\_ASSIGNMENT\_OPERATOR(\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}, -=)
00073     
00074     typedef \hyperlink{namespaceinternal}{internal}::\hyperlink{class_eigen_1_1internal_1_1_compressed_storage}{CompressedStorage}<Scalar,StorageIndex> Storage;
00075     enum \{ IsColVector = \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<SparseVector>::IsColVector}
       \};
00076     
00077     \textcolor{keyword}{enum} \{
00078       Options = \_Options
00079     \};
00080     
00081     EIGEN\_STRONG\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rows()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} IsColVector ? m\_size : 1; \}
00082     EIGEN\_STRONG\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} cols()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} IsColVector ? 1 : m\_size; \}
00083     EIGEN\_STRONG\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} innerSize()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_size; \}
00084     EIGEN\_STRONG\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} outerSize()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} 1; \}
00085 
00086     EIGEN\_STRONG\_INLINE \textcolor{keyword}{const} Scalar* valuePtr()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_data.valuePtr(); \}
00087     EIGEN\_STRONG\_INLINE Scalar* valuePtr() \{ \textcolor{keywordflow}{return} m\_data.valuePtr(); \}
00088 
00089     EIGEN\_STRONG\_INLINE \textcolor{keyword}{const} StorageIndex* innerIndexPtr()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_data.indexPtr(); \}
00090     EIGEN\_STRONG\_INLINE StorageIndex* innerIndexPtr() \{ \textcolor{keywordflow}{return} m\_data.indexPtr(); \}
00091 
00092     \textcolor{keyword}{inline} \textcolor{keyword}{const} StorageIndex* outerIndexPtr()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} 0; \}
00093     \textcolor{keyword}{inline} StorageIndex* outerIndexPtr() \{ \textcolor{keywordflow}{return} 0; \}
00094     \textcolor{keyword}{inline} \textcolor{keyword}{const} StorageIndex* innerNonZeroPtr()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} 0; \}
00095     \textcolor{keyword}{inline} StorageIndex* innerNonZeroPtr() \{ \textcolor{keywordflow}{return} 0; \}
00096     
00098     \textcolor{keyword}{inline} Storage& data() \{ \textcolor{keywordflow}{return} m\_data; \}
00100     \textcolor{keyword}{inline} \textcolor{keyword}{const} Storage& data()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_data; \}
00101 
00102     \textcolor{keyword}{inline} Scalar coeff(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} row, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} col)\textcolor{keyword}{ const}
00103 \textcolor{keyword}{    }\{
00104       eigen\_assert(IsColVector ? (col==0 && row>=0 && row<m\_size) : (row==0 && col>=0 && col<m\_size));
00105       \textcolor{keywordflow}{return} coeff(IsColVector ? row : col);
00106     \}
00107     \textcolor{keyword}{inline} Scalar coeff(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} i)\textcolor{keyword}{ const}
00108 \textcolor{keyword}{    }\{
00109       eigen\_assert(i>=0 && i<m\_size);
00110       \textcolor{keywordflow}{return} m\_data.at(StorageIndex(i));
00111     \}
00112 
00113     \textcolor{keyword}{inline} Scalar& coeffRef(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} row, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} col)
00114     \{
00115       eigen\_assert(IsColVector ? (col==0 && row>=0 && row<m\_size) : (row==0 && col>=0 && col<m\_size));
00116       \textcolor{keywordflow}{return} coeffRef(IsColVector ? row : col);
00117     \}
00118 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00125}\hyperlink{group___sparse_core___module_a4b1845ada6ae59dd7afe361e30136ace}{00125}     \textcolor{keyword}{inline} Scalar& \hyperlink{group___sparse_core___module_a4b1845ada6ae59dd7afe361e30136ace}{coeffRef}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} i)
00126     \{
00127       eigen\_assert(i>=0 && i<m\_size);
00128 
00129       \textcolor{keywordflow}{return} m\_data.atWithInsertion(\hyperlink{group___sparse_core___module_a0b540ba724726ebe953f8c0df06081ed}{StorageIndex}(i));
00130     \}
00131 
00132   \textcolor{keyword}{public}:
00133 
00134     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{class_eigen_1_1_sparse_compressed_base_1_1_inner_iterator}{Base::InnerIterator} \hyperlink{class_eigen_1_1_sparse_compressed_base_1_1_inner_iterator}{InnerIterator};
00135     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{class_eigen_1_1_sparse_compressed_base_1_1_reverse_inner_iterator}{Base::ReverseInnerIterator} 
      \hyperlink{class_eigen_1_1_sparse_compressed_base_1_1_reverse_inner_iterator}{ReverseInnerIterator};
00136 
00137     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} setZero() \{ m\_data.clear(); \}
00138 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00140}\hyperlink{group___sparse_core___module_aeaa74603bb1405f622726907795c9b5a}{00140}     \textcolor{keyword}{inline} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \hyperlink{group___sparse_core___module_aeaa74603bb1405f622726907795c9b5a}{nonZeros}()\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} m\_data.size(); \}
00141 
00142     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} startVec(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} outer)
00143     \{
00144       EIGEN\_UNUSED\_VARIABLE(outer);
00145       eigen\_assert(outer==0);
00146     \}
00147 
00148     \textcolor{keyword}{inline} Scalar& insertBackByOuterInner(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} outer, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} inner)
00149     \{
00150       EIGEN\_UNUSED\_VARIABLE(outer);
00151       eigen\_assert(outer==0);
00152       \textcolor{keywordflow}{return} insertBack(inner);
00153     \}
00154     \textcolor{keyword}{inline} Scalar& insertBack(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} i)
00155     \{
00156       m\_data.append(0, i);
00157       \textcolor{keywordflow}{return} m\_data.value(m\_data.size()-1);
00158     \}
00159     
00160     Scalar& insertBackByOuterInnerUnordered(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} outer, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} inner)
00161     \{
00162       EIGEN\_UNUSED\_VARIABLE(outer);
00163       eigen\_assert(outer==0);
00164       \textcolor{keywordflow}{return} insertBackUnordered(inner);
00165     \}
00166     \textcolor{keyword}{inline} Scalar& insertBackUnordered(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} i)
00167     \{
00168       m\_data.append(0, i);
00169       \textcolor{keywordflow}{return} m\_data.value(m\_data.size()-1);
00170     \}
00171 
00172     \textcolor{keyword}{inline} Scalar& insert(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} row, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} col)
00173     \{
00174       eigen\_assert(IsColVector ? (col==0 && row>=0 && row<m\_size) : (row==0 && col>=0 && col<m\_size));
00175       
00176       \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} inner = IsColVector ? row : col;
00177       \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} outer = IsColVector ? col : row;
00178       EIGEN\_ONLY\_USED\_FOR\_DEBUG(outer);
00179       eigen\_assert(outer==0);
00180       \textcolor{keywordflow}{return} insert(inner);
00181     \}
00182     Scalar& insert(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} i)
00183     \{
00184       eigen\_assert(i>=0 && i<m\_size);
00185       
00186       \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} startId = 0;
00187       \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} p = \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}(m\_data.size()) - 1;
00188       \textcolor{comment}{// TODO smart realloc}
00189       m\_data.resize(p+2,1);
00190 
00191       \textcolor{keywordflow}{while} ( (p >= startId) && (m\_data.index(p) > i) )
00192       \{
00193         m\_data.index(p+1) = m\_data.index(p);
00194         m\_data.value(p+1) = m\_data.value(p);
00195         --p;
00196       \}
00197       m\_data.index(p+1) = convert\_index(i);
00198       m\_data.value(p+1) = 0;
00199       \textcolor{keywordflow}{return} m\_data.value(p+1);
00200     \}
00201 
00204     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} reserve(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} reserveSize) \{ m\_data.reserve(reserveSize); \}
00205 
00206 
00207     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} finalize() \{\}
00208 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00210}\hyperlink{group___sparse_core___module_af094e30271da69f865b5d97f338f81d1}{00210}     \textcolor{keywordtype}{void} \hyperlink{group___sparse_core___module_af094e30271da69f865b5d97f338f81d1}{prune}(\textcolor{keyword}{const} Scalar& reference, \textcolor{keyword}{const} \hyperlink{group___sparse_core___module_aaec8ace6efb785c81d442931c3248d88}{RealScalar}& epsilon = 
      \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<RealScalar>::dummy\_precision}())
00211     \{
00212       m\_data.prune(reference,epsilon);
00213     \}
00214 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00223}\hyperlink{group___sparse_core___module_a2dc842b3bb2ba3692e210565c48aff3c}{00223}     \textcolor{keywordtype}{void} \hyperlink{group___sparse_core___module_a2dc842b3bb2ba3692e210565c48aff3c}{resize}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} rows, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} cols)
00224     \{
00225       eigen\_assert((IsColVector ? cols : rows)==1 && \textcolor{stringliteral}{"Outer dimension must equal 1"});
00226       resize(IsColVector ? rows : cols);
00227     \}
00228 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00233}\hyperlink{group___sparse_core___module_a1020011c75fb70b21257c8d04ee07514}{00233}     \textcolor{keywordtype}{void} \hyperlink{group___sparse_core___module_a1020011c75fb70b21257c8d04ee07514}{resize}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} newSize)
00234     \{
00235       m\_size = newSize;
00236       m\_data.clear();
00237     \}
00238 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00246}\hyperlink{group___sparse_core___module_ab8dbb1f73b6250c10c0860eb13ca5cca}{00246}     \textcolor{keywordtype}{void} \hyperlink{group___sparse_core___module_ab8dbb1f73b6250c10c0860eb13ca5cca}{conservativeResize}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} newSize)
00247     \{
00248       \textcolor{keywordflow}{if} (newSize < m\_size)
00249       \{
00250         \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} i = 0;
00251         \textcolor{keywordflow}{while} (i<m\_data.size() && m\_data.index(i)<newSize) ++i;
00252         m\_data.resize(i);
00253       \}
00254       m\_size = newSize;
00255     \}
00256 
00257     \textcolor{keywordtype}{void} resizeNonZeros(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} size) \{ m\_data.resize(size); \}
00258 
00259     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}() : m\_size(0) \{ check\_template\_parameters(); resize(0); \}
00260 
00261     \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} size) : m\_size(0) \{ check\_template\_parameters(); 
      resize(size); \}
00262 
00263     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} rows, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} cols) : m\_size(0) \{ 
      check\_template\_parameters(); resize(rows,cols); \}
00264 
00265     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>
00266     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}(\textcolor{keyword}{const} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix_base}{SparseMatrixBase<OtherDerived>}& 
      other)
00267       : m\_size(0)
00268     \{
00269 \textcolor{preprocessor}{      #ifdef EIGEN\_SPARSE\_CREATE\_TEMPORARY\_PLUGIN}
00270         EIGEN\_SPARSE\_CREATE\_TEMPORARY\_PLUGIN
00271 \textcolor{preprocessor}{      #endif}
00272       check\_template\_parameters();
00273       *\textcolor{keyword}{this} = other.derived();
00274     \}
00275 
00276     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}(\textcolor{keyword}{const} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}& other)
00277       : Base(other), m\_size(0)
00278     \{
00279       check\_template\_parameters();
00280       *\textcolor{keyword}{this} = other.derived();
00281     \}
00282 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00287}\hyperlink{group___sparse_core___module_a977f1796d4b332a0827c5a1d7b1ed561}{00287}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{group___sparse_core___module_a977f1796d4b332a0827c5a1d7b1ed561}{swap}(\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}& other)
00288     \{
00289       \hyperlink{endian_8c_a3ca5ecd34b04d6a243c054ac3a57f68d}{std::swap}(m\_size, other.m\_size);
00290       m\_data.swap(other.m\_data);
00291     \}
00292 
00293     \textcolor{keyword}{template}<\textcolor{keywordtype}{int} OtherOptions>
00294     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{endian_8c_a3ca5ecd34b04d6a243c054ac3a57f68d}{swap}(\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix<Scalar,OtherOptions,StorageIndex>}
      & other)
00295     \{
00296       eigen\_assert(other.\hyperlink{group___sparse_core___module_a4e5f706cfae14d2eaec1ea1e234905f1}{outerSize}()==1);
00297       \hyperlink{endian_8c_a3ca5ecd34b04d6a243c054ac3a57f68d}{std::swap}(m\_size, other.m\_innerSize);
00298       m\_data.swap(other.m\_data);
00299     \}
00300 
00301     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}& operator=(\textcolor{keyword}{const} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}& other)
00302     \{
00303       \textcolor{keywordflow}{if} (other.isRValue())
00304       \{
00305         \hyperlink{endian_8c_a3ca5ecd34b04d6a243c054ac3a57f68d}{swap}(other.const\_cast\_derived());
00306       \}
00307       \textcolor{keywordflow}{else}
00308       \{
00309         resize(other.\hyperlink{group___sparse_core___module_a124bc57921775eb9aa2dfd9727e23472}{size}());
00310         m\_data = other.m\_data;
00311       \}
00312       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00313     \}
00314 
00315     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>
00316     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}& operator=(\textcolor{keyword}{const} 
      \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix_base}{SparseMatrixBase<OtherDerived>}& other)
00317     \{
00318       \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector} tmp(other.\hyperlink{group___sparse_core___module_a124bc57921775eb9aa2dfd9727e23472}{size}());
00319       \hyperlink{struct_eigen_1_1internal_1_1sparse__vector__assign__selector}{internal::sparse\_vector\_assign\_selector<SparseVector,OtherDerived>::run}
      (tmp,other.derived());
00320       this->\hyperlink{endian_8c_a3ca5ecd34b04d6a243c054ac3a57f68d}{swap}(tmp);
00321       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00322     \}
00323 
00324 \textcolor{preprocessor}{    #ifndef EIGEN\_PARSED\_BY\_DOXYGEN}
00325     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Lhs, \textcolor{keyword}{typename} Rhs>
00326     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}& operator=(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_sparse_sparse_product}{SparseSparseProduct<Lhs,Rhs>}& product)
00327     \{
00328       \textcolor{keywordflow}{return} Base::operator=(product);
00329     \}
00330 \textcolor{preprocessor}{    #endif}
00331 
00332     \textcolor{keyword}{friend} std::ostream & operator << (std::ostream & s, \textcolor{keyword}{const} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}& m)
00333     \{
00334       \textcolor{keywordflow}{for} (\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} i=0; i<m.\hyperlink{group___sparse_core___module_aeaa74603bb1405f622726907795c9b5a}{nonZeros}(); ++i)
00335         s << \textcolor{stringliteral}{"("} << m.m\_data.value(i) << \textcolor{stringliteral}{","} << m.m\_data.index(i) << \textcolor{stringliteral}{") "};
00336       s << std::endl;
00337       \textcolor{keywordflow}{return} s;
00338     \}
00339 
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00341}\hyperlink{group___sparse_core___module_ad519592c203aedf33c524feb1bdaad1b}{00341}     \textcolor{keyword}{inline} \hyperlink{group___sparse_core___module_ad519592c203aedf33c524feb1bdaad1b}{~SparseVector}() \{\}
00342 
00344     Scalar sum() \textcolor{keyword}{const};
00345 
00346   \textcolor{keyword}{public}:
00347 
00349     EIGEN\_DEPRECATED \textcolor{keywordtype}{void} startFill(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} reserve)
00350     \{
00351       setZero();
00352       m\_data.reserve(reserve);
00353     \}
00354 
00356     EIGEN\_DEPRECATED Scalar& fill(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} r, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} c)
00357     \{
00358       eigen\_assert(r==0 || c==0);
00359       \textcolor{keywordflow}{return} fill(IsColVector ? r : c);
00360     \}
00361 
00363     EIGEN\_DEPRECATED Scalar& fill(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} i)
00364     \{
00365       m\_data.append(0, i);
00366       \textcolor{keywordflow}{return} m\_data.value(m\_data.size()-1);
00367     \}
00368 
00370     EIGEN\_DEPRECATED Scalar& fillrand(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} r, \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} c)
00371     \{
00372       eigen\_assert(r==0 || c==0);
00373       \textcolor{keywordflow}{return} fillrand(IsColVector ? r : c);
00374     \}
00375 
00377     EIGEN\_DEPRECATED Scalar& fillrand(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} i)
00378     \{
00379       \textcolor{keywordflow}{return} insert(i);
00380     \}
00381 
00383     EIGEN\_DEPRECATED \textcolor{keywordtype}{void} endFill() \{\}
00384     
00385     \textcolor{comment}{// These two functions were here in the 3.1 release, so let's keep them in case some code rely on them.}
00387 \textcolor{comment}{}    EIGEN\_DEPRECATED \hyperlink{class_eigen_1_1internal_1_1_compressed_storage}{Storage}& \_data() \{ \textcolor{keywordflow}{return} m\_data; \}
00389     EIGEN\_DEPRECATED \textcolor{keyword}{const} \hyperlink{class_eigen_1_1internal_1_1_compressed_storage}{Storage}& \_data()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_data; \}
00390     
00391 \textcolor{preprocessor}{#   ifdef EIGEN\_SPARSEVECTOR\_PLUGIN}
00392 \textcolor{preprocessor}{#     include EIGEN\_SPARSEVECTOR\_PLUGIN}
00393 \textcolor{preprocessor}{#   endif}
00394 
00395 \textcolor{keyword}{protected}:
00396   
00397     \textcolor{keyword}{static} \textcolor{keywordtype}{void} check\_template\_parameters()
00398     \{
00399       EIGEN\_STATIC\_ASSERT(\hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<StorageIndex>::IsSigned},
      THE\_INDEX\_TYPE\_MUST\_BE\_A\_SIGNED\_TYPE);
00400       EIGEN\_STATIC\_ASSERT((\_Options&(\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0cbd4bdd0abcfc0224c5fcb5e4f6669a}{ColMajor}|\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13acfcde9cd8677c5f7caf6bd603666aae3}{RowMajor}))==Options,
      INVALID\_MATRIX\_TEMPLATE\_PARAMETERS);
00401     \}
00402     
00403     \hyperlink{class_eigen_1_1internal_1_1_compressed_storage}{Storage} m\_data;
00404     \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} m\_size;
00405 \};
00406 
00407 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00408 
00409 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_Scalar, \textcolor{keywordtype}{int} \_Options, \textcolor{keyword}{typename} \_Index>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00410}\hyperlink{struct_eigen_1_1internal_1_1evaluator_3_01_sparse_vector_3_01___scalar_00_01___options_00_01___index_01_4_01_4}{00410} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}<\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector}<\_Scalar,\_Options,\_Index> >
00411   : \hyperlink{struct_eigen_1_1internal_1_1evaluator__base}{evaluator\_base}<SparseVector<\_Scalar,\_Options,\_Index> >
00412 \{
00413   \textcolor{keyword}{typedef} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector<\_Scalar,\_Options,\_Index>} 
      \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVectorType};
00414   \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1internal_1_1evaluator__base}{evaluator\_base<SparseVectorType>} Base;
00415   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{class_eigen_1_1_sparse_compressed_base_1_1_inner_iterator}{SparseVectorType::InnerIterator} InnerIterator;
00416   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{class_eigen_1_1_sparse_compressed_base_1_1_reverse_inner_iterator}{SparseVectorType::ReverseInnerIterator} 
      ReverseInnerIterator;
00417   
00418   \textcolor{keyword}{enum} \{
00419     CoeffReadCost = \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<\_Scalar>::ReadCost},
00420     Flags = SparseVectorType::Flags
00421   \};
00422 
00423   \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}() : Base() \{\}
00424   
00425   \textcolor{keyword}{explicit} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{evaluator}(\textcolor{keyword}{const} SparseVectorType &mat) : m\_matrix(&mat)
00426   \{
00427     EIGEN\_INTERNAL\_CHECK\_COST\_VALUE(CoeffReadCost);
00428   \}
00429   
00430   \textcolor{keyword}{inline} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} nonZerosEstimate()\textcolor{keyword}{ const }\{
00431     \textcolor{keywordflow}{return} m\_matrix->nonZeros();
00432   \}
00433   
00434   \textcolor{keyword}{operator} SparseVectorType&() \{ \textcolor{keywordflow}{return} m\_matrix->const\_cast\_derived(); \}
00435   \textcolor{keyword}{operator} \textcolor{keyword}{const} SparseVectorType&() \textcolor{keyword}{const} \{ \textcolor{keywordflow}{return} *m\_matrix; \}
00436   
00437   \textcolor{keyword}{const} SparseVectorType *m\_matrix;
00438 \};
00439 
00440 \textcolor{keyword}{template}< \textcolor{keyword}{typename} Dest, \textcolor{keyword}{typename} Src>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00441}\hyperlink{struct_eigen_1_1internal_1_1sparse__vector__assign__selector_3_01_dest_00_01_src_00_01_s_v_a___inner_01_4}{00441} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1sparse__vector__assign__selector}{sparse\_vector\_assign\_selector}<Dest,Src,SVA\_Inner> \{
00442   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(Dest& dst, \textcolor{keyword}{const} Src& src) \{
00443     eigen\_internal\_assert(src.innerSize()==src.size());
00444     \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{internal::evaluator<Src>} SrcEvaluatorType;
00445     SrcEvaluatorType srcEval(src);
00446     \textcolor{keywordflow}{for}(\textcolor{keyword}{typename} SrcEvaluatorType::InnerIterator it(srcEval, 0); it; ++it)
00447       dst.insert(it.index()) = it.value();
00448   \}
00449 \};
00450 
00451 \textcolor{keyword}{template}< \textcolor{keyword}{typename} Dest, \textcolor{keyword}{typename} Src>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00452}\hyperlink{struct_eigen_1_1internal_1_1sparse__vector__assign__selector_3_01_dest_00_01_src_00_01_s_v_a___outer_01_4}{00452} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1sparse__vector__assign__selector}{sparse\_vector\_assign\_selector}<Dest,Src,SVA\_Outer> \{
00453   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(Dest& dst, \textcolor{keyword}{const} Src& src) \{
00454     eigen\_internal\_assert(src.outerSize()==src.size());
00455     \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1internal_1_1evaluator}{internal::evaluator<Src>} SrcEvaluatorType;
00456     SrcEvaluatorType srcEval(src);
00457     \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} i=0; i<src.size(); ++i)
00458     \{
00459       \textcolor{keyword}{typename} SrcEvaluatorType::InnerIterator it(srcEval, i);
00460       \textcolor{keywordflow}{if}(it)
00461         dst.insert(i) = it.value();
00462     \}
00463   \}
00464 \};
00465 
00466 \textcolor{keyword}{template}< \textcolor{keyword}{typename} Dest, \textcolor{keyword}{typename} Src>
\Hypertarget{eigen_2_eigen_2src_2_sparse_core_2_sparse_vector_8h_source_l00467}\hyperlink{struct_eigen_1_1internal_1_1sparse__vector__assign__selector_3_01_dest_00_01_src_00_01_s_v_a___runtime_switch_01_4}{00467} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1sparse__vector__assign__selector}{sparse\_vector\_assign\_selector}<Dest,Src,SVA\_RuntimeSwitch> \{
00468   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(Dest& dst, \textcolor{keyword}{const} Src& src) \{
00469     \textcolor{keywordflow}{if}(src.outerSize()==1)  
      \hyperlink{struct_eigen_1_1internal_1_1sparse__vector__assign__selector}{sparse\_vector\_assign\_selector<Dest,Src,SVA\_Inner>::run}
      (dst, src);
00470     \textcolor{keywordflow}{else}                    
      \hyperlink{struct_eigen_1_1internal_1_1sparse__vector__assign__selector}{sparse\_vector\_assign\_selector<Dest,Src,SVA\_Outer>::run}
      (dst, src);
00471   \}
00472 \};
00473 
00474 \}
00475 
00476 \} \textcolor{comment}{// end namespace Eigen}
00477 
00478 \textcolor{preprocessor}{#endif // EIGEN\_SPARSEVECTOR\_H}
\end{DoxyCode}
