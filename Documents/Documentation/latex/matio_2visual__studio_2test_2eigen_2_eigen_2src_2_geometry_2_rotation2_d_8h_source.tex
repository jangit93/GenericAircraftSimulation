\hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/\+Eigen/src/\+Geometry/\+Rotation2D.h}
\label{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source}\index{Rotation2\+D.\+h@{Rotation2\+D.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2008 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_ROTATION2D\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_ROTATION2D\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{ 
00014 
00032 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00033 
00034 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_Scalar> \textcolor{keyword}{struct }traits<Rotation2D<\_Scalar> >
00035 \{
00036   \textcolor{keyword}{typedef} \_Scalar Scalar;
00037 \};
00038 \} \textcolor{comment}{// end namespace internal}
00039 
00040 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_Scalar>
00041 \textcolor{keyword}{class }Rotation2D : \textcolor{keyword}{public} RotationBase<Rotation2D<\_Scalar>,2>
00042 \{
00043   \textcolor{keyword}{typedef} RotationBase<Rotation2D<\_Scalar>,2> Base;
00044 
00045 \textcolor{keyword}{public}:
00046 
00047   \textcolor{keyword}{using} Base::operator*;
00048 
00049   \textcolor{keyword}{enum} \{ Dim = 2 \};
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00051}\hyperlink{group___geometry___module_ac20c665ece0f197a712a2a39ae72e4e4}{00051}   \textcolor{keyword}{typedef} \_Scalar \hyperlink{group___geometry___module_ac20c665ece0f197a712a2a39ae72e4e4}{Scalar};
00052   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar,2,1>} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Vector2};
00053   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar,2,2>} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix2};
00054 
00055 \textcolor{keyword}{protected}:
00056 
00057   Scalar m\_angle;
00058 
00059 \textcolor{keyword}{public}:
00060 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00062}\hyperlink{group___geometry___module_a581ea9ac3741f81c9c9416ed77246cc2}{00062}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \hyperlink{group___geometry___module_a581ea9ac3741f81c9c9416ed77246cc2}{Rotation2D}(\textcolor{keyword}{const} Scalar& a) : m\_angle(a) \{\}
00063   
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00065}\hyperlink{group___geometry___module_adcd50e17d84f71f584335e8ff3f2d994}{00065}   EIGEN\_DEVICE\_FUNC \hyperlink{group___geometry___module_adcd50e17d84f71f584335e8ff3f2d994}{Rotation2D}() \{\}
00066 
00071   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00072}\hyperlink{group___geometry___module_a6f6f81f37238abfb3b258c0d93f53314}{00072}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{explicit} \hyperlink{group___geometry___module_a6f6f81f37238abfb3b258c0d93f53314}{Rotation2D}(\textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<Derived>}& m)
00073   \{
00074     fromRotationMatrix(m.derived());
00075   \}
00076 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00078}\hyperlink{group___geometry___module_af34ab8da6bfe010ca66c8acafa239a6e}{00078}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Scalar \hyperlink{group___geometry___module_af34ab8da6bfe010ca66c8acafa239a6e}{angle}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_angle; \}
00079 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00081}\hyperlink{group___geometry___module_ac91b3210ee741ca2cf1b2e4acc100672}{00081}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Scalar& \hyperlink{group___geometry___module_ac91b3210ee741ca2cf1b2e4acc100672}{angle}() \{ \textcolor{keywordflow}{return} m\_angle; \}
00082   
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00084}\hyperlink{group___geometry___module_ad3445ec4d8b7931f16096c1894e7986f}{00084}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Scalar \hyperlink{group___geometry___module_ad3445ec4d8b7931f16096c1894e7986f}{smallestPositiveAngle}()\textcolor{keyword}{ const }\{
00085     Scalar tmp = numext::fmod(m\_angle,Scalar(2*EIGEN\_PI));
00086     \textcolor{keywordflow}{return} tmp<Scalar(0) ? tmp + Scalar(2*EIGEN\_PI) : tmp;
00087   \}
00088   
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00090}\hyperlink{group___geometry___module_a38e64a85197dc268a3e7832e75e469c7}{00090}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Scalar \hyperlink{group___geometry___module_a38e64a85197dc268a3e7832e75e469c7}{smallestAngle}()\textcolor{keyword}{ const }\{
00091     Scalar tmp = numext::fmod(m\_angle,Scalar(2*EIGEN\_PI));
00092     \textcolor{keywordflow}{if}(tmp>Scalar(EIGEN\_PI))       tmp -= Scalar(2*EIGEN\_PI);
00093     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(tmp<-Scalar(EIGEN\_PI)) tmp += Scalar(2*EIGEN\_PI);
00094     \textcolor{keywordflow}{return} tmp;
00095   \}
00096 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00098}\hyperlink{group___geometry___module_a31e2adeabbde2a5210237f903fc40600}{00098}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D} \hyperlink{group___geometry___module_a31e2adeabbde2a5210237f903fc40600}{inverse}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} 
      \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}(-m\_angle); \}
00099 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00101}\hyperlink{group___geometry___module_a3a6cdaeaac6610b810aba08d514af49d}{00101}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D} \hyperlink{group___geometry___module_a3a6cdaeaac6610b810aba08d514af49d}{operator*}(\textcolor{keyword}{const} 
      \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}& other)\textcolor{keyword}{ const}
00102 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}(m\_angle + other.m\_angle); \}
00103 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00105}\hyperlink{group___geometry___module_a6c4bcdd365f7df12b86e8eb07a221eea}{00105}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}& \hyperlink{group___geometry___module_a6c4bcdd365f7df12b86e8eb07a221eea}{operator*=}(\textcolor{keyword}{const} 
      \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}& other)
00106   \{ m\_angle += other.m\_angle; \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}
00107 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00109}\hyperlink{group___geometry___module_a6650136f5839cfd028fd7f1373d06882}{00109}   EIGEN\_DEVICE\_FUNC Vector2 operator* (\textcolor{keyword}{const} Vector2& vec)\textcolor{keyword}{ const}
00110 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} toRotationMatrix() * vec; \}
00111   
00112   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
00113   EIGEN\_DEVICE\_FUNC \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}& fromRotationMatrix(\textcolor{keyword}{const} 
      \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<Derived>}& m);
00114   EIGEN\_DEVICE\_FUNC Matrix2 toRotationMatrix() \textcolor{keyword}{const};
00115 
00123   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00124}\hyperlink{group___geometry___module_a483efa61d85a46bb94912a68cfee9902}{00124}   EIGEN\_DEVICE\_FUNC \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}& \hyperlink{group___geometry___module_a483efa61d85a46bb94912a68cfee9902}{operator=}(\textcolor{keyword}{const}  
      \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<Derived>}& m)
00125   \{ \textcolor{keywordflow}{return} fromRotationMatrix(m.derived()); \}
00126 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00130}\hyperlink{group___geometry___module_a47058d6327b801f6987506dcfbffb77f}{00130}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D} \hyperlink{group___geometry___module_a47058d6327b801f6987506dcfbffb77f}{slerp}(\textcolor{keyword}{const} Scalar& t, \textcolor{keyword}{const} 
      \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}& other)\textcolor{keyword}{ const}
00131 \textcolor{keyword}{  }\{
00132     Scalar dist = \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}(other.m\_angle-m\_angle).\hyperlink{group___geometry___module_a38e64a85197dc268a3e7832e75e469c7}{smallestAngle}();
00133     \textcolor{keywordflow}{return} \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}(m\_angle + dist*t);
00134   \}
00135 
00141   \textcolor{keyword}{template}<\textcolor{keyword}{typename} NewScalarType>
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00142}\hyperlink{group___geometry___module_a7a2057f37733b0d153f542fffe8207cf}{00142}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{typename} 
      \hyperlink{struct_eigen_1_1internal_1_1cast__return__type}{internal::cast\_return\_type<Rotation2D,Rotation2D<NewScalarType>}
       >::type \hyperlink{group___geometry___module_a7a2057f37733b0d153f542fffe8207cf}{cast}()\textcolor{keyword}{ const}
00143 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{typename} 
      \hyperlink{struct_eigen_1_1internal_1_1cast__return__type}{internal::cast\_return\_type<Rotation2D,Rotation2D<NewScalarType>}
       >::type(*\textcolor{keyword}{this}); \}
00144 
00146   \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherScalarType>
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00147}\hyperlink{group___geometry___module_a28141c131bb66516477e07752278c139}{00147}   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{explicit} \hyperlink{group___geometry___module_a28141c131bb66516477e07752278c139}{Rotation2D}(\textcolor{keyword}{const} 
      \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D<OtherScalarType>}& other)
00148   \{
00149     m\_angle = Scalar(other.angle());
00150   \}
00151 
00152   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} \textcolor{keyword}{inline} \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D} Identity() \{ \textcolor{keywordflow}{return} 
      \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}(0); \}
00153 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation2_d_8h_source_l00158}\hyperlink{group___geometry___module_ac70ab985fd67d3cc43ea75c33c01ae3a}{00158}   EIGEN\_DEVICE\_FUNC \textcolor{keywordtype}{bool} \hyperlink{group___geometry___module_ac70ab985fd67d3cc43ea75c33c01ae3a}{isApprox}(\textcolor{keyword}{const} \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D}& other, \textcolor{keyword}{const} \textcolor{keyword}{typename} 
      \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<Scalar>::Real}& prec = 
      \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<Scalar>::dummy\_precision}())\textcolor{keyword}{ const}
00159 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} internal::isApprox(m\_angle,other.m\_angle, prec); \}
00160   
00161 \};
00162 
00165 \textcolor{keyword}{typedef} \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D<float>} \hyperlink{group___geometry___module_gad801876e45910d99ebc3f8425e5e2a9e}{Rotation2Df};
00168 \textcolor{keyword}{typedef} \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D<double>} \hyperlink{group___geometry___module_ga610359336130abe9a396ca159b3e8258}{Rotation2Dd};
00169 
00174 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar>
00175 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
00176 EIGEN\_DEVICE\_FUNC \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D<Scalar>}& 
      \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D<Scalar>::fromRotationMatrix}(\textcolor{keyword}{const} 
      \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<Derived>}& mat)
00177 \{
00178   EIGEN\_USING\_STD\_MATH(atan2)
00179   EIGEN\_STATIC\_ASSERT(Derived::RowsAtCompileTime==2 && Derived::ColsAtCompileTime==2,
      YOU\_MADE\_A\_PROGRAMMING\_MISTAKE)
00180   m\_angle = atan2(mat.coeff(1,0), mat.coeff(0,0));
00181   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00182 \}
00183 
00186 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar>
00187 \textcolor{keyword}{typename} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Rotation2D<Scalar>::Matrix2}
00188 EIGEN\_DEVICE\_FUNC \hyperlink{group___geometry___module_a417985ee6adae46447bb1b1d8d17a824}{Rotation2D<Scalar>::toRotationMatrix}(\textcolor{keywordtype}{void})\textcolor{keyword}{ const}
00189 \textcolor{keyword}{}\{
00190   EIGEN\_USING\_STD\_MATH(sin)
00191   EIGEN\_USING\_STD\_MATH(cos)
00192   Scalar sinA = sin(m\_angle);
00193   Scalar cosA = cos(m\_angle);
00194   \textcolor{keywordflow}{return} (Matrix2() << cosA, -sinA, sinA, cosA).finished();
00195 \}
00196 
00197 \} \textcolor{comment}{// end namespace Eigen}
00198 
00199 \textcolor{preprocessor}{#endif // EIGEN\_ROTATION2D\_H}
\end{DoxyCode}
