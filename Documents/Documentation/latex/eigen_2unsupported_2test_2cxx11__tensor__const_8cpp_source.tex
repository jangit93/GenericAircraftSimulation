\hypertarget{eigen_2unsupported_2test_2cxx11__tensor__const_8cpp_source}{}\section{eigen/unsupported/test/cxx11\+\_\+tensor\+\_\+const.cpp}
\label{eigen_2unsupported_2test_2cxx11__tensor__const_8cpp_source}\index{cxx11\+\_\+tensor\+\_\+const.\+cpp@{cxx11\+\_\+tensor\+\_\+const.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2014 Benoit Steiner <benoit.steiner.goog@gmail.com>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#include "main.h"}
00011 
00012 \textcolor{preprocessor}{#include <Eigen/CXX11/Tensor>}
00013 \textcolor{keyword}{using} \hyperlink{class_eigen_1_1_tensor}{Eigen::Tensor};
00014 
00015 
00016 \textcolor{keyword}{static} \textcolor{keywordtype}{void} test\_simple\_assign()
00017 \{
00018   \hyperlink{class_eigen_1_1_tensor}{Tensor<int, 3>} random(2,3,7);
00019   random.setRandom();
00020 
00021   TensorMap<Tensor<const int, 3> > constant(random.data(), 2, 3, 7);
00022   \hyperlink{class_eigen_1_1_tensor}{Tensor<int, 3>} result(2,3,7);
00023   result = constant;
00024 
00025   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i) \{
00026     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
00027       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < 7; ++k) \{
00028         VERIFY\_IS\_EQUAL((result(i,j,k)), random(i,j,k));
00029       \}
00030     \}
00031   \}
00032 \}
00033 
00034 
00035 \textcolor{keyword}{static} \textcolor{keywordtype}{void} test\_assign\_of\_const\_tensor()
00036 \{
00037   \hyperlink{class_eigen_1_1_tensor}{Tensor<int, 3>} random(2,3,7);
00038   random.setRandom();
00039 
00040   TensorMap<Tensor<const int, 3> > constant1(random.data(), 2, 3, 7);
00041   TensorMap<const Tensor<int, 3> > constant2(random.data(), 2, 3, 7);
00042   \textcolor{keyword}{const} TensorMap<Tensor<int, 3> > constant3(random.data(), 2, 3, 7);
00043 
00044   \hyperlink{class_eigen_1_1_tensor}{Tensor<int, 2>} result1 = constant1.chip(0, 2);
00045   \hyperlink{class_eigen_1_1_tensor}{Tensor<int, 2>} result2 = constant2.chip(0, 2);
00046   \hyperlink{class_eigen_1_1_tensor}{Tensor<int, 2>} result3 = constant3.chip(0, 2);
00047 
00048   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 2; ++i) \{
00049     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; ++j) \{
00050       VERIFY\_IS\_EQUAL((result1(i,j)), random(i,j,0));
00051       VERIFY\_IS\_EQUAL((result2(i,j)), random(i,j,0));
00052       VERIFY\_IS\_EQUAL((result3(i,j)), random(i,j,0));
00053     \}
00054   \}
00055 \}
00056 
00057 
00058 \textcolor{keywordtype}{void} test\_cxx11\_tensor\_const()
00059 \{
00060   CALL\_SUBTEST(test\_simple\_assign());
00061   CALL\_SUBTEST(test\_assign\_of\_const\_tensor());
00062 \}
\end{DoxyCode}
