\hypertarget{matio_2visual__studio_2test_2eigen_2bench_2benchmark_x_8cpp_source}{}\section{matio/visual\+\_\+studio/test/eigen/bench/benchmarkX.cpp}
\label{matio_2visual__studio_2test_2eigen_2bench_2benchmark_x_8cpp_source}\index{benchmark\+X.\+cpp@{benchmark\+X.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// g++ -fopenmp -I .. -O3 -DNDEBUG -finline-limit=1000 benchmarkX.cpp -o b && time ./b}
00002 
00003 \textcolor{preprocessor}{#include <iostream>}
00004 
00005 \textcolor{preprocessor}{#include <Eigen/Core>}
00006 
00007 \textcolor{keyword}{using namespace }\hyperlink{namespacestd}{std};
00008 \textcolor{keyword}{using namespace }\hyperlink{namespace_eigen}{Eigen};
00009 
00010 \textcolor{preprocessor}{#ifndef MATTYPE}
00011 \textcolor{preprocessor}{#define MATTYPE MatrixXLd}
00012 \textcolor{preprocessor}{#endif}
00013 
00014 \textcolor{preprocessor}{#ifndef MATSIZE}
00015 \textcolor{preprocessor}{#define MATSIZE 400}
00016 \textcolor{preprocessor}{#endif}
00017 
00018 \textcolor{preprocessor}{#ifndef REPEAT}
00019 \textcolor{preprocessor}{#define REPEAT 100}
00020 \textcolor{preprocessor}{#endif}
00021 
00022 \textcolor{keywordtype}{int} main(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char} *argv[])
00023 \{
00024     MATTYPE I = MATTYPE::Ones(MATSIZE,MATSIZE);
00025     MATTYPE m(MATSIZE,MATSIZE);
00026     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < MATSIZE; i++) \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < MATSIZE; j++)
00027     \{
00028         m(i,j) = (i+j+1)/(MATSIZE*MATSIZE);
00029     \}
00030     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} a = 0; a < REPEAT; a++)
00031     \{
00032         m = I + 0.0001 * (m + m*m);
00033     \}
00034     cout << m(0,0) << endl;
00035     \textcolor{keywordflow}{return} 0;
00036 \}
\end{DoxyCode}
