\hypertarget{eigen_2demos_2opengl_2camera_8h_source}{}\section{eigen/demos/opengl/camera.h}
\label{eigen_2demos_2opengl_2camera_8h_source}\index{camera.\+h@{camera.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2008 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_CAMERA\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_CAMERA\_H}
00012 
00013 \textcolor{preprocessor}{#include <Eigen/Geometry>}
00014 \textcolor{preprocessor}{#include <QObject>}
00015 \textcolor{comment}{// #include <frame.h>}
00016 
\Hypertarget{eigen_2demos_2opengl_2camera_8h_source_l00017}\hyperlink{class_frame}{00017} \textcolor{keyword}{class }\hyperlink{class_frame}{Frame}
00018 \{
00019   \textcolor{keyword}{public}:
00020     EIGEN\_MAKE\_ALIGNED\_OPERATOR\_NEW
00021     
00022     \textcolor{keyword}{inline} \hyperlink{class_frame}{Frame}(\textcolor{keyword}{const} Eigen::Vector3f& pos = Eigen::Vector3f::Zero(),
00023                  \textcolor{keyword}{const} \hyperlink{group___geometry___module_class_eigen_1_1_quaternion}{Eigen::Quaternionf}& o = 
      \hyperlink{group___geometry___module_class_eigen_1_1_quaternion}{Eigen::Quaternionf}())
00024       : orientation(o), position(pos)
00025     \{\}
00026     Frame lerp(\textcolor{keywordtype}{float} alpha, \textcolor{keyword}{const} Frame& other)\textcolor{keyword}{ const}
00027 \textcolor{keyword}{    }\{
00028       \textcolor{keywordflow}{return} Frame((1.f-alpha)*position + alpha * other.position,
00029                    orientation.slerp(alpha,other.orientation));
00030     \}
00031 
00032     \hyperlink{group___geometry___module_class_eigen_1_1_quaternion}{Eigen::Quaternionf} orientation;
00033     Eigen::Vector3f position;
00034 \};
00035 
\Hypertarget{eigen_2demos_2opengl_2camera_8h_source_l00036}\hyperlink{class_camera}{00036} \textcolor{keyword}{class }\hyperlink{class_camera}{Camera}
00037 \{
00038   \textcolor{keyword}{public}:
00039     EIGEN\_MAKE\_ALIGNED\_OPERATOR\_NEW
00040 
00041     \hyperlink{class_camera}{Camera}(\textcolor{keywordtype}{void});
00042     
00043     Camera(\textcolor{keyword}{const} Camera& other);
00044     
00045     \textcolor{keyword}{virtual} ~Camera();
00046     
00047     Camera& operator=(\textcolor{keyword}{const} Camera& other);
00048     
00049     \textcolor{keywordtype}{void} setViewport(uint offsetx, uint offsety, uint width, uint height);
00050     \textcolor{keywordtype}{void} setViewport(uint width, uint height);
00051     
00052     \textcolor{keyword}{inline} uint vpX(\textcolor{keywordtype}{void})\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mVpX; \}
00053     \textcolor{keyword}{inline} uint vpY(\textcolor{keywordtype}{void})\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mVpY; \}
00054     \textcolor{keyword}{inline} uint vpWidth(\textcolor{keywordtype}{void})\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mVpWidth; \}
00055     \textcolor{keyword}{inline} uint vpHeight(\textcolor{keywordtype}{void})\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mVpHeight; \}
00056 
00057     \textcolor{keyword}{inline} \textcolor{keywordtype}{float} fovY(\textcolor{keywordtype}{void})\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mFovY; \}
00058     \textcolor{keywordtype}{void} setFovY(\textcolor{keywordtype}{float} value);
00059     
00060     \textcolor{keywordtype}{void} setPosition(\textcolor{keyword}{const} Eigen::Vector3f& pos);
00061     \textcolor{keyword}{inline} \textcolor{keyword}{const} Eigen::Vector3f& position(\textcolor{keywordtype}{void})\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mFrame.position; \}
00062 
00063     \textcolor{keywordtype}{void} setOrientation(\textcolor{keyword}{const} \hyperlink{group___geometry___module_class_eigen_1_1_quaternion}{Eigen::Quaternionf}& q);
00064     \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{group___geometry___module_class_eigen_1_1_quaternion}{Eigen::Quaternionf}& orientation(\textcolor{keywordtype}{void})\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mFrame.orientation;
       \}
00065 
00066     \textcolor{keywordtype}{void} setFrame(\textcolor{keyword}{const} \hyperlink{class_frame}{Frame}& f);
00067     \textcolor{keyword}{const} \hyperlink{class_frame}{Frame}& frame(\textcolor{keywordtype}{void})\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mFrame; \}
00068     
00069     \textcolor{keywordtype}{void} setDirection(\textcolor{keyword}{const} Eigen::Vector3f& newDirection);
00070     Eigen::Vector3f direction(\textcolor{keywordtype}{void}) \textcolor{keyword}{const};
00071     \textcolor{keywordtype}{void} setUp(\textcolor{keyword}{const} Eigen::Vector3f& vectorUp);
00072     Eigen::Vector3f up(\textcolor{keywordtype}{void}) \textcolor{keyword}{const};
00073     Eigen::Vector3f right(\textcolor{keywordtype}{void}) \textcolor{keyword}{const};
00074     
00075     \textcolor{keywordtype}{void} setTarget(\textcolor{keyword}{const} Eigen::Vector3f& target);
00076     \textcolor{keyword}{inline} \textcolor{keyword}{const} Eigen::Vector3f& target(\textcolor{keywordtype}{void}) \{ \textcolor{keywordflow}{return} mTarget; \}
00077     
00078     \textcolor{keyword}{const} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Eigen::Affine3f}& viewMatrix(\textcolor{keywordtype}{void}) \textcolor{keyword}{const};
00079     \textcolor{keyword}{const} Eigen::Matrix4f& projectionMatrix(\textcolor{keywordtype}{void}) \textcolor{keyword}{const};
00080     
00081     \textcolor{keywordtype}{void} rotateAroundTarget(\textcolor{keyword}{const} \hyperlink{group___geometry___module_class_eigen_1_1_quaternion}{Eigen::Quaternionf}& q);
00082     \textcolor{keywordtype}{void} localRotate(\textcolor{keyword}{const} \hyperlink{group___geometry___module_class_eigen_1_1_quaternion}{Eigen::Quaternionf}& q);
00083     \textcolor{keywordtype}{void} zoom(\textcolor{keywordtype}{float} d);
00084     
00085     \textcolor{keywordtype}{void} localTranslate(\textcolor{keyword}{const} Eigen::Vector3f& t);
00086     
00088     \textcolor{keywordtype}{void} activateGL(\textcolor{keywordtype}{void});
00089     
00090     Eigen::Vector3f unProject(\textcolor{keyword}{const} Eigen::Vector2f& uv, \textcolor{keywordtype}{float} depth, \textcolor{keyword}{const} Eigen::Matrix4f& invModelview) \textcolor{keyword}{
      const};
00091     Eigen::Vector3f unProject(\textcolor{keyword}{const} Eigen::Vector2f& uv, \textcolor{keywordtype}{float} depth) \textcolor{keyword}{const};
00092     
00093   \textcolor{keyword}{protected}:
00094     \textcolor{keywordtype}{void} updateViewMatrix(\textcolor{keywordtype}{void}) \textcolor{keyword}{const};
00095     \textcolor{keywordtype}{void} updateProjectionMatrix(\textcolor{keywordtype}{void}) \textcolor{keyword}{const};
00096 
00097   \textcolor{keyword}{protected}:
00098 
00099     uint mVpX, mVpY;
00100     uint mVpWidth, mVpHeight;
00101 
00102     \hyperlink{class_frame}{Frame} mFrame;
00103     
00104     \textcolor{keyword}{mutable} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Eigen::Affine3f} mViewMatrix;
00105     \textcolor{keyword}{mutable} Eigen::Matrix4f mProjectionMatrix;
00106 
00107     \textcolor{keyword}{mutable} \textcolor{keywordtype}{bool} mViewIsUptodate;
00108     \textcolor{keyword}{mutable} \textcolor{keywordtype}{bool} mProjIsUptodate;
00109 
00110     \textcolor{comment}{// used by rotateAroundTarget}
00111     Eigen::Vector3f mTarget;
00112     
00113     \textcolor{keywordtype}{float} mFovY;
00114     \textcolor{keywordtype}{float} mNearDist;
00115     \textcolor{keywordtype}{float} mFarDist;
00116 \};
00117 
00118 \textcolor{preprocessor}{#endif // EIGEN\_CAMERA\_H}
\end{DoxyCode}
