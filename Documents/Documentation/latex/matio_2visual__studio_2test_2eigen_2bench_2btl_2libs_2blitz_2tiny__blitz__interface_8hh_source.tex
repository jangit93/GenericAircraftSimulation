\hypertarget{matio_2visual__studio_2test_2eigen_2bench_2btl_2libs_2blitz_2tiny__blitz__interface_8hh_source}{}\section{matio/visual\+\_\+studio/test/eigen/bench/btl/libs/blitz/tiny\+\_\+blitz\+\_\+interface.hh}
\label{matio_2visual__studio_2test_2eigen_2bench_2btl_2libs_2blitz_2tiny__blitz__interface_8hh_source}\index{tiny\+\_\+blitz\+\_\+interface.\+hh@{tiny\+\_\+blitz\+\_\+interface.\+hh}}

\begin{DoxyCode}
00001 \textcolor{comment}{//=====================================================}
00002 \textcolor{comment}{// File   :  tiny\_blitz\_interface.hh}
00003 \textcolor{comment}{// Author :  L. Plagne <laurent.plagne@edf.fr)>}
00004 \textcolor{comment}{// Copyright (C) EDF R&D,  lun sep 30 14:23:30 CEST 2002}
00005 \textcolor{comment}{//=====================================================}
00006 \textcolor{comment}{//}
00007 \textcolor{comment}{// This program is free software; you can redistribute it and/or}
00008 \textcolor{comment}{// modify it under the terms of the GNU General Public License}
00009 \textcolor{comment}{// as published by the Free Software Foundation; either version 2}
00010 \textcolor{comment}{// of the License, or (at your option) any later version.}
00011 \textcolor{comment}{//}
00012 \textcolor{comment}{// This program is distributed in the hope that it will be useful,}
00013 \textcolor{comment}{// but WITHOUT ANY WARRANTY; without even the implied warranty of}
00014 \textcolor{comment}{// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the}
00015 \textcolor{comment}{// GNU General Public License for more details.}
00016 \textcolor{comment}{// You should have received a copy of the GNU General Public License}
00017 \textcolor{comment}{// along with this program; if not, write to the Free Software}
00018 \textcolor{comment}{// Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.}
00019 \textcolor{comment}{//}
00020 \textcolor{preprocessor}{#ifndef TINY\_BLITZ\_INTERFACE\_HH}
00021 \textcolor{preprocessor}{#define TINY\_BLITZ\_INTERFACE\_HH}
00022 
00023 \textcolor{preprocessor}{#include "blitz/array.h"}
00024 \textcolor{preprocessor}{#include "blitz/tiny.h"}
00025 \textcolor{preprocessor}{#include "blitz/tinymat.h"}
00026 \textcolor{preprocessor}{#include "blitz/tinyvec.h"}
00027 \textcolor{preprocessor}{#include <blitz/tinyvec-et.h>}
00028 
00029 \textcolor{preprocessor}{#include <vector>}
00030 
00031 BZ\_USING\_NAMESPACE(blitz)
00032 
00033 \textcolor{keyword}{template}<\textcolor{keyword}{class} real, \textcolor{keywordtype}{int} SIZE>
00034 \textcolor{keyword}{class }\hyperlink{classtiny__blitz__interface}{tiny\_blitz\_interface}
00035 \{
00036 
00037 public :
00038 
00039   \textcolor{keyword}{typedef} real real\_type ;
00040 
00041   \textcolor{keyword}{typedef} std::vector<real>  stl\_vector;
00042   \textcolor{keyword}{typedef} std::vector<stl\_vector > stl\_matrix;
00043 
00044   \textcolor{keyword}{typedef} TinyVector<real,SIZE> gene\_vector;
00045   \textcolor{keyword}{typedef} TinyMatrix<real,SIZE,SIZE> gene\_matrix;
00046 
00047   \textcolor{keyword}{static} \textcolor{keyword}{inline} std::string name() \{ \textcolor{keywordflow}{return} \textcolor{stringliteral}{"tiny\_blitz"}; \}
00048 
00049   \textcolor{keyword}{static} \textcolor{keywordtype}{void} free\_matrix(gene\_matrix & A, \textcolor{keywordtype}{int} N)\{\}
00050 
00051   \textcolor{keyword}{static} \textcolor{keywordtype}{void} free\_vector(gene\_vector & B)\{\}
00052 
00053   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_from\_stl(gene\_matrix & A, stl\_matrix & A\_stl)\{
00054     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0; j<A\_stl.size() ; j++)
00055       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<A\_stl[j].size() ; i++)
00056         A(i,j)=A\_stl[j][i];
00057   \}
00058 
00059   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} vector\_from\_stl(gene\_vector & B, stl\_vector & B\_stl)\{
00060     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<B\_stl.size() ; i++)
00061       B(i) = B\_stl[i];
00062   \}
00063 
00064   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} vector\_to\_stl(gene\_vector & B, stl\_vector & B\_stl)\{
00065     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<B\_stl.size() ; i++)
00066       B\_stl[i] = B(i);
00067   \}
00068 
00069   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_to\_stl(gene\_matrix & A, stl\_matrix & A\_stl)\{
00070     \textcolor{keywordtype}{int} N = A\_stl.size();
00071     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0;j<N;j++)
00072     \{
00073       A\_stl[j].resize(N);
00074       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<N;i++)
00075         A\_stl[j][i] = A(i,j);
00076     \}
00077   \}
00078 
00079   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} copy\_matrix(\textcolor{keyword}{const} gene\_matrix & source, gene\_matrix & cible, \textcolor{keywordtype}{int} N)\{
00080     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0;j<N;j++)
00081       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<N;i++)
00082         cible(i,j) = source(i,j);
00083   \}
00084 
00085   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} copy\_vector(\textcolor{keyword}{const} gene\_vector & source, gene\_vector & cible, \textcolor{keywordtype}{int} N)\{
00086     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<N;i++)\{
00087       cible(i) = source(i);
00088     \}
00089   \}
00090 
00091   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_matrix\_product(\textcolor{keyword}{const} gene\_matrix & A, \textcolor{keyword}{const} gene\_matrix & B, gene\_matrix & X, \textcolor{keywordtype}{
      int} N)\{
00092     X = product(A,B);
00093   \}
00094 
00095   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_vector\_product(gene\_matrix & A, gene\_vector & B, gene\_vector & X, \textcolor{keywordtype}{int} N)\{
00096     X = product(A,B);
00097   \}
00098 
00099   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} axpy(\textcolor{keyword}{const} real coef, \textcolor{keyword}{const} gene\_vector & X, gene\_vector & Y, \textcolor{keywordtype}{int} N)\{
00100     Y += coef * X;
00101   \}
00102 
00103 \};
00104 
00105 
00106 \textcolor{preprocessor}{#endif}
\end{DoxyCode}
