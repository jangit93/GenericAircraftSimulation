\hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_cholesky_2_l_l_t___l_a_p_a_c_k_e_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/\+Eigen/src/\+Cholesky/\+L\+L\+T\+\_\+\+L\+A\+P\+A\+C\+KE.h}
\label{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_cholesky_2_l_l_t___l_a_p_a_c_k_e_8h_source}\index{L\+L\+T\+\_\+\+L\+A\+P\+A\+C\+K\+E.\+h@{L\+L\+T\+\_\+\+L\+A\+P\+A\+C\+K\+E.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/*}
00002 \textcolor{comment}{ Copyright (c) 2011, Intel Corporation. All rights reserved.}
00003 \textcolor{comment}{}
00004 \textcolor{comment}{ Redistribution and use in source and binary forms, with or without modification,}
00005 \textcolor{comment}{ are permitted provided that the following conditions are met:}
00006 \textcolor{comment}{}
00007 \textcolor{comment}{ * Redistributions of source code must retain the above copyright notice, this}
00008 \textcolor{comment}{   list of conditions and the following disclaimer.}
00009 \textcolor{comment}{ * Redistributions in binary form must reproduce the above copyright notice,}
00010 \textcolor{comment}{   this list of conditions and the following disclaimer in the documentation}
00011 \textcolor{comment}{   and/or other materials provided with the distribution.}
00012 \textcolor{comment}{ * Neither the name of Intel Corporation nor the names of its contributors may}
00013 \textcolor{comment}{   be used to endorse or promote products derived from this software without}
00014 \textcolor{comment}{   specific prior written permission.}
00015 \textcolor{comment}{}
00016 \textcolor{comment}{ THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND}
00017 \textcolor{comment}{ ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED}
00018 \textcolor{comment}{ WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE}
00019 \textcolor{comment}{ DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR}
00020 \textcolor{comment}{ ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES}
00021 \textcolor{comment}{ (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;}
00022 \textcolor{comment}{ LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON}
00023 \textcolor{comment}{ ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT}
00024 \textcolor{comment}{ (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS}
00025 \textcolor{comment}{ SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.}
00026 \textcolor{comment}{}
00027 \textcolor{comment}{ ********************************************************************************}
00028 \textcolor{comment}{ *   Content : Eigen bindings to LAPACKe}
00029 \textcolor{comment}{ *     LLt decomposition based on LAPACKE\_?potrf function.}
00030 \textcolor{comment}{ ********************************************************************************}
00031 \textcolor{comment}{*/}
00032 
00033 \textcolor{preprocessor}{#ifndef EIGEN\_LLT\_LAPACKE\_H}
00034 \textcolor{preprocessor}{#define EIGEN\_LLT\_LAPACKE\_H}
00035 
00036 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{ 
00037 
00038 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00039 
00040 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar> \textcolor{keyword}{struct }lapacke\_llt;
00041 
00042 \textcolor{preprocessor}{#define EIGEN\_LAPACKE\_LLT(EIGTYPE, BLASTYPE, LAPACKE\_PREFIX) \(\backslash\)}
00043 \textcolor{preprocessor}{template<> struct lapacke\_llt<EIGTYPE> \(\backslash\)}
00044 \textcolor{preprocessor}{\{ \(\backslash\)}
00045 \textcolor{preprocessor}{  template<typename MatrixType> \(\backslash\)}
00046 \textcolor{preprocessor}{  static inline Index potrf(MatrixType& m, char uplo) \(\backslash\)}
00047 \textcolor{preprocessor}{  \{ \(\backslash\)}
00048 \textcolor{preprocessor}{    lapack\_int matrix\_order; \(\backslash\)}
00049 \textcolor{preprocessor}{    lapack\_int size, lda, info, StorageOrder; \(\backslash\)}
00050 \textcolor{preprocessor}{    EIGTYPE* a; \(\backslash\)}
00051 \textcolor{preprocessor}{    eigen\_assert(m.rows()==m.cols()); \(\backslash\)}
00052 \textcolor{preprocessor}{    }\textcolor{comment}{/* Set up parameters for ?potrf */}\textcolor{preprocessor}{ \(\backslash\)}
00053 \textcolor{preprocessor}{    size = convert\_index<lapack\_int>(m.rows()); \(\backslash\)}
00054 \textcolor{preprocessor}{    StorageOrder = MatrixType::Flags&RowMajorBit?RowMajor:ColMajor; \(\backslash\)}
00055 \textcolor{preprocessor}{    matrix\_order = StorageOrder==RowMajor ? LAPACK\_ROW\_MAJOR : LAPACK\_COL\_MAJOR; \(\backslash\)}
00056 \textcolor{preprocessor}{    a = &(m.coeffRef(0,0)); \(\backslash\)}
00057 \textcolor{preprocessor}{    lda = convert\_index<lapack\_int>(m.outerStride()); \(\backslash\)}
00058 \textcolor{preprocessor}{\(\backslash\)}
00059 \textcolor{preprocessor}{    info = LAPACKE\_##LAPACKE\_PREFIX##potrf( matrix\_order, uplo, size, (BLASTYPE*)a, lda ); \(\backslash\)}
00060 \textcolor{preprocessor}{    info = (info==0) ? -1 : info>0 ? info-1 : size; \(\backslash\)}
00061 \textcolor{preprocessor}{    return info; \(\backslash\)}
00062 \textcolor{preprocessor}{  \} \(\backslash\)}
00063 \textcolor{preprocessor}{\}; \(\backslash\)}
00064 \textcolor{preprocessor}{template<> struct llt\_inplace<EIGTYPE, Lower> \(\backslash\)}
00065 \textcolor{preprocessor}{\{ \(\backslash\)}
00066 \textcolor{preprocessor}{  template<typename MatrixType> \(\backslash\)}
00067 \textcolor{preprocessor}{  static Index blocked(MatrixType& m) \(\backslash\)}
00068 \textcolor{preprocessor}{  \{ \(\backslash\)}
00069 \textcolor{preprocessor}{    return lapacke\_llt<EIGTYPE>::potrf(m, 'L'); \(\backslash\)}
00070 \textcolor{preprocessor}{  \} \(\backslash\)}
00071 \textcolor{preprocessor}{  template<typename MatrixType, typename VectorType> \(\backslash\)}
00072 \textcolor{preprocessor}{  static Index rankUpdate(MatrixType& mat, const VectorType& vec, const typename MatrixType::RealScalar&
       sigma) \(\backslash\)}
00073 \textcolor{preprocessor}{  \{ return Eigen::internal::llt\_rank\_update\_lower(mat, vec, sigma); \} \(\backslash\)}
00074 \textcolor{preprocessor}{\}; \(\backslash\)}
00075 \textcolor{preprocessor}{template<> struct llt\_inplace<EIGTYPE, Upper> \(\backslash\)}
00076 \textcolor{preprocessor}{\{ \(\backslash\)}
00077 \textcolor{preprocessor}{  template<typename MatrixType> \(\backslash\)}
00078 \textcolor{preprocessor}{  static Index blocked(MatrixType& m) \(\backslash\)}
00079 \textcolor{preprocessor}{  \{ \(\backslash\)}
00080 \textcolor{preprocessor}{    return lapacke\_llt<EIGTYPE>::potrf(m, 'U'); \(\backslash\)}
00081 \textcolor{preprocessor}{  \} \(\backslash\)}
00082 \textcolor{preprocessor}{  template<typename MatrixType, typename VectorType> \(\backslash\)}
00083 \textcolor{preprocessor}{  static Index rankUpdate(MatrixType& mat, const VectorType& vec, const typename MatrixType::RealScalar&
       sigma) \(\backslash\)}
00084 \textcolor{preprocessor}{  \{ \(\backslash\)}
00085 \textcolor{preprocessor}{    Transpose<MatrixType> matt(mat); \(\backslash\)}
00086 \textcolor{preprocessor}{    return llt\_inplace<EIGTYPE, Lower>::rankUpdate(matt, vec.conjugate(), sigma); \(\backslash\)}
00087 \textcolor{preprocessor}{  \} \(\backslash\)}
00088 \textcolor{preprocessor}{\};}
00089 
00090 EIGEN\_LAPACKE\_LLT(\textcolor{keywordtype}{double}, \textcolor{keywordtype}{double}, d)
00091 EIGEN\_LAPACKE\_LLT(\textcolor{keywordtype}{float}, \textcolor{keywordtype}{float}, s)
00092 EIGEN\_LAPACKE\_LLT(dcomplex, lapack\_complex\_double, z)
00093 EIGEN\_LAPACKE\_LLT(scomplex, lapack\_complex\_float, c)
00094 
00095 \} \textcolor{comment}{// end namespace internal}
00096 
00097 \} \textcolor{comment}{// end namespace Eigen}
00098 
00099 \textcolor{preprocessor}{#endif // EIGEN\_LLT\_LAPACKE\_H}
\end{DoxyCode}
