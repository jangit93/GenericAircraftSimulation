M\+A\+T\+L\+AB M\+AT file I/O library

\subsection*{Build status}

\href{https://travis-ci.org/tbeu/matio}{\tt } \href{https://scan.coverity.com/projects/tbeu-matio}{\tt } \href{https://coveralls.io/github/tbeu/matio?branch=master}{\tt } \href{https://ci.appveyor.com/project/tbeu/matio/branch/master}{\tt } \href{https://bettercodehub.com/}{\tt }

\subsection*{Table of Contents}


\begin{DoxyEnumerate}
\item \href{#10-introduction}{\tt Introduction}
\begin{DoxyItemize}
\item 1.\+1\href{#11-contact}{\tt Contact}
\item 1.\+2 \href{#12-acknowledgements}{\tt Acknowledgements}
\item 1.\+3 \href{#13-contributing}{\tt Contributing}
\item 1.\+4 \href{#14-questions-and-reporting-bugs}{\tt Questions and Reporting Bugs}
\end{DoxyItemize}
\item \href{#20-building}{\tt Building}
\begin{DoxyItemize}
\item 2.\+1 \href{#21-dependencies}{\tt Dependencies}
\begin{DoxyItemize}
\item 2.\+1.\+1 \href{#211-zlib}{\tt zlib}
\item 2.\+1.\+2 \href{#212-hdf5}{\tt H\+D\+F5}
\end{DoxyItemize}
\item 2.\+2 \href{#22-building-matio}{\tt Building matio}
\begin{DoxyItemize}
\item 2.\+2.\+1 \href{#221-quick-build-guide}{\tt Quick Build Guide}
\item 2.\+2.\+2 \href{#222-configure-options}{\tt Configure Options}
\item 2.\+2.\+3 \href{#223-visual-studio}{\tt Visual Studio}
\item 2.\+2.\+4 \href{#224-testsuite}{\tt Testsuite}
\end{DoxyItemize}
\item 2.\+3 \href{#23-platforms}{\tt Platforms}
\end{DoxyItemize}
\item \href{#30-license}{\tt License}
\end{DoxyEnumerate}

\subsection*{1.\+0 Introduction}

Matio is an open-\/source C library for reading and writing binary M\+A\+T\+L\+AB M\+AT files. This library is designed for use by programs/libraries that do not have access or do not want to rely on M\+A\+T\+L\+AB\textquotesingle{}s shared libraries.

\subsubsection*{1.\+1 Contact}

You can contact Christopher Hulbert through email at \href{mailto:chulbe2lsu@users.sourceforge.net}{\tt chulbe2lsu@users.\+sourceforge.\+net} or Thomas Beutlich through email at \href{mailto:t-beu@users.sourceforge.net}{\tt t-\/beu@users.\+sourceforge.\+net}.

\subsubsection*{1.\+2 Acknowledgements}

The following people/organizations have helped in the development of matio through patches, bug reports, and/or testing\+:


\begin{DoxyItemize}
\item Greg Sjaardema (\href{https://github.com/gsjaardema}{\tt https\+://github.\+com/gsjaardema})
\item Jacco van Beek (\href{https://sourceforge.net/u/jabe}{\tt https\+://sourceforge.\+net/u/jabe})
\item John Filo (\href{https://github.com/jfilo}{\tt https\+://github.\+com/jfilo})
\item Modelica Association (\href{https://modelica.org/association}{\tt https\+://modelica.\+org/association})
\item Nils Jannasch (\href{https://github.com/NJannasch}{\tt https\+://github.\+com/\+N\+Jannasch})
\item Open\+M\+E\+EG (\href{http://openmeeg.github.io/}{\tt http\+://openmeeg.\+github.\+io/})
\item Scilab (\href{http://www.scilab.org/}{\tt http\+://www.\+scilab.\+org/})
\item SÃ©bastien Villemot (\href{https://github.com/sebastien-villemot}{\tt https\+://github.\+com/sebastien-\/villemot})
\item S\+GI in support of Interactive Supercomputing, Inc.
\item Steven Leibman \href{mailto:sleibman@alum.mit.edu}{\tt sleibman@alum.\+mit.\+edu}
\end{DoxyItemize}

\subsubsection*{1.\+3 Contributing}

If you are interested in collaborations, contact us via email (see Section \href{#11-contact}{\tt 1.\+1}).

\subsubsection*{1.\+4 Questions and Reporting Bugs}

Questions can be asked using the forums on the sourceforge site hosting matio (\href{http://sourceforge.net/projects/matio/forums}{\tt http\+://sourceforge.\+net/projects/matio/forums}).

Bugs, enhancements, etc. should be submitted using one of the trackers on the sourceforge page (\href{http://sourceforge.net/p/matio/_list/tickets}{\tt http\+://sourceforge.\+net/p/matio/\+\_\+list/tickets}).

\subsection*{2.\+0 Building}

This section describes how to build matio. Section \href{#21-dependencies}{\tt 2.\+1} describes the dependencies, Section \href{#22-building-matio}{\tt 2.\+2} how to build/test matio, and Section \href{#23-platforms}{\tt 2.\+3} documents the platforms matio has been tested on.

\subsubsection*{2.\+1 Dependencies}

Matio has two optional dependencies. These are not required for the software to work, but without them some files may be unreadable. Zlib is required to read/write level 5 M\+AT files that use compression. H\+D\+F5 is required to work with newer M\+AT files that use the H\+D\+F5-\/format files.

\paragraph*{2.\+1.\+1 zlib}

To support compressed M\+AT files, zlib version {$\ge$} 1.\+2.\+3 is required. The zlib software can be downloaded from \href{http://zlib.net/}{\tt http\+://zlib.\+net/}.

\paragraph*{2.\+1.\+2 H\+D\+F5}

Support for M\+AT file version 7.\+3 requires the H\+D\+F5 library. This library can be downloaded from \href{https://www.hdfgroup.org/}{\tt https\+://www.\+hdfgroup.\+org/}. Matio requires H\+D\+F5 version {$\ge$} 1.\+8.\+x. Neither deprecated H\+D\+F5 1.\+6.\+x A\+PI functions nor H\+D\+F5 higher-\/level functions are called.


\begin{DoxyItemize}
\item Building matio with H\+D\+F5 1.\+8.\+x requires configuration of H\+D\+F5 with default A\+PI version 1.\+8 (i.\+e. {\ttfamily -\/-\/with-\/default-\/api-\/version=v18}).
\item Building matio with H\+D\+F5 1.\+10.\+x requires configuration of H\+D\+F5 with either default A\+PI version 1.\+10 (i.\+e. {\ttfamily -\/-\/with-\/default-\/api-\/version=v110}) or with deprecated A\+PI version 1.\+8 (i.\+e. {\ttfamily -\/-\/with-\/default-\/api-\/version=v18}).
\end{DoxyItemize}

For Windows, the pre-\/compiled binaries can be used which also include a D\+LL of zlib to satisfy the zlib dependency.

\subsubsection*{2.\+2 Building matio}

\paragraph*{2.\+2.\+1 Quick Build Guide}

The primary method for building the software is using {\ttfamily configure} followed by {\ttfamily make}. After building, the testsuite can be executed to test the software using {\ttfamily make check}. The software can be installed using {\ttfamily make install}. For example, 
\begin{DoxyCode}
git clone git://git.code.sf.net/p/matio/matio
cd matio
git submodule update --init  # for datasets used in unit tests
./autogen.sh
./configure
make
make check
make install
\end{DoxyCode}
 If any of the tests in the testsuite fail, you should report the failure using the tracker (see Section \href{#14-questions-and-reporting-bugs}{\tt 1.\+4}). You should attach the generated testsuite.\+log file to the bug report.

\paragraph*{2.\+2.\+2 Configure Options}

The configure script used to build the software takes a number of options. This section describes the key options.


\begin{DoxyItemize}
\item {\ttfamily -\/-\/enable-\/mat73=yes} This flag en/disables the support for version 7.\+3 M\+AT files. The option only makes sense if built with H\+D\+F5 as support for version 7.\+3 files. It will be disabled if H\+D\+F5 is not available.
\item {\ttfamily -\/-\/enable-\/extended-\/sparse=yes} Enable extended sparse matrix data types not supported in M\+A\+T\+L\+AB. M\+A\+T\+L\+AB only supports double-\/precision sparse data. With this flag, matio will read sparse data with other types (i.\+e. single-\/precision and integer types).
\item {\ttfamily -\/-\/with-\/matlab=D\+IR} This option specifies the directory (D\+IR) with the \textquotesingle{}matlab\textquotesingle{} program. With this option, the testsuite will check that the M\+AT files written by matio can be read into M\+A\+T\+L\+AB. Without this, the test will only check that matio can read the file written and if successful the test will be skipped. If matio can not read the file, the test will fail.
\item {\ttfamily -\/-\/with-\/zlib=D\+IR} This option specifies the prefix where zlib is installed (see Section \href{#211-zlib}{\tt 2.\+1.\+1} for information about zlib).
\item {\ttfamily -\/-\/with-\/hdf5=D\+IR} This option specifies the prefix where the H\+D\+F5 software is installed (see Section \href{#212-hdf5}{\tt 2.\+1.\+2} for information about H\+D\+F5).
\item {\ttfamily -\/-\/with-\/default-\/file-\/ver=version} This option sets the default M\+AT file version (4,5,7.\+3) that will be used when writing. The default file version is used by the Mat\+\_\+\+Create macro and the Mat\+\_\+\+Create\+Ver function when M\+A\+T\+\_\+\+F\+T\+\_\+\+D\+E\+F\+A\+U\+LT is used for the version argument.
\item {\ttfamily -\/-\/with-\/libdir-\/suffix=suffix} This option specifies a suffix to apply to library directories when installing and looking for dependent libraries (i.\+e. H\+D\+F5 and zlib). For example, some multi-\/arch Linux distributions install 64-\/bit libraries into lib64 and 32-\/bit libraries into lib.
\end{DoxyItemize}

\paragraph*{2.\+2.\+3 Visual Studio}

Visual Studio solutions are provided as \href{visual_studio/matio_vs2008.sln}{\tt matio\+\_\+vs2008.\+sln} for V\+S2008 and as \href{visual_studio/matio.sln}{\tt matio.\+sln} for V\+S2010 (and newer). The solutions are set up to build a D\+LL of the matio library (libmatio.\+dll) and matdump tool and assume H\+D\+F5 is available in the directory specified by the H\+D\+F5\+\_\+\+D\+IR environment variable. It is assumed that the {\bfseries shared} libraries of H\+D\+F5 (and zlib) are available. If the {\bfseries static} libraries of H\+D\+F5 (and zlib) are installed/built the macro {\ttfamily H5\+\_\+\+B\+U\+I\+L\+T\+\_\+\+A\+S\+\_\+\+S\+T\+A\+T\+I\+C\+\_\+\+L\+IB} needs to be defined (instead of {\ttfamily H5\+\_\+\+B\+U\+I\+L\+T\+\_\+\+A\+S\+\_\+\+D\+Y\+N\+A\+M\+I\+C\+\_\+\+L\+IB}).


\begin{DoxyItemize}
\item The V\+S2008 solution was tested with Visual Studio 2008 and the \href{https://support.hdfgroup.org/ftp/HDF5/releases/hdf5-1.8/hdf5-1.8.12/bin/windows/}{\tt H\+D\+F5 1.\+8.\+12 Visual Studio pre-\/built Windows binaries} (vs9shared) including zlib.
\item The V\+S2010 solution was tested with Visual Studio 2010 and the \href{https://support.hdfgroup.org/ftp/HDF5/releases/hdf5-1.8/hdf5-1.8.13/bin/windows/}{\tt H\+D\+F5 1.\+8.\+13 Visual Studio pre-\/built Windows binaries} (V\+S2010-\/shared) including zlib.
\item The updated V\+S2010 solution was tested with Visual Studio 2015 and the \href{https://support.hdfgroup.org/ftp/HDF5/releases/hdf5-1.8/hdf5-1.8.16/bin/windows/extra/}{\tt H\+D\+F5 1.\+8.\+16 Visual Studio pre-\/built Windows binaries} (vs2015-\/shared) including zlib.
\end{DoxyItemize}

\paragraph*{2.\+2.\+4 Testsuite}

A testsuite is available when building with the G\+NU autotools. To run the testsuite, first configure and build matio. After building run {\ttfamily make check} to run the testsuite. If matio was built without zlib, the compressed variable tests will be skipped. If built without H\+D\+F5, the tests for version 7.\+3 M\+AT files will be skipped. If the path to the M\+A\+T\+L\+AB application was not specified ({\ttfamily -\/-\/with-\/matlab}), the write tests will fail if matio cannot read the file and skip if matio can read the file. The write tests will pass if M\+A\+T\+L\+AB is available and can also read the file.

To report matio testsuite failures, compress the testsuite.\+log file in the test sub-\/directory of the build directory. Upload the compressed log file along with a bug report (see Section \href{#14-questions-and-reporting-bugs}{\tt 1.\+4} for information on reporting bugs).

\subsubsection*{2.\+3 Platforms}

The library has been tested/used on Linux, Windows, OS X, and A\+IX including both little-\/endian and big-\/endian architecture.

\subsection*{3.\+0 License}

This software is provided under a Simplified B\+SD license. See the \mbox{[}C\+O\+P\+Y\+I\+NG\mbox{]}(C\+O\+P\+Y\+I\+NG) file for details on the license.

\textsubscript{M\+A\+T\+L\+AB is a registered trademark of The Math\+Works, Inc.} 