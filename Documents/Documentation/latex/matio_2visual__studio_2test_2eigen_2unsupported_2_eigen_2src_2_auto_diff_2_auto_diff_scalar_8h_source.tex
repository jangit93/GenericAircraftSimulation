\hypertarget{matio_2visual__studio_2test_2eigen_2unsupported_2_eigen_2src_2_auto_diff_2_auto_diff_scalar_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/unsupported/\+Eigen/src/\+Auto\+Diff/\+Auto\+Diff\+Scalar.h}
\label{matio_2visual__studio_2test_2eigen_2unsupported_2_eigen_2src_2_auto_diff_2_auto_diff_scalar_8h_source}\index{Auto\+Diff\+Scalar.\+h@{Auto\+Diff\+Scalar.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2009 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_AUTODIFF\_SCALAR\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_AUTODIFF\_SCALAR\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{
00014 
00015 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00016 
00017 \textcolor{keyword}{template}<\textcolor{keyword}{typename} A, \textcolor{keyword}{typename} B>
00018 \textcolor{keyword}{struct }make\_coherent\_impl \{
00019   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(A&, B&) \{\}
00020 \};
00021 
00022 \textcolor{comment}{// resize a to match b is a.size()==0, and conversely.}
00023 \textcolor{keyword}{template}<\textcolor{keyword}{typename} A, \textcolor{keyword}{typename} B>
00024 \textcolor{keywordtype}{void} make\_coherent(\textcolor{keyword}{const} A& a, \textcolor{keyword}{const} B&b)
00025 \{
00026   make\_coherent\_impl<A,B>::run(a.const\_cast\_derived(), b.const\_cast\_derived());
00027 \}
00028 
00029 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_DerType, \textcolor{keywordtype}{bool} Enable> \textcolor{keyword}{struct }auto\_diff\_special\_op;
00030 
00031 \} \textcolor{comment}{// end namespace internal}
00032 
00033 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_DerType> \textcolor{keyword}{class }AutoDiffScalar;
00034 
00035 \textcolor{keyword}{template}<\textcolor{keyword}{typename} NewDerType>
00036 \textcolor{keyword}{inline} AutoDiffScalar<NewDerType> MakeAutoDiffScalar(\textcolor{keyword}{const} \textcolor{keyword}{typename} NewDerType::Scalar& value, \textcolor{keyword}{const} 
      NewDerType &der) \{
00037   \textcolor{keywordflow}{return} AutoDiffScalar<NewDerType>(value,der);
00038 \}
00039 
00066 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_DerType>
00067 \textcolor{keyword}{class }AutoDiffScalar
00068   : \textcolor{keyword}{public} internal::auto\_diff\_special\_op
00069             <\_DerType, !internal::is\_same<typename internal::traits<typename internal::remove\_all<\_DerType>
      ::type>::Scalar,
00070                                           typename NumTraits<typename internal::traits<typename internal::r
      emove\_all<\_DerType>::type>::Scalar>::Real>::value>
00071 \{
00072   \textcolor{keyword}{public}:
00073     \textcolor{keyword}{typedef} internal::auto\_diff\_special\_op
00074             <\_DerType, !internal::is\_same<typename internal::traits<typename
       internal::remove\_all<\_DerType>::type>::Scalar,
00075                        \textcolor{keyword}{typename} NumTraits<typename internal::traits<typename
       internal::remove\_all<\_DerType>::type>::Scalar>::Real>::value> Base;
00076     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_all<\_DerType>::type DerType;
00077     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::traits<DerType>::Scalar Scalar;
00078     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} NumTraits<Scalar>::Real Real;
00079 
00080     \textcolor{keyword}{using} Base::operator+;
00081     \textcolor{keyword}{using} Base::operator*;
00082 
\Hypertarget{matio_2visual__studio_2test_2eigen_2unsupported_2_eigen_2src_2_auto_diff_2_auto_diff_scalar_8h_source_l00084}\hyperlink{class_eigen_1_1_auto_diff_scalar_ae73d362745e986c00cee5658bf731412}{00084}     \hyperlink{class_eigen_1_1_auto_diff_scalar_ae73d362745e986c00cee5658bf731412}{AutoDiffScalar}() \{\}
00085 
\Hypertarget{matio_2visual__studio_2test_2eigen_2unsupported_2_eigen_2src_2_auto_diff_2_auto_diff_scalar_8h_source_l00088}\hyperlink{class_eigen_1_1_auto_diff_scalar_a7f4f44f682ba5d500c34c4f2fa6ecb9e}{00088}     \hyperlink{class_eigen_1_1_auto_diff_scalar_a7f4f44f682ba5d500c34c4f2fa6ecb9e}{AutoDiffScalar}(\textcolor{keyword}{const} Scalar& value, \textcolor{keywordtype}{int} nbDer, \textcolor{keywordtype}{int} derNumber)
00089       : m\_value(value), m\_derivatives(DerType::Zero(nbDer))
00090     \{
00091       m\_derivatives.coeffRef(derNumber) = Scalar(1);
00092     \}
00093 
\Hypertarget{matio_2visual__studio_2test_2eigen_2unsupported_2_eigen_2src_2_auto_diff_2_auto_diff_scalar_8h_source_l00096}\hyperlink{class_eigen_1_1_auto_diff_scalar_a14e0f5ecc595deb05aaf336f5a81b861}{00096}     \textcolor{comment}{/*explicit*/} \hyperlink{class_eigen_1_1_auto_diff_scalar_a14e0f5ecc595deb05aaf336f5a81b861}{AutoDiffScalar}(\textcolor{keyword}{const} Real& value)
00097       : m\_value(value)
00098     \{
00099       \textcolor{keywordflow}{if}(m\_derivatives.size()>0)
00100         m\_derivatives.setZero();
00101     \}
00102 
\Hypertarget{matio_2visual__studio_2test_2eigen_2unsupported_2_eigen_2src_2_auto_diff_2_auto_diff_scalar_8h_source_l00104}\hyperlink{class_eigen_1_1_auto_diff_scalar_a09641114cbb3b98a1132b82dff5939e3}{00104}     \hyperlink{class_eigen_1_1_auto_diff_scalar_a09641114cbb3b98a1132b82dff5939e3}{AutoDiffScalar}(\textcolor{keyword}{const} Scalar& value, \textcolor{keyword}{const} DerType& der)
00105       : m\_value(value), m\_derivatives(der)
00106     \{\}
00107 
00108     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType>
00109     \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& other
00110 #ifndef EIGEN\_PARSED\_BY\_DOXYGEN
00111     , \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1enable__if}{internal::enable\_if}<
00112             \hyperlink{struct_eigen_1_1internal_1_1is__same}{internal::is\_same}<Scalar, \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits}<\textcolor{keyword}{typename} 
      \hyperlink{group___sparse_core___module}{internal::remove\_all<OtherDerType>::type}>::Scalar>::value
00113         &&  \hyperlink{struct_eigen_1_1internal_1_1is__convertible}{internal::is\_convertible<OtherDerType,DerType>::value}
       , \textcolor{keywordtype}{void}*>::type = 0
00114 #endif
00115     )
00116       : m\_value(other.value()), m\_derivatives(other.derivatives())
00117     \{\}
00118 
00119     \textcolor{keyword}{friend}  std::ostream & operator << (std::ostream & s, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& a)
00120     \{
00121       \textcolor{keywordflow}{return} s << a.value();
00122     \}
00123 
00124     \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& other)
00125       : m\_value(other.value()), m\_derivatives(other.derivatives())
00126     \{\}
00127 
00128     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType>
00129     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& operator=(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& other)
00130     \{
00131       m\_value = other.value();
00132       m\_derivatives = other.derivatives();
00133       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00134     \}
00135 
00136     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& operator=(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& other)
00137     \{
00138       m\_value = other.value();
00139       m\_derivatives = other.derivatives();
00140       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00141     \}
00142 
00143     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& operator=(\textcolor{keyword}{const} Scalar& other)
00144     \{
00145       m\_value = other;
00146       \textcolor{keywordflow}{if}(m\_derivatives.size()>0)
00147         m\_derivatives.setZero();
00148       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00149     \}
00150 
00151 \textcolor{comment}{//     inline operator const Scalar& () const \{ return m\_value; \}}
00152 \textcolor{comment}{//     inline operator Scalar& () \{ return m\_value; \}}
00153 
00154     \textcolor{keyword}{inline} \textcolor{keyword}{const} Scalar& value()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_value; \}
00155     \textcolor{keyword}{inline} Scalar& value() \{ \textcolor{keywordflow}{return} m\_value; \}
00156 
00157     \textcolor{keyword}{inline} \textcolor{keyword}{const} DerType& derivatives()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_derivatives; \}
00158     \textcolor{keyword}{inline} DerType& derivatives() \{ \textcolor{keywordflow}{return} m\_derivatives; \}
00159 
00160     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator< (\textcolor{keyword}{const} Scalar& other)\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} m\_value <  other; \}
00161     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator<=(\textcolor{keyword}{const} Scalar& other)\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} m\_value <= other; \}
00162     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator> (\textcolor{keyword}{const} Scalar& other)\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} m\_value >  other; \}
00163     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator>=(\textcolor{keyword}{const} Scalar& other)\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} m\_value >= other; \}
00164     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} Scalar& other)\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} m\_value == other; \}
00165     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} Scalar& other)\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} m\_value != other; \}
00166 
00167     \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator< (\textcolor{keyword}{const} Scalar& a, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& b) \{ \textcolor{keywordflow}{return} a <  b.
      value(); \}
00168     \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator<=(\textcolor{keyword}{const} Scalar& a, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& b) \{ \textcolor{keywordflow}{return} a <= b.
      value(); \}
00169     \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator> (\textcolor{keyword}{const} Scalar& a, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& b) \{ \textcolor{keywordflow}{return} a >  b.
      value(); \}
00170     \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator>=(\textcolor{keyword}{const} Scalar& a, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& b) \{ \textcolor{keywordflow}{return} a >= b.
      value(); \}
00171     \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} Scalar& a, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& b) \{ \textcolor{keywordflow}{return} a == b.
      value(); \}
00172     \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} Scalar& a, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& b) \{ \textcolor{keywordflow}{return} a != b.
      value(); \}
00173 
00174     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator< (const AutoDiffScalar<OtherDerType>& b) \textcolor{keyword}{const}  \{ \textcolor{keywordflow}{
      return} m\_value <  b.value(); \}
00175     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator<=(const AutoDiffScalar<OtherDerType>& b) \textcolor{keyword}{const}  \{ \textcolor{keywordflow}{
      return} m\_value <= b.value(); \}
00176     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator> (\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& b)\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} m\_value >  b.value(); \}
00177     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator>=(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& b)\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} m\_value >= b.value(); \}
00178     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& b)\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} m\_value == b.value(); \}
00179     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& b)\textcolor{keyword}{ const  }\{ \textcolor{keywordflow}{return} m\_value != b.value(); \}
00180 
00181     \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType&>} operator+(\textcolor{keyword}{const} Scalar& other)\textcolor{keyword}{ const}
00182 \textcolor{keyword}{    }\{
00183       \textcolor{keywordflow}{return} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType&>}(m\_value + other, m\_derivatives);
00184     \}
00185 
00186     \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType&>} operator+(\textcolor{keyword}{const} Scalar& a, \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& b)
00187     \{
00188       \textcolor{keywordflow}{return} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType&>}(a + b.value(), b.derivatives());
00189     \}
00190 
00191 \textcolor{comment}{//     inline const AutoDiffScalar<DerType&> operator+(const Real& other) const}
00192 \textcolor{comment}{//     \{}
00193 \textcolor{comment}{//       return AutoDiffScalar<DerType&>(m\_value + other, m\_derivatives);}
00194 \textcolor{comment}{//     \}}
00195 
00196 \textcolor{comment}{//     friend inline const AutoDiffScalar<DerType&> operator+(const Real& a, const AutoDiffScalar& b)}
00197 \textcolor{comment}{//     \{}
00198 \textcolor{comment}{//       return AutoDiffScalar<DerType&>(a + b.value(), b.derivatives());}
00199 \textcolor{comment}{//     \}}
00200 
00201     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& operator+=(\textcolor{keyword}{const} Scalar& other)
00202     \{
00203       value() += other;
00204       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00205     \}
00206 
00207     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType>
00208     \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<CwiseBinaryOp<internal::scalar\_sum\_op<Scalar>}
      ,\textcolor{keyword}{const} DerType,\textcolor{keyword}{const} \textcolor{keyword}{typename} \hyperlink{group___sparse_core___module}{internal::remove\_all<OtherDerType>::type}
      > >
00209     operator+(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& other)\textcolor{keyword}{ const}
00210 \textcolor{keyword}{    }\{
00211       internal::make\_coherent(m\_derivatives, other.derivatives());
00212       \textcolor{keywordflow}{return} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<CwiseBinaryOp<internal::scalar\_sum\_op<Scalar>}
      ,\textcolor{keyword}{const} DerType,\textcolor{keyword}{const} \textcolor{keyword}{typename} \hyperlink{group___sparse_core___module}{internal::remove\_all<OtherDerType>::type}
      > >(
00213         m\_value + other.value(),
00214         m\_derivatives + other.derivatives());
00215     \}
00216 
00217     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType>
00218     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}&
00219     operator+=(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& other)
00220     \{
00221       (*this) = (*this) + other;
00222       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00223     \}
00224 
00225     \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType&>} operator-(\textcolor{keyword}{const} Scalar& b)\textcolor{keyword}{ const}
00226 \textcolor{keyword}{    }\{
00227       \textcolor{keywordflow}{return} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType&>}(m\_value - b, m\_derivatives);
00228     \}
00229 
00230     \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<CwiseUnaryOp<internal::scalar\_opposite\_op<Scalar>}
      , \textcolor{keyword}{const} DerType> >
00231     operator-(\textcolor{keyword}{const} Scalar& a, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& b)
00232     \{
00233       \textcolor{keywordflow}{return} AutoDiffScalar<CwiseUnaryOp<internal::scalar\_opposite\_op<Scalar>, \textcolor{keyword}{const} DerType> >
00234             (a - b.value(), -b.derivatives());
00235     \}
00236 
00237     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& operator-=(\textcolor{keyword}{const} Scalar& other)
00238     \{
00239       value() -= other;
00240       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00241     \}
00242 
00243     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType>
00244     \textcolor{keyword}{inline} \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<CwiseBinaryOp<internal::scalar\_difference\_op<Scalar>}
      , \textcolor{keyword}{const} DerType,\textcolor{keyword}{const} \textcolor{keyword}{typename} \hyperlink{group___sparse_core___module}{internal::remove\_all<OtherDerType>::type}
      > >
00245     operator-(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& other)\textcolor{keyword}{ const}
00246 \textcolor{keyword}{    }\{
00247       internal::make\_coherent(m\_derivatives, other.derivatives());
00248       \textcolor{keywordflow}{return} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<CwiseBinaryOp<internal::scalar\_difference\_op<Scalar>}
      , \textcolor{keyword}{const} DerType,\textcolor{keyword}{const} \textcolor{keyword}{typename} \hyperlink{group___sparse_core___module}{internal::remove\_all<OtherDerType>::type}
      > >(
00249         m\_value - other.value(),
00250         m\_derivatives - other.derivatives());
00251     \}
00252 
00253     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType>
00254     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}&
00255     operator-=(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& other)
00256     \{
00257       *\textcolor{keyword}{this} = *\textcolor{keyword}{this} - other;
00258       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00259     \}
00260 
00261     \textcolor{keyword}{inline} \textcolor{keyword}{const} AutoDiffScalar<CwiseUnaryOp<internal::scalar\_opposite\_op<Scalar>, \textcolor{keyword}{const} DerType> >
00262     operator-()\textcolor{keyword}{ const}
00263 \textcolor{keyword}{    }\{
00264       \textcolor{keywordflow}{return} AutoDiffScalar<CwiseUnaryOp<internal::scalar\_opposite\_op<Scalar>, \textcolor{keyword}{const} DerType> >(
00265         -m\_value,
00266         -m\_derivatives);
00267     \}
00268 
00269     \textcolor{keyword}{inline} \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(DerType,Scalar,product) >}
00270     operator*(\textcolor{keyword}{const} Scalar& other)\textcolor{keyword}{ const}
00271 \textcolor{keyword}{    }\{
00272       \textcolor{keywordflow}{return} MakeAutoDiffScalar(m\_value * other, m\_derivatives * other);
00273     \}
00274 
00275     \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(DerType,Scalar,product) >}
00276     operator*(\textcolor{keyword}{const} Scalar& other, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& a)
00277     \{
00278       \textcolor{keywordflow}{return} MakeAutoDiffScalar(a.value() * other, a.derivatives() * other);
00279     \}
00280 
00281 \textcolor{comment}{//     inline const AutoDiffScalar<typename CwiseUnaryOp<internal::scalar\_multiple\_op<Real>, DerType>::Type
       >}
00282 \textcolor{comment}{//     operator*(const Real& other) const}
00283 \textcolor{comment}{//     \{}
00284 \textcolor{comment}{//       return AutoDiffScalar<typename CwiseUnaryOp<internal::scalar\_multiple\_op<Real>, DerType>::Type >(}
00285 \textcolor{comment}{//         m\_value * other,}
00286 \textcolor{comment}{//         (m\_derivatives * other));}
00287 \textcolor{comment}{//     \}}
00288 \textcolor{comment}{//}
00289 \textcolor{comment}{//     friend inline const AutoDiffScalar<typename CwiseUnaryOp<internal::scalar\_multiple\_op<Real>,
       DerType>::Type >}
00290 \textcolor{comment}{//     operator*(const Real& other, const AutoDiffScalar& a)}
00291 \textcolor{comment}{//     \{}
00292 \textcolor{comment}{//       return AutoDiffScalar<typename CwiseUnaryOp<internal::scalar\_multiple\_op<Real>, DerType>::Type >(}
00293 \textcolor{comment}{//         a.value() * other,}
00294 \textcolor{comment}{//         a.derivatives() * other);}
00295 \textcolor{comment}{//     \}}
00296 
00297     \textcolor{keyword}{inline} \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(DerType,Scalar,product) >}
00298     operator/(\textcolor{keyword}{const} Scalar& other)\textcolor{keyword}{ const}
00299 \textcolor{keyword}{    }\{
00300       \textcolor{keywordflow}{return} MakeAutoDiffScalar(m\_value / other, (m\_derivatives * (Scalar(1)/other)));
00301     \}
00302 
00303     \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(DerType,Scalar,product) >}
00304     operator/(\textcolor{keyword}{const} Scalar& other, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& a)
00305     \{
00306       \textcolor{keywordflow}{return} MakeAutoDiffScalar(other / a.value(), a.derivatives() * (Scalar(-other) / (a.value()*a.value()
      )));
00307     \}
00308 
00309 \textcolor{comment}{//     inline const AutoDiffScalar<typename CwiseUnaryOp<internal::scalar\_multiple\_op<Real>, DerType>::Type
       >}
00310 \textcolor{comment}{//     operator/(const Real& other) const}
00311 \textcolor{comment}{//     \{}
00312 \textcolor{comment}{//       return AutoDiffScalar<typename CwiseUnaryOp<internal::scalar\_multiple\_op<Real>, DerType>::Type >(}
00313 \textcolor{comment}{//         m\_value / other,}
00314 \textcolor{comment}{//         (m\_derivatives * (Real(1)/other)));}
00315 \textcolor{comment}{//     \}}
00316 \textcolor{comment}{//}
00317 \textcolor{comment}{//     friend inline const AutoDiffScalar<typename CwiseUnaryOp<internal::scalar\_multiple\_op<Real>,
       DerType>::Type >}
00318 \textcolor{comment}{//     operator/(const Real& other, const AutoDiffScalar& a)}
00319 \textcolor{comment}{//     \{}
00320 \textcolor{comment}{//       return AutoDiffScalar<typename CwiseUnaryOp<internal::scalar\_multiple\_op<Real>, DerType>::Type >(}
00321 \textcolor{comment}{//         other / a.value(),}
00322 \textcolor{comment}{//         a.derivatives() * (-Real(1)/other));}
00323 \textcolor{comment}{//     \}}
00324 
00325     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType>
00326     \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}<EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(
00327         \hyperlink{group___core___module_class_eigen_1_1_cwise_binary_op}{CwiseBinaryOp}<\hyperlink{struct_eigen_1_1internal_1_1scalar__difference__op}{internal::scalar\_difference\_op<Scalar>}
       EIGEN\_COMMA
00328           \textcolor{keyword}{const} EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(DerType,Scalar,product) EIGEN\_COMMA
00329           \textcolor{keyword}{const} EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(\textcolor{keyword}{typename} 
      \hyperlink{group___sparse_core___module}{internal::remove\_all<OtherDerType>::type},Scalar,product) >,Scalar,
      product) >
00330     operator/(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& other)\textcolor{keyword}{ const}
00331 \textcolor{keyword}{    }\{
00332       internal::make\_coherent(m\_derivatives, other.derivatives());
00333       \textcolor{keywordflow}{return} MakeAutoDiffScalar(
00334         m\_value / other.value(),
00335           ((m\_derivatives * other.value()) - (other.derivatives() * m\_value))
00336         * (Scalar(1)/(other.value()*other.value())));
00337     \}
00338 
00339     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType>
00340     \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<CwiseBinaryOp<internal::scalar\_sum\_op<Scalar>}
      ,
00341         \textcolor{keyword}{const} EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(DerType,Scalar,product),
00342         \textcolor{keyword}{const} EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(\textcolor{keyword}{typename} 
      \hyperlink{group___sparse_core___module}{internal::remove\_all<OtherDerType>::type},Scalar,product) > >
00343     operator*(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& other)\textcolor{keyword}{ const}
00344 \textcolor{keyword}{    }\{
00345       internal::make\_coherent(m\_derivatives, other.derivatives());
00346       \textcolor{keywordflow}{return} MakeAutoDiffScalar(
00347         m\_value * other.value(),
00348         (m\_derivatives * other.value()) + (other.derivatives() * m\_value));
00349     \}
00350 
00351     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& operator*=(\textcolor{keyword}{const} Scalar& other)
00352     \{
00353       *\textcolor{keyword}{this} = *\textcolor{keyword}{this} * other;
00354       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00355     \}
00356 
00357     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType>
00358     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& operator*=(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& other)
00359     \{
00360       *\textcolor{keyword}{this} = *\textcolor{keyword}{this} * other;
00361       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00362     \}
00363 
00364     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& operator/=(\textcolor{keyword}{const} Scalar& other)
00365     \{
00366       *\textcolor{keyword}{this} = *\textcolor{keyword}{this} / other;
00367       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00368     \}
00369 
00370     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerType>
00371     \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}& operator/=(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<OtherDerType>}& other)
00372     \{
00373       *\textcolor{keyword}{this} = *\textcolor{keyword}{this} / other;
00374       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00375     \}
00376 
00377   \textcolor{keyword}{protected}:
00378     Scalar m\_value;
00379     DerType m\_derivatives;
00380 
00381 \};
00382 
00383 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00384 
00385 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_DerType>
00386 \textcolor{keyword}{struct }auto\_diff\_special\_op<\_DerType, true>
00387 \textcolor{comment}{//   : auto\_diff\_scalar\_op<\_DerType, typename NumTraits<Scalar>::Real,}
00388 \textcolor{comment}{//                            is\_same<Scalar,typename NumTraits<Scalar>::Real>::value>}
00389 \{
00390   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} remove\_all<\_DerType>::type \hyperlink{group___sparse_core___module}{DerType};
00391   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} traits<DerType>::Scalar Scalar;
00392   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<Scalar>::Real} Real;
00393 
00394 \textcolor{comment}{//   typedef auto\_diff\_scalar\_op<\_DerType, typename NumTraits<Scalar>::Real,}
00395 \textcolor{comment}{//                            is\_same<Scalar,typename NumTraits<Scalar>::Real>::value> Base;}
00396 
00397 \textcolor{comment}{//   using Base::operator+;}
00398 \textcolor{comment}{//   using Base::operator+=;}
00399 \textcolor{comment}{//   using Base::operator-;}
00400 \textcolor{comment}{//   using Base::operator-=;}
00401 \textcolor{comment}{//   using Base::operator*;}
00402 \textcolor{comment}{//   using Base::operator*=;}
00403 
00404   \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<\_DerType>}& derived()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<\_DerType>}*\textcolor{keyword}{>}(\textcolor{keyword}{this}); \}
00405   \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<\_DerType>}& derived() \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{static\_cast<}
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<\_DerType>}*\textcolor{keyword}{>}(\textcolor{keyword}{this}); \}
00406 
00407 
00408   \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType&>} operator+(\textcolor{keyword}{const} Real& other)\textcolor{keyword}{ const}
00409 \textcolor{keyword}{  }\{
00410     \textcolor{keywordflow}{return} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType&>}(derived().value() + other, derived().
      derivatives());
00411   \}
00412 
00413   \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType&>} operator+(\textcolor{keyword}{const} Real& a, \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<\_DerType>}& b)
00414   \{
00415     \textcolor{keywordflow}{return} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType&>}(a + b.value(), b.derivatives());
00416   \}
00417 
00418   \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<\_DerType>}& operator+=(\textcolor{keyword}{const} Real& other)
00419   \{
00420     derived().value() += other;
00421     \textcolor{keywordflow}{return} derived();
00422   \}
00423 
00424 
00425   \textcolor{keyword}{inline} \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename CwiseUnaryOp<bind2nd\_op<scalar\_product\_op<Scalar,Real>}
       >, DerType>::Type >
00426   operator*(\textcolor{keyword}{const} Real& other)\textcolor{keyword}{ const}
00427 \textcolor{keyword}{  }\{
00428     \textcolor{keywordflow}{return} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename CwiseUnaryOp<bind2nd\_op<scalar\_product\_op<Scalar,Real>}
       >, DerType>::Type >(
00429       derived().value() * other,
00430       derived().derivatives() * other);
00431   \}
00432 
00433   \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename CwiseUnaryOp<bind1st\_op<scalar\_product\_op<Real,Scalar>}
       >, DerType>::Type >
00434   operator*(\textcolor{keyword}{const} Real& other, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<\_DerType>}& a)
00435   \{
00436     \textcolor{keywordflow}{return} AutoDiffScalar<typename CwiseUnaryOp<bind1st\_op<scalar\_product\_op<Real,Scalar> >, DerType>::Type
       >(
00437       a.value() * other,
00438       a.derivatives() * other);
00439   \}
00440 
00441   \textcolor{keyword}{inline} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<\_DerType>}& operator*=(\textcolor{keyword}{const} Scalar& other)
00442   \{
00443     *\textcolor{keyword}{this} = *\textcolor{keyword}{this} * other;
00444     \textcolor{keywordflow}{return} derived();
00445   \}
00446 \};
00447 
00448 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_DerType>
00449 \textcolor{keyword}{struct }auto\_diff\_special\_op<\_DerType, false>
00450 \{
00451   \textcolor{keywordtype}{void} operator*() \textcolor{keyword}{const};
00452   \textcolor{keywordtype}{void} operator-() \textcolor{keyword}{const};
00453   \textcolor{keywordtype}{void} operator+() \textcolor{keyword}{const};
00454 \};
00455 
00456 \textcolor{keyword}{template}<\textcolor{keyword}{typename} A\_Scalar, \textcolor{keywordtype}{int} A\_Rows, \textcolor{keywordtype}{int} A\_Cols, \textcolor{keywordtype}{int} A\_Options, \textcolor{keywordtype}{int} A\_MaxRows, \textcolor{keywordtype}{int} A\_MaxCols, \textcolor{keyword}{typename} B
      >
00457 \textcolor{keyword}{struct }make\_coherent\_impl<Matrix<A\_Scalar, A\_Rows, A\_Cols, A\_Options, A\_MaxRows, A\_MaxCols>, B> \{
00458   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<A\_Scalar, A\_Rows, A\_Cols, A\_Options, A\_MaxRows, A\_MaxCols>}
       \hyperlink{group___core___module_class_eigen_1_1_matrix}{A};
00459   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(A& a, B& b) \{
00460     \textcolor{keywordflow}{if}((A\_Rows==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} || A\_Cols==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}) && (a.size()==0))
00461     \{
00462       a.\hyperlink{class_eigen_1_1_plain_object_base_a99d9054ee2d5a40c6e00ded0265e9cea}{resize}(b.size());
00463       a.\hyperlink{class_eigen_1_1_plain_object_base_ac21ad5f989f320e46958b75ac8d9a1da}{setZero}();
00464     \}
00465   \}
00466 \};
00467 
00468 \textcolor{keyword}{template}<\textcolor{keyword}{typename} A, \textcolor{keyword}{typename} B\_Scalar, \textcolor{keywordtype}{int} B\_Rows, \textcolor{keywordtype}{int} B\_Cols, \textcolor{keywordtype}{int} B\_Options, \textcolor{keywordtype}{int} B\_MaxRows, \textcolor{keywordtype}{int} B\_MaxCols
      >
00469 \textcolor{keyword}{struct }make\_coherent\_impl<A, Matrix<B\_Scalar, B\_Rows, B\_Cols, B\_Options, B\_MaxRows, B\_MaxCols> > \{
00470   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<B\_Scalar, B\_Rows, B\_Cols, B\_Options, B\_MaxRows, B\_MaxCols>}
       B;
00471   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(A& a, B& b) \{
00472     \textcolor{keywordflow}{if}((B\_Rows==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} || B\_Cols==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}) && (b.size()==0))
00473     \{
00474       b.resize(a.size());
00475       b.setZero();
00476     \}
00477   \}
00478 \};
00479 
00480 \textcolor{keyword}{template}<\textcolor{keyword}{typename} A\_Scalar, \textcolor{keywordtype}{int} A\_Rows, \textcolor{keywordtype}{int} A\_Cols, \textcolor{keywordtype}{int} A\_Options, \textcolor{keywordtype}{int} A\_MaxRows, \textcolor{keywordtype}{int} A\_MaxCols,
00481          \textcolor{keyword}{typename} B\_Scalar, \textcolor{keywordtype}{int} B\_Rows, \textcolor{keywordtype}{int} B\_Cols, \textcolor{keywordtype}{int} B\_Options, \textcolor{keywordtype}{int} B\_MaxRows, \textcolor{keywordtype}{int} B\_MaxCols>
00482 \textcolor{keyword}{struct }make\_coherent\_impl<Matrix<A\_Scalar, A\_Rows, A\_Cols, A\_Options, A\_MaxRows, A\_MaxCols>,
00483                              Matrix<B\_Scalar, B\_Rows, B\_Cols, B\_Options, B\_MaxRows, B\_MaxCols> > \{
00484   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<A\_Scalar, A\_Rows, A\_Cols, A\_Options, A\_MaxRows, A\_MaxCols>}
       A;
00485   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<B\_Scalar, B\_Rows, B\_Cols, B\_Options, B\_MaxRows, B\_MaxCols>}
       B;
00486   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(A& a, B& b) \{
00487     \textcolor{keywordflow}{if}((A\_Rows==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} || A\_Cols==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}) && (a.size()==0))
00488     \{
00489       a.\hyperlink{class_eigen_1_1_plain_object_base_a99d9054ee2d5a40c6e00ded0265e9cea}{resize}(b.size());
00490       a.\hyperlink{class_eigen_1_1_plain_object_base_ac21ad5f989f320e46958b75ac8d9a1da}{setZero}();
00491     \}
00492     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((B\_Rows==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} || B\_Cols==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}) && (b.size()==0))
00493     \{
00494       b.resize(a.size());
00495       b.setZero();
00496     \}
00497   \}
00498 \};
00499 
00500 \} \textcolor{comment}{// end namespace internal}
00501 
00502 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerType, \textcolor{keyword}{typename} BinOp>
00503 \textcolor{keyword}{struct }\hyperlink{group___core___module_struct_eigen_1_1_scalar_binary_op_traits}{ScalarBinaryOpTraits}<AutoDiffScalar<DerType>,typename DerType::Scalar,BinOp>
00504 \{
00505   \textcolor{keyword}{typedef} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>} ReturnType;
00506 \};
00507 
00508 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerType, \textcolor{keyword}{typename} BinOp>
00509 \textcolor{keyword}{struct }\hyperlink{group___core___module_struct_eigen_1_1_scalar_binary_op_traits}{ScalarBinaryOpTraits}<typename DerType::Scalar,AutoDiffScalar<DerType>, BinOp>
00510 \{
00511   \textcolor{keyword}{typedef} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>} ReturnType;
00512 \};
00513 
00514 
00515 \textcolor{comment}{// The following is an attempt to let Eigen's known about expression template, but that's more tricky!}
00516 
00517 \textcolor{comment}{// template<typename DerType, typename BinOp>}
00518 \textcolor{comment}{// struct ScalarBinaryOpTraits<AutoDiffScalar<DerType>,AutoDiffScalar<DerType>, BinOp>}
00519 \textcolor{comment}{// \{}
00520 \textcolor{comment}{//   enum \{ Defined = 1 \};}
00521 \textcolor{comment}{//   typedef AutoDiffScalar<typename DerType::PlainObject> ReturnType;}
00522 \textcolor{comment}{// \};}
00523 \textcolor{comment}{//}
00524 \textcolor{comment}{// template<typename DerType1,typename DerType2, typename BinOp>}
00525 \textcolor{comment}{// struct ScalarBinaryOpTraits<AutoDiffScalar<DerType1>,AutoDiffScalar<DerType2>, BinOp>}
00526 \textcolor{comment}{// \{}
00527 \textcolor{comment}{//   enum \{ Defined = 1 \};//internal::is\_same<typename DerType1::Scalar,typename DerType2::Scalar>::value
       \};}
00528 \textcolor{comment}{//   typedef AutoDiffScalar<typename DerType1::PlainObject> ReturnType;}
00529 \textcolor{comment}{// \};}
00530 
00531 \textcolor{preprocessor}{#define EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(FUNC,CODE) \(\backslash\)}
00532 \textcolor{preprocessor}{  template<typename DerType> \(\backslash\)}
00533 \textcolor{preprocessor}{  inline const Eigen::AutoDiffScalar< \(\backslash\)}
00534 \textcolor{preprocessor}{  EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(typename Eigen::internal::remove\_all<DerType>::type, typename
       Eigen::internal::traits<typename Eigen::internal::remove\_all<DerType>::type>::Scalar, product) > \(\backslash\)}
00535 \textcolor{preprocessor}{  FUNC(const Eigen::AutoDiffScalar<DerType>& x) \{ \(\backslash\)}
00536 \textcolor{preprocessor}{    using namespace Eigen; \(\backslash\)}
00537 \textcolor{preprocessor}{    EIGEN\_UNUSED typedef typename Eigen::internal::traits<typename
       Eigen::internal::remove\_all<DerType>::type>::Scalar Scalar; \(\backslash\)}
00538 \textcolor{preprocessor}{    CODE; \(\backslash\)}
00539 \textcolor{preprocessor}{  \}}
00540 
00541 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerType>
00542 \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& conj(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& x)  \{ \textcolor{keywordflow}{return} x; \}
00543 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerType>
00544 \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& real(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& x)  \{ \textcolor{keywordflow}{return} x; \}
00545 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerType>
00546 \textcolor{keyword}{inline} \textcolor{keyword}{typename} DerType::Scalar imag(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}&)    \{ \textcolor{keywordflow}{return} 0.;
       \}
00547 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerType, \textcolor{keyword}{typename} T>
00548 \textcolor{keyword}{inline} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename Eigen::internal::remove\_all<DerType>::type::PlainObject}
      > (min)(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& x, \textcolor{keyword}{const} \hyperlink{group___sparse_core___module}{T}& y) \{
00549   \textcolor{keyword}{typedef} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename Eigen::internal::remove\_all<DerType>::type::PlainObject}
      > ADS;
00550   \textcolor{keywordflow}{return} (x <= y ? ADS(x) : ADS(y));
00551 \}
00552 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerType, \textcolor{keyword}{typename} T>
00553 \textcolor{keyword}{inline} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename Eigen::internal::remove\_all<DerType>::type::PlainObject}
      > (max)(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& x, \textcolor{keyword}{const} \hyperlink{group___sparse_core___module}{T}& y) \{
00554   \textcolor{keyword}{typedef} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename Eigen::internal::remove\_all<DerType>::type::PlainObject}
      > ADS;
00555   \textcolor{keywordflow}{return} (x >= y ? ADS(x) : ADS(y));
00556 \}
00557 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerType, \textcolor{keyword}{typename} T>
00558 \textcolor{keyword}{inline} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename Eigen::internal::remove\_all<DerType>::type::PlainObject}
      > (min)(\textcolor{keyword}{const} \hyperlink{group___sparse_core___module}{T}& x, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& y) \{
00559   \textcolor{keyword}{typedef} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename Eigen::internal::remove\_all<DerType>::type::PlainObject}
      > ADS;
00560   \textcolor{keywordflow}{return} (x < y ? ADS(x) : ADS(y));
00561 \}
00562 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerType, \textcolor{keyword}{typename} T>
00563 \textcolor{keyword}{inline} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename Eigen::internal::remove\_all<DerType>::type::PlainObject}
      > (max)(\textcolor{keyword}{const} \hyperlink{group___sparse_core___module}{T}& x, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& y) \{
00564   \textcolor{keyword}{typedef} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename Eigen::internal::remove\_all<DerType>::type::PlainObject}
      > ADS;
00565   \textcolor{keywordflow}{return} (x > y ? ADS(x) : ADS(y));
00566 \}
00567 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerType>
00568 \textcolor{keyword}{inline} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename Eigen::internal::remove\_all<DerType>::type::PlainObject}
      > (min)(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& x, \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& y) \{
00569   \textcolor{keywordflow}{return} (x.value() < y.value() ? x : y);
00570 \}
00571 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerType>
00572 \textcolor{keyword}{inline} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<typename Eigen::internal::remove\_all<DerType>::type::PlainObject}
      > (max)(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& x, \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>}& y) \{
00573   \textcolor{keywordflow}{return} (x.value() >= y.value() ? x : y);
00574 \}
00575 
00576 
00577 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(abs,
00578   \textcolor{keyword}{using} std::abs;
00579   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(abs(x.value()), x.derivatives() * (x.value()<0 ? -1 : 1) );)
00580 
00581 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(abs2,
00582   \textcolor{keyword}{using} numext::abs2;
00583   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(abs2(x.value()), x.derivatives() * (Scalar(2)*x.value()));)
00584 
00585 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(sqrt,
00586   \textcolor{keyword}{using} std::sqrt;
00587   Scalar sqrtx = sqrt(x.value());
00588   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(sqrtx,x.derivatives() * (Scalar(0.5) / sqrtx));)
00589 
00590 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(cos,
00591   \textcolor{keyword}{using} std::cos;
00592   \textcolor{keyword}{using} std::sin;
00593   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(cos(x.value()), x.derivatives() * (-sin(x.value())));)
00594 
00595 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(sin,
00596   \textcolor{keyword}{using} std::sin;
00597   \textcolor{keyword}{using} std::cos;
00598   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(sin(x.value()),x.derivatives() * cos(x.value()));)
00599 
00600 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(exp,
00601   \textcolor{keyword}{using} std::exp;
00602   Scalar expx = exp(x.value());
00603   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(expx,x.derivatives() * expx);)
00604 
00605 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(\hyperlink{structlog}{log},
00606   \textcolor{keyword}{using} std::log;
00607   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(\hyperlink{structlog}{log}(x.value()),x.derivatives() * (Scalar(1)/x.value()));)
00608 
00609 template<typename DerType>
00610 \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{Eigen::AutoDiffScalar}<
00611 EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(\textcolor{keyword}{typename} 
      \hyperlink{group___sparse_core___module}{internal::remove\_all<DerType>::type},\textcolor{keyword}{typename} 
      \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits}<\textcolor{keyword}{typename} \hyperlink{group___sparse_core___module}{internal::remove\_all<DerType>::type}
      >::Scalar,product) >
00612 pow(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{Eigen::AutoDiffScalar<DerType>} &x, \textcolor{keyword}{const} \textcolor{keyword}{typename} 
      \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits}<\textcolor{keyword}{typename} \hyperlink{group___sparse_core___module}{internal::remove\_all<DerType>::type}
      >::Scalar &y)
00613 \{
00614   \textcolor{keyword}{using namespace }\hyperlink{namespace_eigen}{Eigen};
00615   \textcolor{keyword}{using} std::pow;
00616   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(pow(x.value(),y), x.derivatives() * (y * pow(x.value(),y-1)));
00617 \}
00618 
00619 
00620 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerTypeA,\textcolor{keyword}{typename} DerTypeB>
00621 \textcolor{keyword}{inline} \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<Matrix<typename internal::traits<typename internal::remove\_all<DerTypeA>::type}
      >::Scalar,\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic},1> >
00622 atan2(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerTypeA>}& a, \textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerTypeB>}& b)
00623 \{
00624   \textcolor{keyword}{using} std::atan2;
00625   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} 
      \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<typename internal::remove\_all<DerTypeA>::type}
      >::Scalar Scalar;
00626   \textcolor{keyword}{typedef} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<Matrix<Scalar,Dynamic,1>} > PlainADS;
00627   PlainADS ret;
00628   ret.value() = atan2(a.value(), b.value());
00629   
00630   Scalar squared\_hypot = a.value() * a.value() + b.value() * b.value();
00631   
00632   \textcolor{comment}{// if (squared\_hypot==0) the derivation is undefined and the following results in a NaN:}
00633   ret.derivatives() = (a.derivatives() * b.value() - a.value() * b.derivatives()) / squared\_hypot;
00634 
00635   \textcolor{keywordflow}{return} ret;
00636 \}
00637 
00638 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(tan,
00639   \textcolor{keyword}{using} std::tan;
00640   \textcolor{keyword}{using} std::cos;
00641   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(tan(x.value()),x.derivatives() * (Scalar(1)/numext::abs2(cos(x.value()))
      ));)
00642 
00643 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(asin,
00644   \textcolor{keyword}{using} std::sqrt;
00645   \textcolor{keyword}{using} std::asin;
00646   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(asin(x.value()),x.derivatives() * (Scalar(1)/sqrt(1-numext::abs2(x.value
      ()))));)
00647   
00648 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(acos,
00649   \textcolor{keyword}{using} std::sqrt;
00650   \textcolor{keyword}{using} std::acos;
00651   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(acos(x.value()),x.derivatives() * (Scalar(-1)/sqrt(1-numext::abs2(x.
      value()))));)
00652 
00653 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(tanh,
00654   \textcolor{keyword}{using} std::cosh;
00655   \textcolor{keyword}{using} std::tanh;
00656   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(tanh(x.value()),x.derivatives() * (Scalar(1)/numext::abs2(cosh(x.value()
      ))));)
00657 
00658 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(sinh,
00659   \textcolor{keyword}{using} std::sinh;
00660   \textcolor{keyword}{using} std::cosh;
00661   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(sinh(x.value()),x.derivatives() * cosh(x.value()));)
00662 
00663 EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY(cosh,
00664   \textcolor{keyword}{using} std::sinh;
00665   \textcolor{keyword}{using} std::cosh;
00666   \textcolor{keywordflow}{return} Eigen::MakeAutoDiffScalar(cosh(x.value()),x.derivatives() * sinh(x.value()));)
00667 
00668 #undef EIGEN\_AUTODIFF\_DECLARE\_GLOBAL\_UNARY
00669 
00670 template<typename DerType> \textcolor{keyword}{struct} \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits}<\hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>} >
00671   : \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits}< \textcolor{keyword}{typename} \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits}<\textcolor{keyword}{typename} 
      \hyperlink{struct_eigen_1_1internal_1_1remove__all}{internal::remove\_all<DerType>::type::Scalar}>::Real >
00672 \{
00673   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{group___sparse_core___module}{internal::remove\_all<DerType>::type} DerTypeCleaned;
00674   \textcolor{keyword}{typedef} 
      \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<Matrix<typename NumTraits<typename DerTypeCleaned::Scalar>::Real}
      ,DerTypeCleaned::RowsAtCompileTime,DerTypeCleaned::ColsAtCompileTime,
00675                                 0, DerTypeCleaned::MaxRowsAtCompileTime, 
      DerTypeCleaned::MaxColsAtCompileTime> > Real;
00676   \textcolor{keyword}{typedef} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>} NonInteger;
00677   \textcolor{keyword}{typedef} \hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar<DerType>} Nested;
00678   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<typename DerTypeCleaned::Scalar>::Literal}
       Literal;
00679   \textcolor{keyword}{enum}\{
00680     RequireInitialization = 1
00681   \};
00682 \};
00683 
00684 \}
00685 
00686 \textcolor{keyword}{namespace }\hyperlink{namespacestd}{std} \{
00687 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>
00688 \textcolor{keyword}{class }numeric\_limits<Eigen::\hyperlink{class_eigen_1_1_auto_diff_scalar}{AutoDiffScalar}<T> >
00689   : \textcolor{keyword}{public} numeric\_limits<typename T::Scalar> \{\};
00690 
00691 \}  \textcolor{comment}{// namespace std}
00692 
00693 \textcolor{preprocessor}{#endif // EIGEN\_AUTODIFF\_SCALAR\_H}
\end{DoxyCode}
