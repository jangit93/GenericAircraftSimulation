\hypertarget{matio_2visual__studio_2test_2eigen_2unsupported_2_eigen_2_c_x_x11_2src_2_tensor_2_tensor_contraction_blocking_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/unsupported/\+Eigen/\+C\+X\+X11/src/\+Tensor/\+Tensor\+Contraction\+Blocking.h}
\label{matio_2visual__studio_2test_2eigen_2unsupported_2_eigen_2_c_x_x11_2src_2_tensor_2_tensor_contraction_blocking_8h_source}\index{Tensor\+Contraction\+Blocking.\+h@{Tensor\+Contraction\+Blocking.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2014 Benoit Steiner <benoit.steiner.goog@gmail.com>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_CXX11\_TENSOR\_TENSOR\_CONTRACTION\_BLOCKING\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_CXX11\_TENSOR\_TENSOR\_CONTRACTION\_BLOCKING\_H}
00012 
00013 
00014 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{
00015 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00016 
00017 \textcolor{keyword}{enum} \{
00018   ShardByRow = 0,
00019   ShardByCol = 1
00020 \};
00021 
00022 
00023 \textcolor{comment}{// Default Blocking Strategy}
00024 \textcolor{keyword}{template} <\textcolor{keyword}{typename} LhsMapper, \textcolor{keyword}{typename} RhsMapper, \textcolor{keyword}{typename} Index, \textcolor{keywordtype}{int} ShardingType=ShardByCol>
00025 \textcolor{keyword}{class }TensorContractionBlocking \{
00026  \textcolor{keyword}{public}:
00027 
00028   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} LhsMapper::Scalar LhsScalar;
00029   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} RhsMapper::Scalar RhsScalar;
00030 
00031   EIGEN\_DEVICE\_FUNC TensorContractionBlocking(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} k, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} m, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} n, 
      \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} num\_threads = 1) :
00032       kc\_(k), mc\_(m), nc\_(n)
00033   \{
00034     \textcolor{keywordflow}{if} (ShardingType == ShardByCol) \{
00035       computeProductBlockingSizes<LhsScalar, RhsScalar, 1>(kc\_, mc\_, nc\_, num\_threads);
00036     \}
00037     \textcolor{keywordflow}{else} \{
00038       computeProductBlockingSizes<LhsScalar, RhsScalar, 1>(kc\_, nc\_, mc\_, num\_threads);
00039     \}
00040   \}
00041 
00042   EIGEN\_DEVICE\_FUNC EIGEN\_ALWAYS\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} kc()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} kc\_; \}
00043   EIGEN\_DEVICE\_FUNC EIGEN\_ALWAYS\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} mc()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} mc\_; \}
00044   EIGEN\_DEVICE\_FUNC EIGEN\_ALWAYS\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} nc()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} nc\_; \}
00045 
00046  \textcolor{keyword}{private}:
00047   \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} kc\_;
00048   \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} mc\_;
00049   \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} nc\_;
00050 \};
00051 
00052 
00053 \} \textcolor{comment}{// end namespace internal}
00054 \} \textcolor{comment}{// end namespace Eigen}
00055 
00056 \textcolor{preprocessor}{#endif // EIGEN\_CXX11\_TENSOR\_TENSOR\_CONTRACTION\_BLOCKING\_H}
\end{DoxyCode}
