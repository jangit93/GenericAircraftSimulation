\hypertarget{eigen_2test_2smallvectors_8cpp_source}{}\section{eigen/test/smallvectors.cpp}
\label{eigen_2test_2smallvectors_8cpp_source}\index{smallvectors.\+cpp@{smallvectors.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2006-2008 Benoit Jacob <jacob.benoit.1@gmail.com>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#define EIGEN\_NO\_STATIC\_ASSERT}
00011 \textcolor{preprocessor}{#include "main.h"}
00012 
00013 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar> \textcolor{keywordtype}{void} smallVectors()
00014 \{
00015   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar, 1, 2>} V2;
00016   \textcolor{keyword}{typedef} \hyperlink{group___core___module}{Matrix<Scalar, 3, 1>} V3;
00017   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar, 1, 4>} V4;
00018   \textcolor{keyword}{typedef} \hyperlink{group___core___module}{Matrix<Scalar, Dynamic, 1>} VX;
00019   Scalar x1 = internal::random<Scalar>(),
00020          x2 = internal::random<Scalar>(),
00021          x3 = internal::random<Scalar>(),
00022          x4 = internal::random<Scalar>();
00023   V2 v2(x1, x2);
00024   V3 v3(x1, x2, x3);
00025   V4 v4(x1, x2, x3, x4);
00026   VERIFY\_IS\_APPROX(x1, v2.x());
00027   VERIFY\_IS\_APPROX(x1, v3.x());
00028   VERIFY\_IS\_APPROX(x1, v4.x());
00029   VERIFY\_IS\_APPROX(x2, v2.y());
00030   VERIFY\_IS\_APPROX(x2, v3.y());
00031   VERIFY\_IS\_APPROX(x2, v4.y());
00032   VERIFY\_IS\_APPROX(x3, v3.z());
00033   VERIFY\_IS\_APPROX(x3, v4.z());
00034   VERIFY\_IS\_APPROX(x4, v4.w());
00035 
00036   \textcolor{keywordflow}{if} (!\hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<Scalar>::IsInteger})
00037   \{
00038     VERIFY\_RAISES\_ASSERT(V3(2, 1))
00039     VERIFY\_RAISES\_ASSERT(V3(3, 2))
00040     VERIFY\_RAISES\_ASSERT(V3(Scalar(3), 1))
00041     VERIFY\_RAISES\_ASSERT(V3(3, Scalar(1)))
00042     VERIFY\_RAISES\_ASSERT(V3(Scalar(3), Scalar(1)))
00043     VERIFY\_RAISES\_ASSERT(V3(Scalar(123), Scalar(123)))
00044 
00045     VERIFY\_RAISES\_ASSERT(V4(1, 3))
00046     VERIFY\_RAISES\_ASSERT(V4(2, 4))
00047     VERIFY\_RAISES\_ASSERT(V4(1, Scalar(4)))
00048     VERIFY\_RAISES\_ASSERT(V4(Scalar(1), 4))
00049     VERIFY\_RAISES\_ASSERT(V4(Scalar(1), Scalar(4)))
00050     VERIFY\_RAISES\_ASSERT(V4(Scalar(123), Scalar(123)))
00051 
00052     VERIFY\_RAISES\_ASSERT(VX(3, 2))
00053     VERIFY\_RAISES\_ASSERT(VX(Scalar(3), 1))
00054     VERIFY\_RAISES\_ASSERT(VX(3, Scalar(1)))
00055     VERIFY\_RAISES\_ASSERT(VX(Scalar(3), Scalar(1)))
00056     VERIFY\_RAISES\_ASSERT(VX(Scalar(123), Scalar(123)))
00057   \}
00058 \}
00059 
00060 \textcolor{keywordtype}{void} test\_smallvectors()
00061 \{
00062   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < g\_repeat; i++) \{
00063     CALL\_SUBTEST(smallVectors<int>() );
00064     CALL\_SUBTEST(smallVectors<float>() );
00065     CALL\_SUBTEST(smallVectors<double>() );
00066   \}
00067 \}
\end{DoxyCode}
