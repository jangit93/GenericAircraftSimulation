\hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/\+Eigen/src/\+Householder/\+Householder\+Sequence.h}
\label{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source}\index{Householder\+Sequence.\+h@{Householder\+Sequence.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2009 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{// Copyright (C) 2010 Benoit Jacob <jacob.benoit.1@gmail.com>}
00006 \textcolor{comment}{//}
00007 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00008 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00009 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00010 
00011 \textcolor{preprocessor}{#ifndef EIGEN\_HOUSEHOLDER\_SEQUENCE\_H}
00012 \textcolor{preprocessor}{#define EIGEN\_HOUSEHOLDER\_SEQUENCE\_H}
00013 
00014 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{ 
00015 
00057 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00058 
00059 \textcolor{keyword}{template}<\textcolor{keyword}{typename} VectorsType, \textcolor{keyword}{typename} CoeffsType, \textcolor{keywordtype}{int} S\textcolor{keywordtype}{id}e>
00060 \textcolor{keyword}{struct }traits<HouseholderSequence<VectorsType,CoeffsType,Side> >
00061 \{
00062   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} VectorsType::Scalar Scalar;
00063   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} VectorsType::StorageIndex StorageIndex;
00064   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} VectorsType::StorageKind StorageKind;
00065   \textcolor{keyword}{enum} \{
00066     RowsAtCompileTime = Side==\hyperlink{group__enums_ggac22de43beeac7a78b384f99bed5cee0ba129609b3bdf23b071f5f86cf2f995ec4}{OnTheLeft} ? traits<VectorsType>::RowsAtCompileTime
00067                                         : traits<VectorsType>::ColsAtCompileTime,
00068     ColsAtCompileTime = RowsAtCompileTime,
00069     MaxRowsAtCompileTime = Side==\hyperlink{group__enums_ggac22de43beeac7a78b384f99bed5cee0ba129609b3bdf23b071f5f86cf2f995ec4}{OnTheLeft} ? traits<VectorsType>::MaxRowsAtCompileTime
00070                                            : traits<VectorsType>::MaxColsAtCompileTime,
00071     MaxColsAtCompileTime = MaxRowsAtCompileTime,
00072     Flags = 0
00073   \};
00074 \};
00075 
00076 \textcolor{keyword}{struct }HouseholderSequenceShape \{\};
00077 
00078 \textcolor{keyword}{template}<\textcolor{keyword}{typename} VectorsType, \textcolor{keyword}{typename} CoeffsType, \textcolor{keywordtype}{int} S\textcolor{keywordtype}{id}e>
00079 \textcolor{keyword}{struct }evaluator\_traits<HouseholderSequence<VectorsType,CoeffsType,Side> >
00080   : \textcolor{keyword}{public} evaluator\_traits\_base<HouseholderSequence<VectorsType,CoeffsType,Side> >
00081 \{
00082   \textcolor{keyword}{typedef} HouseholderSequenceShape Shape;
00083 \};
00084 
00085 \textcolor{keyword}{template}<\textcolor{keyword}{typename} VectorsType, \textcolor{keyword}{typename} CoeffsType, \textcolor{keywordtype}{int} S\textcolor{keywordtype}{id}e>
00086 \textcolor{keyword}{struct }hseq\_side\_dependent\_impl
00087 \{
00088   \textcolor{keyword}{typedef} Block<const VectorsType, Dynamic, 1> EssentialVectorType;
00089   \textcolor{keyword}{typedef} HouseholderSequence<VectorsType, CoeffsType, OnTheLeft> HouseholderSequenceType;
00090   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keyword}{const} EssentialVectorType essentialVector(\textcolor{keyword}{const} HouseholderSequenceType& h, 
      \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} k)
00091   \{
00092     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} start = k+1+h.m\_shift;
00093     \textcolor{keywordflow}{return} Block<const VectorsType,Dynamic,1>(h.m\_vectors, start, k, h.rows()-start, 1);
00094   \}
00095 \};
00096 
00097 \textcolor{keyword}{template}<\textcolor{keyword}{typename} VectorsType, \textcolor{keyword}{typename} CoeffsType>
00098 \textcolor{keyword}{struct }hseq\_side\_dependent\_impl<VectorsType, CoeffsType, \hyperlink{group__enums_ggac22de43beeac7a78b384f99bed5cee0ba99dc75d8e00b6c3a5bdc31940f47492b}{OnTheRight}>
00099 \{
00100   \textcolor{keyword}{typedef} Transpose<Block<const VectorsType, 1, Dynamic> > EssentialVectorType;
00101   \textcolor{keyword}{typedef} HouseholderSequence<VectorsType, CoeffsType, OnTheRight> HouseholderSequenceType;
00102   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keyword}{const} EssentialVectorType essentialVector(\textcolor{keyword}{const} HouseholderSequenceType& h, 
      \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} k)
00103   \{
00104     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} start = k+1+h.m\_shift;
00105     \textcolor{keywordflow}{return} Block<const VectorsType,1,Dynamic>(h.m\_vectors, k, start, 1, h.rows()-start).transpose();
00106   \}
00107 \};
00108 
00109 \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherScalarType, \textcolor{keyword}{typename} MatrixType> \textcolor{keyword}{struct }matrix\_type\_times\_scalar\_type
00110 \{
00111   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} ScalarBinaryOpTraits<OtherScalarType, typename MatrixType::Scalar>::ReturnType
00112     ResultScalar;
00113   \textcolor{keyword}{typedef} Matrix<ResultScalar, MatrixType::RowsAtCompileTime, MatrixType::ColsAtCompileTime,
00114                  0, MatrixType::MaxRowsAtCompileTime, MatrixType::MaxColsAtCompileTime> Type;
00115 \};
00116 
00117 \} \textcolor{comment}{// end namespace internal}
00118 
00119 \textcolor{keyword}{template}<\textcolor{keyword}{typename} VectorsType, \textcolor{keyword}{typename} CoeffsType, \textcolor{keywordtype}{int} S\textcolor{keywordtype}{id}e> \textcolor{keyword}{class }HouseholderSequence
00120   : \textcolor{keyword}{public} EigenBase<HouseholderSequence<VectorsType,CoeffsType,Side> >
00121 \{
00122     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::hseq\_side\_dependent\_impl<VectorsType,CoeffsType,Side>::EssentialVectorType 
      EssentialVectorType;
00123   
00124   \textcolor{keyword}{public}:
00125     \textcolor{keyword}{enum} \{
00126       RowsAtCompileTime = internal::traits<HouseholderSequence>::RowsAtCompileTime,
00127       ColsAtCompileTime = internal::traits<HouseholderSequence>::ColsAtCompileTime,
00128       MaxRowsAtCompileTime = internal::traits<HouseholderSequence>::MaxRowsAtCompileTime,
00129       MaxColsAtCompileTime = internal::traits<HouseholderSequence>::MaxColsAtCompileTime
00130     \};
00131     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::traits<HouseholderSequence>::Scalar Scalar;
00132 
00133     \textcolor{keyword}{typedef} HouseholderSequence<
00134       \textcolor{keyword}{typename} internal::conditional<NumTraits<Scalar>::IsComplex,
00135         \textcolor{keyword}{typename} internal::remove\_all<typename VectorsType::ConjugateReturnType>::type,
00136         VectorsType>::type,
00137       \textcolor{keyword}{typename} internal::conditional<NumTraits<Scalar>::IsComplex,
00138         \textcolor{keyword}{typename} internal::remove\_all<typename CoeffsType::ConjugateReturnType>::type,
00139         CoeffsType>::type,
00140       Side
00141     > ConjugateReturnType;
00142 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00160}\hyperlink{group___householder___module_af6aeede87ed8dac452f4fa8b4f45c3f2}{00160}     \hyperlink{group___householder___module_af6aeede87ed8dac452f4fa8b4f45c3f2}{HouseholderSequence}(\textcolor{keyword}{const} VectorsType& v, \textcolor{keyword}{const} CoeffsType& h)
00161       : m\_vectors(v), m\_coeffs(h), m\_trans(false), m\_length(v.diagonalSize()),
00162         m\_shift(0)
00163     \{
00164     \}
00165 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00167}\hyperlink{group___householder___module_aa4b1b93fff4d5c79342974d9d2a9eec8}{00167}     \hyperlink{group___householder___module_aa4b1b93fff4d5c79342974d9d2a9eec8}{HouseholderSequence}(\textcolor{keyword}{const} \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence}& other)
00168       : m\_vectors(other.m\_vectors),
00169         m\_coeffs(other.m\_coeffs),
00170         m\_trans(other.m\_trans),
00171         m\_length(other.m\_length),
00172         m\_shift(other.m\_shift)
00173     \{
00174     \}
00175 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00180}\hyperlink{group___householder___module_a6eaafe2460930d1f4aa67d6e577b71f0}{00180}     \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \hyperlink{group___householder___module_a6eaafe2460930d1f4aa67d6e577b71f0}{rows}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} Side==\hyperlink{group__enums_ggac22de43beeac7a78b384f99bed5cee0ba129609b3bdf23b071f5f86cf2f995ec4}{OnTheLeft} ? m\_vectors.rows() : m\_vectors.cols(); \}
00181 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00186}\hyperlink{group___householder___module_adcdcdd92a77810ce4bdd2b1282fe6a75}{00186}     \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \hyperlink{group___householder___module_adcdcdd92a77810ce4bdd2b1282fe6a75}{cols}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} rows(); \}
00187 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00202}\hyperlink{group___householder___module_ac91cf37b0cbea9e504c89e021fd289ba}{00202}     \textcolor{keyword}{const} EssentialVectorType \hyperlink{group___householder___module_ac91cf37b0cbea9e504c89e021fd289ba}{essentialVector}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} k)\textcolor{keyword}{ const}
00203 \textcolor{keyword}{    }\{
00204       eigen\_assert(k >= 0 && k < m\_length);
00205       \textcolor{keywordflow}{return} 
      \hyperlink{struct_eigen_1_1internal_1_1hseq__side__dependent__impl}{internal::hseq\_side\_dependent\_impl<VectorsType,CoeffsType,Side>::essentialVector}
      (*\textcolor{keyword}{this}, k);
00206     \}
00207 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00209}\hyperlink{group___householder___module_aa60b1f1ed1a699d092c865d1a0da47e9}{00209}     \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence} \hyperlink{group___householder___module_aa60b1f1ed1a699d092c865d1a0da47e9}{transpose}()\textcolor{keyword}{ const}
00210 \textcolor{keyword}{    }\{
00211       \textcolor{keywordflow}{return} \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence}(*this).\hyperlink{group___householder___module_ab8a9c969a9adcd392c9d481d6e9ccaef}{setTrans}(!m\_trans);
00212     \}
00213 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00215}\hyperlink{group___householder___module_ac71fa85a4f177b0aeb1026752aea5590}{00215}     ConjugateReturnType \hyperlink{group___householder___module_ac71fa85a4f177b0aeb1026752aea5590}{conjugate}()\textcolor{keyword}{ const}
00216 \textcolor{keyword}{    }\{
00217       \textcolor{keywordflow}{return} ConjugateReturnType(m\_vectors.conjugate(), m\_coeffs.conjugate())
00218              .setTrans(m\_trans)
00219              .\hyperlink{group___householder___module_a30cc06d5b2ca4b7dcf5fcd53313d25fc}{setLength}(m\_length)
00220              .\hyperlink{group___householder___module_a2d8d996ce1085fd977850988735739f0}{setShift}(m\_shift);
00221     \}
00222 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00224}\hyperlink{group___householder___module_a40ca81cf392d8de4c747dbbdd6bd6545}{00224}     ConjugateReturnType \hyperlink{group___householder___module_a40ca81cf392d8de4c747dbbdd6bd6545}{adjoint}()\textcolor{keyword}{ const}
00225 \textcolor{keyword}{    }\{
00226       \textcolor{keywordflow}{return} conjugate().setTrans(!m\_trans);
00227     \}
00228 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00230}\hyperlink{group___householder___module_af030b5ac2151241aeb920f74e8f73b4a}{00230}     ConjugateReturnType \hyperlink{group___householder___module_af030b5ac2151241aeb920f74e8f73b4a}{inverse}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} adjoint(); \}
00231 
00233     \textcolor{keyword}{template}<\textcolor{keyword}{typename} DestType> \textcolor{keyword}{inline} \textcolor{keywordtype}{void} evalTo(DestType& dst)\textcolor{keyword}{ const}
00234 \textcolor{keyword}{    }\{
00235       \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix}<Scalar, DestType::RowsAtCompileTime, 1,
00236              \hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a28d63c0dd8560827162decfd898804f4}{AutoAlign}|\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0cbd4bdd0abcfc0224c5fcb5e4f6669a}{ColMajor}, DestType::MaxRowsAtCompileTime, 1> workspace(rows());
00237       evalTo(dst, workspace);
00238     \}
00239 
00241     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Dest, \textcolor{keyword}{typename} Workspace>
00242     \textcolor{keywordtype}{void} evalTo(Dest& dst, Workspace& workspace)\textcolor{keyword}{ const}
00243 \textcolor{keyword}{    }\{
00244       workspace.resize(rows());
00245       \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} vecs = m\_length;
00246       \textcolor{keywordflow}{if}(internal::is\_same\_dense(dst,m\_vectors))
00247       \{
00248         \textcolor{comment}{// in-place}
00249         dst.diagonal().setOnes();
00250         dst.template triangularView<StrictlyUpper>().setZero();
00251         \textcolor{keywordflow}{for}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} k = vecs-1; k >= 0; --k)
00252         \{
00253           \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} cornerSize = rows() - k - m\_shift;
00254           \textcolor{keywordflow}{if}(m\_trans)
00255             dst.bottomRightCorner(cornerSize, cornerSize)
00256                .applyHouseholderOnTheRight(essentialVector(k), m\_coeffs.coeff(k), workspace.data());
00257           \textcolor{keywordflow}{else}
00258             dst.bottomRightCorner(cornerSize, cornerSize)
00259                .applyHouseholderOnTheLeft(essentialVector(k), m\_coeffs.coeff(k), workspace.data());
00260 
00261           \textcolor{comment}{// clear the off diagonal vector}
00262           dst.col(k).tail(rows()-k-1).setZero();
00263         \}
00264         \textcolor{comment}{// clear the remaining columns if needed}
00265         \textcolor{keywordflow}{for}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} k = 0; k<cols()-vecs ; ++k)
00266           dst.col(k).tail(rows()-k-1).setZero();
00267       \}
00268       \textcolor{keywordflow}{else}
00269       \{
00270         dst.setIdentity(rows(), rows());
00271         \textcolor{keywordflow}{for}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} k = vecs-1; k >= 0; --k)
00272         \{
00273           \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} cornerSize = rows() - k - m\_shift;
00274           \textcolor{keywordflow}{if}(m\_trans)
00275             dst.bottomRightCorner(cornerSize, cornerSize)
00276                .applyHouseholderOnTheRight(essentialVector(k), m\_coeffs.coeff(k), &workspace.coeffRef(0));
00277           \textcolor{keywordflow}{else}
00278             dst.bottomRightCorner(cornerSize, cornerSize)
00279                .applyHouseholderOnTheLeft(essentialVector(k), m\_coeffs.coeff(k), &workspace.coeffRef(0));
00280         \}
00281       \}
00282     \}
00283 
00285     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Dest> \textcolor{keyword}{inline} \textcolor{keywordtype}{void} applyThisOnTheRight(Dest& dst)\textcolor{keyword}{ const}
00286 \textcolor{keyword}{    }\{
00287       
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar,1,Dest::RowsAtCompileTime,RowMajor,1,Dest::MaxRowsAtCompileTime>}
       workspace(dst.rows());
00288       applyThisOnTheRight(dst, workspace);
00289     \}
00290 
00292     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Dest, \textcolor{keyword}{typename} Workspace>
00293     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} applyThisOnTheRight(Dest& dst, Workspace& workspace)\textcolor{keyword}{ const}
00294 \textcolor{keyword}{    }\{
00295       workspace.resize(dst.rows());
00296       \textcolor{keywordflow}{for}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} k = 0; k < m\_length; ++k)
00297       \{
00298         \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} actual\_k = m\_trans ? m\_length-k-1 : k;
00299         dst.rightCols(rows()-m\_shift-actual\_k)
00300            .applyHouseholderOnTheRight(essentialVector(actual\_k), m\_coeffs.coeff(actual\_k), workspace.data(
      ));
00301       \}
00302     \}
00303 
00305     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Dest> \textcolor{keyword}{inline} \textcolor{keywordtype}{void} applyThisOnTheLeft(Dest& dst)\textcolor{keyword}{ const}
00306 \textcolor{keyword}{    }\{
00307       
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar,1,Dest::ColsAtCompileTime,RowMajor,1,Dest::MaxColsAtCompileTime>}
       workspace;
00308       applyThisOnTheLeft(dst, workspace);
00309     \}
00310 
00312     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Dest, \textcolor{keyword}{typename} Workspace>
00313     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} applyThisOnTheLeft(Dest& dst, Workspace& workspace)\textcolor{keyword}{ const}
00314 \textcolor{keyword}{    }\{
00315       \textcolor{keyword}{const} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} BlockSize = 48;
00316       \textcolor{comment}{// if the entries are large enough, then apply the reflectors by block}
00317       \textcolor{keywordflow}{if}(m\_length>=BlockSize && dst.cols()>1)
00318       \{
00319         \textcolor{keywordflow}{for}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} i = 0; i < m\_length; i+=BlockSize)
00320         \{
00321           \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} end = m\_trans ? (std::min)(m\_length,i+BlockSize) : m\_length-i;
00322           \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} k = m\_trans ? i : (std::max)(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}(0),end-BlockSize);
00323           \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} bs = end-k;
00324           \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} start = k + m\_shift;
00325           
00326           \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_block}{Block<typename internal::remove\_all<VectorsType>::type}
      ,\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic},Dynamic> SubVectorsType;
00327           SubVectorsType sub\_vecs1(m\_vectors.const\_cast\_derived(), Side==
      \hyperlink{group__enums_ggac22de43beeac7a78b384f99bed5cee0ba99dc75d8e00b6c3a5bdc31940f47492b}{OnTheRight} ? k : start,
00328                                                                    Side==
      \hyperlink{group__enums_ggac22de43beeac7a78b384f99bed5cee0ba99dc75d8e00b6c3a5bdc31940f47492b}{OnTheRight} ? start : k,
00329                                                                    Side==
      \hyperlink{group__enums_ggac22de43beeac7a78b384f99bed5cee0ba99dc75d8e00b6c3a5bdc31940f47492b}{OnTheRight} ? bs : m\_vectors.rows()-start,
00330                                                                    Side==
      \hyperlink{group__enums_ggac22de43beeac7a78b384f99bed5cee0ba99dc75d8e00b6c3a5bdc31940f47492b}{OnTheRight} ? m\_vectors.cols()-start : bs);
00331           \textcolor{keyword}{typename} 
      \hyperlink{struct_eigen_1_1internal_1_1conditional}{internal::conditional<Side==OnTheRight, Transpose<SubVectorsType>}
      , SubVectorsType&>::type sub\_vecs(sub\_vecs1);
00332           \hyperlink{group___core___module_class_eigen_1_1_block}{Block<Dest,Dynamic,Dynamic>} sub\_dst(dst,dst.rows()-rows()+m\_shift+k,0,
       rows()-m\_shift-k,dst.cols());
00333           apply\_block\_householder\_on\_the\_left(sub\_dst, sub\_vecs, m\_coeffs.segment(k, bs), !m\_trans);
00334         \}
00335       \}
00336       \textcolor{keywordflow}{else}
00337       \{
00338         workspace.resize(dst.cols());
00339         \textcolor{keywordflow}{for}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} k = 0; k < m\_length; ++k)
00340         \{
00341           \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} actual\_k = m\_trans ? k : m\_length-k-1;
00342           dst.bottomRows(rows()-m\_shift-actual\_k)
00343             .applyHouseholderOnTheLeft(essentialVector(actual\_k), m\_coeffs.coeff(actual\_k), workspace.data(
      ));
00344         \}
00345       \}
00346     \}
00347 
00355     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00356}\hyperlink{group___householder___module_ac57e5a22f1646e04a4f8b4cba3825928}{00356}     \textcolor{keyword}{typename} \hyperlink{group___core___module_class_eigen_1_1_matrix}{internal::matrix\_type\_times\_scalar\_type<Scalar, OtherDerived>::Type}
       \hyperlink{group___householder___module_ac57e5a22f1646e04a4f8b4cba3825928}{operator*}(\textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<OtherDerived>}& other)\textcolor{keyword}{ const}
00357 \textcolor{keyword}{    }\{
00358       \textcolor{keyword}{typename} 
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{internal::matrix\_type\_times\_scalar\_type<Scalar, OtherDerived>::Type}
00359         res(other.template cast<\textcolor{keyword}{typename} 
      internal::matrix\_type\_times\_scalar\_type<Scalar,OtherDerived>::ResultScalar>());
00360       applyThisOnTheLeft(res);
00361       \textcolor{keywordflow}{return} res;
00362     \}
00363 
00364     \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_VectorsType, \textcolor{keyword}{typename} \_CoeffsType, \textcolor{keywordtype}{int} \_S\textcolor{keywordtype}{id}e> \textcolor{keyword}{friend} \textcolor{keyword}{struct }
      \hyperlink{struct_eigen_1_1internal_1_1hseq__side__dependent__impl}{internal::hseq\_side\_dependent\_impl};
00365 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00375}\hyperlink{group___householder___module_a30cc06d5b2ca4b7dcf5fcd53313d25fc}{00375}     \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence}& \hyperlink{group___householder___module_a30cc06d5b2ca4b7dcf5fcd53313d25fc}{setLength}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} length)
00376     \{
00377       m\_length = length;
00378       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00379     \}
00380 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00392}\hyperlink{group___householder___module_a2d8d996ce1085fd977850988735739f0}{00392}     \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence}& \hyperlink{group___householder___module_a2d8d996ce1085fd977850988735739f0}{setShift}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} shift)
00393     \{
00394       m\_shift = shift;
00395       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00396     \}
00397 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00398}\hyperlink{group___householder___module_ac62fad812f3893f237378fe70e55bf66}{00398}     \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \hyperlink{group___householder___module_ac62fad812f3893f237378fe70e55bf66}{length}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_length; \}  
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00399}\hyperlink{group___householder___module_a34482bfad5563fd8a8a4264db76ac917}{00399}     \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} \hyperlink{group___householder___module_a34482bfad5563fd8a8a4264db76ac917}{shift}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_shift; \}    
00401     \textcolor{comment}{/* Necessary for .adjoint() and .conjugate() */}
00402     \textcolor{keyword}{template} <\textcolor{keyword}{typename} VectorsType2, \textcolor{keyword}{typename} CoeffsType2, \textcolor{keywordtype}{int} S\textcolor{keywordtype}{id}e2> \textcolor{keyword}{friend} \textcolor{keyword}{class }
      \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence};
00403 
00404   \textcolor{keyword}{protected}:
00405 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00414}\hyperlink{group___householder___module_ab8a9c969a9adcd392c9d481d6e9ccaef}{00414}     \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence}& \hyperlink{group___householder___module_ab8a9c969a9adcd392c9d481d6e9ccaef}{setTrans}(\textcolor{keywordtype}{bool} trans)
00415     \{
00416       m\_trans = trans;
00417       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00418     \}
00419 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_householder_2_householder_sequence_8h_source_l00420}\hyperlink{group___householder___module_ad61c9b10d95c26b7397ccb47f4d80b08}{00420}     \textcolor{keywordtype}{bool} \hyperlink{group___householder___module_ad61c9b10d95c26b7397ccb47f4d80b08}{trans}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_trans; \}     
00422     \textcolor{keyword}{typename} VectorsType::Nested m\_vectors;
00423     \textcolor{keyword}{typename} CoeffsType::Nested m\_coeffs;
00424     \textcolor{keywordtype}{bool} m\_trans;
00425     \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} m\_length;
00426     \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} m\_shift;
00427 \};
00428 
00437 \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived, \textcolor{keyword}{typename} VectorsType, \textcolor{keyword}{typename} CoeffsType, \textcolor{keywordtype}{int} S\textcolor{keywordtype}{id}e>
00438 \textcolor{keyword}{typename} 
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{internal::matrix\_type\_times\_scalar\_type<typename VectorsType::Scalar,OtherDerived>::Type}
       operator*(\textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<OtherDerived>}& other, \textcolor{keyword}{const} 
      \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence<VectorsType,CoeffsType,Side>}& h)
00439 \{
00440   \textcolor{keyword}{typename} 
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{internal::matrix\_type\_times\_scalar\_type<typename VectorsType::Scalar,OtherDerived>::Type}
00441     res(other.template cast<\textcolor{keyword}{typename} internal::matrix\_type\_times\_scalar\_type<typename
       VectorsType::Scalar,OtherDerived>::ResultScalar>());
00442   h.applyThisOnTheRight(res);
00443   \textcolor{keywordflow}{return} res;
00444 \}
00445 
00450 \textcolor{keyword}{template}<\textcolor{keyword}{typename} VectorsType, \textcolor{keyword}{typename} CoeffsType>
00451 \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence<VectorsType,CoeffsType>} 
      \hyperlink{group___householder___module_ga4bd4b85120e014cf1125a054b02d4d92}{householderSequence}(\textcolor{keyword}{const} VectorsType& v, \textcolor{keyword}{const} CoeffsType& h)
00452 \{
00453   \textcolor{keywordflow}{return} \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence<VectorsType,CoeffsType,OnTheLeft>}
      (v, h);
00454 \}
00455 
00462 \textcolor{keyword}{template}<\textcolor{keyword}{typename} VectorsType, \textcolor{keyword}{typename} CoeffsType>
00463 \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence<VectorsType,CoeffsType,OnTheRight>}
       \hyperlink{group___householder___module_ga59f16274f9e66f902f1a4b3f23e8b002}{rightHouseholderSequence}(\textcolor{keyword}{const} VectorsType& v, \textcolor{keyword}{const} CoeffsType& h)
00464 \{
00465   \textcolor{keywordflow}{return} \hyperlink{group___householder___module_class_eigen_1_1_householder_sequence}{HouseholderSequence<VectorsType,CoeffsType,OnTheRight>}
      (v, h);
00466 \}
00467 
00468 \} \textcolor{comment}{// end namespace Eigen}
00469 
00470 \textcolor{preprocessor}{#endif // EIGEN\_HOUSEHOLDER\_SEQUENCE\_H}
\end{DoxyCode}
