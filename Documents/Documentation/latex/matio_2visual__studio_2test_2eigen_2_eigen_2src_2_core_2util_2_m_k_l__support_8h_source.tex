\hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2util_2_m_k_l__support_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/\+Eigen/src/\+Core/util/\+M\+K\+L\+\_\+support.h}
\label{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2util_2_m_k_l__support_8h_source}\index{M\+K\+L\+\_\+support.\+h@{M\+K\+L\+\_\+support.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/*}
00002 \textcolor{comment}{ Copyright (c) 2011, Intel Corporation. All rights reserved.}
00003 \textcolor{comment}{}
00004 \textcolor{comment}{ Redistribution and use in source and binary forms, with or without modification,}
00005 \textcolor{comment}{ are permitted provided that the following conditions are met:}
00006 \textcolor{comment}{}
00007 \textcolor{comment}{ * Redistributions of source code must retain the above copyright notice, this}
00008 \textcolor{comment}{   list of conditions and the following disclaimer.}
00009 \textcolor{comment}{ * Redistributions in binary form must reproduce the above copyright notice,}
00010 \textcolor{comment}{   this list of conditions and the following disclaimer in the documentation}
00011 \textcolor{comment}{   and/or other materials provided with the distribution.}
00012 \textcolor{comment}{ * Neither the name of Intel Corporation nor the names of its contributors may}
00013 \textcolor{comment}{   be used to endorse or promote products derived from this software without}
00014 \textcolor{comment}{   specific prior written permission.}
00015 \textcolor{comment}{}
00016 \textcolor{comment}{ THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND}
00017 \textcolor{comment}{ ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED}
00018 \textcolor{comment}{ WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE}
00019 \textcolor{comment}{ DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR}
00020 \textcolor{comment}{ ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES}
00021 \textcolor{comment}{ (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;}
00022 \textcolor{comment}{ LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON}
00023 \textcolor{comment}{ ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT}
00024 \textcolor{comment}{ (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS}
00025 \textcolor{comment}{ SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.}
00026 \textcolor{comment}{}
00027 \textcolor{comment}{ ********************************************************************************}
00028 \textcolor{comment}{ *   Content : Eigen bindings to Intel(R) MKL}
00029 \textcolor{comment}{ *   Include file with common MKL declarations}
00030 \textcolor{comment}{ ********************************************************************************}
00031 \textcolor{comment}{*/}
00032 
00033 \textcolor{preprocessor}{#ifndef EIGEN\_MKL\_SUPPORT\_H}
00034 \textcolor{preprocessor}{#define EIGEN\_MKL\_SUPPORT\_H}
00035 
00036 \textcolor{preprocessor}{#ifdef EIGEN\_USE\_MKL\_ALL}
00037 \textcolor{preprocessor}{  #ifndef EIGEN\_USE\_BLAS}
00038 \textcolor{preprocessor}{    #define EIGEN\_USE\_BLAS}
00039 \textcolor{preprocessor}{  #endif}
00040 \textcolor{preprocessor}{  #ifndef EIGEN\_USE\_LAPACKE}
00041 \textcolor{preprocessor}{    #define EIGEN\_USE\_LAPACKE}
00042 \textcolor{preprocessor}{  #endif}
00043 \textcolor{preprocessor}{  #ifndef EIGEN\_USE\_MKL\_VML}
00044 \textcolor{preprocessor}{    #define EIGEN\_USE\_MKL\_VML}
00045 \textcolor{preprocessor}{  #endif}
00046 \textcolor{preprocessor}{#endif}
00047 
00048 \textcolor{preprocessor}{#ifdef EIGEN\_USE\_LAPACKE\_STRICT}
00049 \textcolor{preprocessor}{  #define EIGEN\_USE\_LAPACKE}
00050 \textcolor{preprocessor}{#endif}
00051 
00052 \textcolor{preprocessor}{#if defined(EIGEN\_USE\_MKL\_VML)}
00053 \textcolor{preprocessor}{  #define EIGEN\_USE\_MKL}
00054 \textcolor{preprocessor}{#endif}
00055 
00056 \textcolor{preprocessor}{#if defined EIGEN\_USE\_MKL}
00057 \textcolor{preprocessor}{#   include <mkl.h>} 
00058 \textcolor{comment}{/*Check IMKL version for compatibility: < 10.3 is not usable with Eigen*/}
00059 \textcolor{preprocessor}{#   ifndef INTEL\_MKL\_VERSION}
00060 \textcolor{preprocessor}{#       undef EIGEN\_USE\_MKL }\textcolor{comment}{/* INTEL\_MKL\_VERSION is not even defined on older versions */}\textcolor{preprocessor}{}
00061 \textcolor{preprocessor}{#   elif INTEL\_MKL\_VERSION < 100305    }\textcolor{comment}{/* the intel-mkl-103-release-notes say this was when the lapacke.h
       interface was added*/}\textcolor{preprocessor}{}
00062 \textcolor{preprocessor}{#       undef EIGEN\_USE\_MKL}
00063 \textcolor{preprocessor}{#   endif}
00064 \textcolor{preprocessor}{#   ifndef EIGEN\_USE\_MKL}
00065     \textcolor{comment}{/*If the MKL version is too old, undef everything*/}
00066 \textcolor{preprocessor}{#       undef   EIGEN\_USE\_MKL\_ALL}
00067 \textcolor{preprocessor}{#       undef   EIGEN\_USE\_LAPACKE}
00068 \textcolor{preprocessor}{#       undef   EIGEN\_USE\_MKL\_VML}
00069 \textcolor{preprocessor}{#       undef   EIGEN\_USE\_LAPACKE\_STRICT}
00070 \textcolor{preprocessor}{#       undef   EIGEN\_USE\_LAPACKE}
00071 \textcolor{preprocessor}{#   endif}
00072 \textcolor{preprocessor}{#endif}
00073 
00074 \textcolor{preprocessor}{#if defined EIGEN\_USE\_MKL}
00075 
00076 \textcolor{preprocessor}{#define EIGEN\_MKL\_VML\_THRESHOLD 128}
00077 
00078 \textcolor{comment}{/* MKL\_DOMAIN\_BLAS, etc are defined only in 10.3 update 7 */}
00079 \textcolor{comment}{/* MKL\_BLAS, etc are not defined in 11.2 */}
00080 \textcolor{preprocessor}{#ifdef MKL\_DOMAIN\_ALL}
00081 \textcolor{preprocessor}{#define EIGEN\_MKL\_DOMAIN\_ALL MKL\_DOMAIN\_ALL}
00082 \textcolor{preprocessor}{#else}
00083 \textcolor{preprocessor}{#define EIGEN\_MKL\_DOMAIN\_ALL MKL\_ALL}
00084 \textcolor{preprocessor}{#endif}
00085 
00086 \textcolor{preprocessor}{#ifdef MKL\_DOMAIN\_BLAS}
00087 \textcolor{preprocessor}{#define EIGEN\_MKL\_DOMAIN\_BLAS MKL\_DOMAIN\_BLAS}
00088 \textcolor{preprocessor}{#else}
00089 \textcolor{preprocessor}{#define EIGEN\_MKL\_DOMAIN\_BLAS MKL\_BLAS}
00090 \textcolor{preprocessor}{#endif}
00091 
00092 \textcolor{preprocessor}{#ifdef MKL\_DOMAIN\_FFT}
00093 \textcolor{preprocessor}{#define EIGEN\_MKL\_DOMAIN\_FFT MKL\_DOMAIN\_FFT}
00094 \textcolor{preprocessor}{#else}
00095 \textcolor{preprocessor}{#define EIGEN\_MKL\_DOMAIN\_FFT MKL\_FFT}
00096 \textcolor{preprocessor}{#endif}
00097 
00098 \textcolor{preprocessor}{#ifdef MKL\_DOMAIN\_VML}
00099 \textcolor{preprocessor}{#define EIGEN\_MKL\_DOMAIN\_VML MKL\_DOMAIN\_VML}
00100 \textcolor{preprocessor}{#else}
00101 \textcolor{preprocessor}{#define EIGEN\_MKL\_DOMAIN\_VML MKL\_VML}
00102 \textcolor{preprocessor}{#endif}
00103 
00104 \textcolor{preprocessor}{#ifdef MKL\_DOMAIN\_PARDISO}
00105 \textcolor{preprocessor}{#define EIGEN\_MKL\_DOMAIN\_PARDISO MKL\_DOMAIN\_PARDISO}
00106 \textcolor{preprocessor}{#else}
00107 \textcolor{preprocessor}{#define EIGEN\_MKL\_DOMAIN\_PARDISO MKL\_PARDISO}
00108 \textcolor{preprocessor}{#endif}
00109 \textcolor{preprocessor}{#endif}
00110 
00111 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{
00112 
00113 \textcolor{keyword}{typedef} std::complex<double> dcomplex;
00114 \textcolor{keyword}{typedef} std::complex<float>  scomplex;
00115 
00116 \textcolor{preprocessor}{#if defined(EIGEN\_USE\_MKL)}
00117 \textcolor{keyword}{typedef} MKL\_INT BlasIndex;
00118 \textcolor{preprocessor}{#else}
00119 \textcolor{keyword}{typedef} \textcolor{keywordtype}{int} BlasIndex;
00120 \textcolor{preprocessor}{#endif}
00121 
00122 \} \textcolor{comment}{// end namespace Eigen}
00123 
00124 \textcolor{preprocessor}{#if defined(EIGEN\_USE\_BLAS)}
00125 \textcolor{preprocessor}{#include "../../misc/blas.h"}
00126 \textcolor{preprocessor}{#endif}
00127 
00128 \textcolor{preprocessor}{#endif // EIGEN\_MKL\_SUPPORT\_H}
\end{DoxyCode}
