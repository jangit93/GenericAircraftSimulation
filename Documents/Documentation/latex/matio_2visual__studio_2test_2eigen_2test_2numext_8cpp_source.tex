\hypertarget{matio_2visual__studio_2test_2eigen_2test_2numext_8cpp_source}{}\section{matio/visual\+\_\+studio/test/eigen/test/numext.cpp}
\label{matio_2visual__studio_2test_2eigen_2test_2numext_8cpp_source}\index{numext.\+cpp@{numext.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2017 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#include "main.h"}
00011 
00012 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>
00013 \textcolor{keywordtype}{void} check\_abs() \{
00014   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<T>::Real} Real;
00015 
00016   \textcolor{keywordflow}{if}(\hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<T>::IsSigned})
00017     VERIFY\_IS\_EQUAL(numext::abs(-\hyperlink{group___sparse_core___module}{T}(1)), \hyperlink{group___sparse_core___module}{T}(1));
00018   VERIFY\_IS\_EQUAL(numext::abs(\hyperlink{group___sparse_core___module}{T}(0)), \hyperlink{group___sparse_core___module}{T}(0));
00019   VERIFY\_IS\_EQUAL(numext::abs(\hyperlink{group___sparse_core___module}{T}(1)), \hyperlink{group___sparse_core___module}{T}(1));
00020 
00021   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} k=0; k<g\_repeat*100; ++k)
00022   \{
00023     \hyperlink{group___sparse_core___module}{T} x = internal::random<T>();
00024     \textcolor{keywordflow}{if}(!internal::is\_same<T,bool>::value)
00025       x = x/Real(2);
00026     \textcolor{keywordflow}{if}(\hyperlink{group___core___module_struct_eigen_1_1_num_traits}{NumTraits<T>::IsSigned})
00027     \{
00028       VERIFY\_IS\_EQUAL(numext::abs(x), numext::abs(-x));
00029       VERIFY( numext::abs(-x) >= Real(0));
00030     \}
00031     VERIFY( numext::abs(x) >= Real(0));
00032     VERIFY\_IS\_APPROX( numext::abs2(x), numext::abs2(numext::abs(x)) );
00033   \}
00034 \}
00035 
00036 \textcolor{keywordtype}{void} test\_numext() \{
00037   CALL\_SUBTEST( check\_abs<bool>() );
00038   CALL\_SUBTEST( check\_abs<signed char>() );
00039   CALL\_SUBTEST( check\_abs<unsigned char>() );
00040   CALL\_SUBTEST( check\_abs<short>() );
00041   CALL\_SUBTEST( check\_abs<unsigned short>() );
00042   CALL\_SUBTEST( check\_abs<int>() );
00043   CALL\_SUBTEST( check\_abs<unsigned int>() );
00044   CALL\_SUBTEST( check\_abs<long>() );
00045   CALL\_SUBTEST( check\_abs<unsigned long>() );
00046   CALL\_SUBTEST( check\_abs<half>() );
00047   CALL\_SUBTEST( check\_abs<float>() );
00048   CALL\_SUBTEST( check\_abs<double>() );
00049   CALL\_SUBTEST( check\_abs<long double>() );
00050 
00051   CALL\_SUBTEST( check\_abs<std::complex<float> >() );
00052   CALL\_SUBTEST( check\_abs<std::complex<double> >() );
00053 \}
\end{DoxyCode}
