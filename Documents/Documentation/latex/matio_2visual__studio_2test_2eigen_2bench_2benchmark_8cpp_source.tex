\hypertarget{matio_2visual__studio_2test_2eigen_2bench_2benchmark_8cpp_source}{}\section{matio/visual\+\_\+studio/test/eigen/bench/benchmark.cpp}
\label{matio_2visual__studio_2test_2eigen_2bench_2benchmark_8cpp_source}\index{benchmark.\+cpp@{benchmark.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// g++ -O3 -DNDEBUG -DMATSIZE=<x> benchmark.cpp -o benchmark && time ./benchmark}
00002 
00003 \textcolor{preprocessor}{#include <iostream>}
00004 
00005 \textcolor{preprocessor}{#include <Eigen/Core>}
00006 
00007 \textcolor{preprocessor}{#ifndef MATSIZE}
00008 \textcolor{preprocessor}{#define MATSIZE 3}
00009 \textcolor{preprocessor}{#endif}
00010 
00011 \textcolor{keyword}{using namespace }\hyperlink{namespacestd}{std};
00012 \textcolor{keyword}{using namespace }\hyperlink{namespace_eigen}{Eigen};
00013 
00014 \textcolor{preprocessor}{#ifndef REPEAT}
00015 \textcolor{preprocessor}{#define REPEAT 40000000}
00016 \textcolor{preprocessor}{#endif}
00017 
00018 \textcolor{preprocessor}{#ifndef SCALAR}
00019 \textcolor{preprocessor}{#define SCALAR double}
00020 \textcolor{preprocessor}{#endif}
00021 
00022 \textcolor{keywordtype}{int} main(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char} *argv[])
00023 \{
00024     \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<SCALAR,MATSIZE,MATSIZE>} I = 
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<SCALAR,MATSIZE,MATSIZE>::Ones}();
00025     \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<SCALAR,MATSIZE,MATSIZE>} m;
00026     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < MATSIZE; i++)
00027         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j = 0; j < MATSIZE; j++)
00028         \{
00029             m(i,j) = (i+MATSIZE*j);
00030         \}
00031     \textcolor{keyword}{asm}(\textcolor{stringliteral}{"#begin"});
00032     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} a = 0; a < REPEAT; a++)
00033     \{
00034         m = \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<SCALAR,MATSIZE,MATSIZE>::Ones}() + 0.00005 * (m + (m*
      m));
00035     \}
00036     \textcolor{keyword}{asm}(\textcolor{stringliteral}{"#end"});
00037     cout << m << endl;
00038     \textcolor{keywordflow}{return} 0;
00039 \}
\end{DoxyCode}
