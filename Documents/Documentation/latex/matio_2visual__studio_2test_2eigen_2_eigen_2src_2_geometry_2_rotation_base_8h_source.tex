\hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/\+Eigen/src/\+Geometry/\+Rotation\+Base.h}
\label{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source}\index{Rotation\+Base.\+h@{Rotation\+Base.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2008 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_ROTATIONBASE\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_ROTATIONBASE\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{ 
00014 
00015 \textcolor{comment}{// forward declaration}
00016 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00017 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RotationDerived, \textcolor{keyword}{typename} MatrixType, \textcolor{keywordtype}{bool} IsVector=MatrixType::IsVectorAtCompileTime>
00018 \textcolor{keyword}{struct }rotation\_base\_generic\_product\_selector;
00019 \}
00020 
00028 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived, \textcolor{keywordtype}{int} \_Dim>
00029 \textcolor{keyword}{class }RotationBase
00030 \{
00031   \textcolor{keyword}{public}:
00032     \textcolor{keyword}{enum} \{ Dim = \_Dim \};
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source_l00034}\hyperlink{class_eigen_1_1_rotation_base_af9b43eac462d7aa70b018efd49c13ef4}{00034}     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar} 
      \hyperlink{class_eigen_1_1_rotation_base_af9b43eac462d7aa70b018efd49c13ef4}{Scalar};
00035 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source_l00037}\hyperlink{class_eigen_1_1_rotation_base_a83602509674c9d635551998460342951}{00037}     \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar,Dim,Dim>} \hyperlink{class_eigen_1_1_rotation_base_a83602509674c9d635551998460342951}{RotationMatrixType};
00038     \textcolor{keyword}{typedef} \hyperlink{group___core___module}{Matrix<Scalar,Dim,1>} \hyperlink{group___core___module}{VectorType};
00039 
00040   \textcolor{keyword}{public}:
00041     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{const} Derived& derived()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }Derived*\textcolor{keyword}{>}(\textcolor{keyword}{this}); \}
00042     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Derived& derived() \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{static\_cast<}Derived*\textcolor{keyword}{>}(\textcolor{keyword}{this}); \}
00043 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source_l00045}\hyperlink{class_eigen_1_1_rotation_base_aac726e89402a427c605514ce31b01e42}{00045}     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} RotationMatrixType \hyperlink{class_eigen_1_1_rotation_base_aac726e89402a427c605514ce31b01e42}{toRotationMatrix}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} derived()
      .toRotationMatrix(); \}
00046 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source_l00050}\hyperlink{class_eigen_1_1_rotation_base_a14ce23df5f0b2593a466f8130fe6bac9}{00050}     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} RotationMatrixType \hyperlink{class_eigen_1_1_rotation_base_a14ce23df5f0b2593a466f8130fe6bac9}{matrix}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} derived().toRotationMatrix();
       \}
00051 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source_l00053}\hyperlink{class_eigen_1_1_rotation_base_a2835ea92940986b4220cf47538a6bc41}{00053}     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Derived \hyperlink{class_eigen_1_1_rotation_base_a2835ea92940986b4220cf47538a6bc41}{inverse}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} derived().inverse(); \}
00054 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source_l00056}\hyperlink{class_eigen_1_1_rotation_base_a4b09a2174ee14f0aa71bc0285c9045a9}{00056}     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,Isometry>} 
      \hyperlink{class_eigen_1_1_rotation_base_a4b09a2174ee14f0aa71bc0285c9045a9}{operator*}(\textcolor{keyword}{const} \hyperlink{group___geometry___module_class_eigen_1_1_translation}{Translation<Scalar,Dim>}& t)\textcolor{keyword}{ const}
00057 \textcolor{keyword}{    }\{ \textcolor{keywordflow}{return} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,Isometry>}(*this) * t; \}
00058 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source_l00060}\hyperlink{class_eigen_1_1_rotation_base_ad7b31a12a4f8f2584b8937f958bd6ea6}{00060}     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} RotationMatrixType \hyperlink{class_eigen_1_1_rotation_base_ad7b31a12a4f8f2584b8937f958bd6ea6}{operator*}(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_uniform_scaling}{UniformScaling<Scalar>}& s)\textcolor{keyword}{ const}
00061 \textcolor{keyword}{    }\{ \textcolor{keywordflow}{return} toRotationMatrix() * s.factor(); \}
00062 
00069     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>
00070     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE \textcolor{keyword}{typename} 
      \hyperlink{struct_eigen_1_1internal_1_1rotation__base__generic__product__selector}{
      internal::rotation\_base\_generic\_product\_selector<Derived,OtherDerived,OtherDerived::IsVectorAtCompileTime>::ReturnType}
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source_l00071}\hyperlink{class_eigen_1_1_rotation_base_a68d8b53d31bcfa9fd6b0e24a061bea6c}{00071}     \hyperlink{class_eigen_1_1_rotation_base_a68d8b53d31bcfa9fd6b0e24a061bea6c}{operator*}(\textcolor{keyword}{const} \hyperlink{group___core___module_struct_eigen_1_1_eigen_base}{EigenBase<OtherDerived>}& e)\textcolor{keyword}{ const}
00072 \textcolor{keyword}{    }\{ \textcolor{keywordflow}{return} 
      \hyperlink{struct_eigen_1_1internal_1_1rotation__base__generic__product__selector}{internal::rotation\_base\_generic\_product\_selector<Derived,OtherDerived>::run}
      (derived(), e.\hyperlink{group___core___module_a324b16961a11d2ecfd2d1b7dd7946545}{derived}()); \}
00073 
00075     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived> \textcolor{keyword}{friend}
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source_l00076}\hyperlink{class_eigen_1_1_rotation_base_affba3749838de939140b601e7db834e8}{00076}     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} RotationMatrixType \hyperlink{class_eigen_1_1_rotation_base_affba3749838de939140b601e7db834e8}{operator*}(\textcolor{keyword}{const} 
      \hyperlink{group___core___module_struct_eigen_1_1_eigen_base}{EigenBase<OtherDerived>}& l, \textcolor{keyword}{const} Derived& r)
00077     \{ \textcolor{keywordflow}{return} l.\hyperlink{group___core___module_a324b16961a11d2ecfd2d1b7dd7946545}{derived}() * r.toRotationMatrix(); \}
00078 
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source_l00080}\hyperlink{class_eigen_1_1_rotation_base_a507ee9474b9d648cdc9d294f4e944d60}{00080}     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{friend} \textcolor{keyword}{inline} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,Affine>} 
      \hyperlink{class_eigen_1_1_rotation_base_a507ee9474b9d648cdc9d294f4e944d60}{operator*}(\textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix<Scalar,Dim>}& l, \textcolor{keyword}{const} Derived& r)
00081     \{ 
00082       \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,Affine>} res(r);
00083       res.\hyperlink{group___geometry___module_a535bd63d047c2a36585c3f9b62219a1e}{linear}().applyOnTheLeft(l);
00084       \textcolor{keywordflow}{return} res;
00085     \}
00086 
00088     \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Mode, \textcolor{keywordtype}{int} Options>
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_geometry_2_rotation_base_8h_source_l00089}\hyperlink{class_eigen_1_1_rotation_base_adf1097a616f0ebf7e78eea9598697672}{00089}     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,Mode>} 
      \hyperlink{class_eigen_1_1_rotation_base_adf1097a616f0ebf7e78eea9598697672}{operator*}(\textcolor{keyword}{const} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,Mode,Options>}& t)\textcolor{keyword}{ const}
00090 \textcolor{keyword}{    }\{ \textcolor{keywordflow}{return} toRotationMatrix() * t; \}
00091 
00092     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherVectorType>
00093     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} VectorType \_transformVector(\textcolor{keyword}{const} OtherVectorType& v)\textcolor{keyword}{ const}
00094 \textcolor{keyword}{    }\{ \textcolor{keywordflow}{return} toRotationMatrix() * v; \}
00095 \};
00096 
00097 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00098 
00099 \textcolor{comment}{// implementation of the generic product rotation * matrix}
00100 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RotationDerived, \textcolor{keyword}{typename} MatrixType>
00101 \textcolor{keyword}{struct }rotation\_base\_generic\_product\_selector<RotationDerived,MatrixType,false>
00102 \{
00103   \textcolor{keyword}{enum} \{ Dim = RotationDerived::Dim \};
00104   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<typename RotationDerived::Scalar,Dim,Dim>} 
      ReturnType;
00105   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} \textcolor{keyword}{inline} ReturnType run(\textcolor{keyword}{const} RotationDerived& r, \textcolor{keyword}{const} MatrixType& m)
00106   \{ \textcolor{keywordflow}{return} r.toRotationMatrix() * m; \}
00107 \};
00108 
00109 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RotationDerived, \textcolor{keyword}{typename} Scalar, \textcolor{keywordtype}{int} Dim, \textcolor{keywordtype}{int} MaxDim>
00110 \textcolor{keyword}{struct }rotation\_base\_generic\_product\_selector< RotationDerived, DiagonalMatrix<Scalar,Dim,MaxDim>, false >
00111 \{
00112   \textcolor{keyword}{typedef} \hyperlink{group___geometry___module_class_eigen_1_1_transform}{Transform<Scalar,Dim,Affine>} ReturnType;
00113   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} \textcolor{keyword}{inline} ReturnType run(\textcolor{keyword}{const} RotationDerived& r, \textcolor{keyword}{const} 
      \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix<Scalar,Dim,MaxDim>}& m)
00114   \{
00115     ReturnType res(r);
00116     res.linear() *= m;
00117     \textcolor{keywordflow}{return} res;
00118   \}
00119 \};
00120 
00121 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RotationDerived,\textcolor{keyword}{typename} OtherVectorType>
00122 \textcolor{keyword}{struct }rotation\_base\_generic\_product\_selector<RotationDerived,OtherVectorType,true>
00123 \{
00124   \textcolor{keyword}{enum} \{ Dim = RotationDerived::Dim \};
00125   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<typename RotationDerived::Scalar,Dim,1>} 
      ReturnType;
00126   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} EIGEN\_STRONG\_INLINE ReturnType run(\textcolor{keyword}{const} RotationDerived& r, \textcolor{keyword}{const} 
      OtherVectorType& v)
00127   \{
00128     \textcolor{keywordflow}{return} r.\_transformVector(v);
00129   \}
00130 \};
00131 
00132 \} \textcolor{comment}{// end namespace internal}
00133 
00138 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_Scalar, \textcolor{keywordtype}{int} \_Rows, \textcolor{keywordtype}{int} \_Cols, \textcolor{keywordtype}{int} \_Storage, \textcolor{keywordtype}{int} \_MaxRows, \textcolor{keywordtype}{int} \_MaxCols>
00139 \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>
00140 EIGEN\_DEVICE\_FUNC \hyperlink{group___core___module_a11f852d66fa55b2aed12aa22da807a6b}{Matrix<\_Scalar, \_Rows, \_Cols, \_Storage, \_MaxRows, \_MaxCols>}
00141 \hyperlink{group___core___module_a11f852d66fa55b2aed12aa22da807a6b}{::Matrix}(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_rotation_base}{RotationBase<OtherDerived,ColsAtCompileTime>}
      & r)
00142 \{
00143   EIGEN\_STATIC\_ASSERT\_MATRIX\_SPECIFIC\_SIZE(\hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix},\textcolor{keywordtype}{int}(OtherDerived::Dim),\textcolor{keywordtype}{int}(OtherDerived::Dim))
00144   *\textcolor{keyword}{this} = r.toRotationMatrix();
00145 \}
00146 
00151 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_Scalar, \textcolor{keywordtype}{int} \_Rows, \textcolor{keywordtype}{int} \_Cols, \textcolor{keywordtype}{int} \_Storage, \textcolor{keywordtype}{int} \_MaxRows, \textcolor{keywordtype}{int} \_MaxCols>
00152 \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>
00153 EIGEN\_DEVICE\_FUNC \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<\_Scalar, \_Rows, \_Cols, \_Storage, \_MaxRows, \_MaxCols>}
      &
00154 \hyperlink{group___core___module_aa123b56b10819a0cbf5164abb242102f}{Matrix<\_Scalar, \_Rows, \_Cols, \_Storage, \_MaxRows, \_MaxCols>}
00155 \hyperlink{group___core___module_aa123b56b10819a0cbf5164abb242102f}{::operator=}(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_rotation_base}{RotationBase<OtherDerived,ColsAtCompileTime>}
      & r)
00156 \{
00157   EIGEN\_STATIC\_ASSERT\_MATRIX\_SPECIFIC\_SIZE(\hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix},\textcolor{keywordtype}{int}(OtherDerived::Dim),\textcolor{keywordtype}{int}(OtherDerived::Dim))
00158   \textcolor{keywordflow}{return} *\textcolor{keyword}{this} = r.toRotationMatrix();
00159 \}
00160 
00161 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00162 
00181 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keywordtype}{int} Dim>
00182 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} \textcolor{keyword}{inline} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar,2,2>} toRotationMatrix(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_rotation_base_af9b43eac462d7aa70b018efd49c13ef4}{Scalar}& s)
00183 \{
00184   EIGEN\_STATIC\_ASSERT(Dim==2,YOU\_MADE\_A\_PROGRAMMING\_MISTAKE)
00185   \textcolor{keywordflow}{return} \hyperlink{group___geometry___module_class_eigen_1_1_rotation2_d}{Rotation2D<Scalar>}(s).toRotationMatrix();
00186 \}
00187 
00188 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keywordtype}{int} Dim, \textcolor{keyword}{typename} OtherDerived>
00189 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} \textcolor{keyword}{inline} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar,Dim,Dim>} toRotationMatrix(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_rotation_base}{RotationBase<OtherDerived,Dim>}& r)
00190 \{
00191   \textcolor{keywordflow}{return} r.toRotationMatrix();
00192 \}
00193 
00194 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keywordtype}{int} Dim, \textcolor{keyword}{typename} OtherDerived>
00195 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<OtherDerived>}& toRotationMatrix(\textcolor{keyword}{
      const} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<OtherDerived>}& mat)
00196 \{
00197   EIGEN\_STATIC\_ASSERT(OtherDerived::RowsAtCompileTime==Dim && OtherDerived::ColsAtCompileTime==Dim,
00198     YOU\_MADE\_A\_PROGRAMMING\_MISTAKE)
00199   \textcolor{keywordflow}{return} mat;
00200 \}
00201 
00202 \} \textcolor{comment}{// end namespace internal}
00203 
00204 \} \textcolor{comment}{// end namespace Eigen}
00205 
00206 \textcolor{preprocessor}{#endif // EIGEN\_ROTATIONBASE\_H}
\end{DoxyCode}
