\hypertarget{matio_2visual__studio_2test_2eigen_2blas_2_general_rank1_update_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/blas/\+General\+Rank1\+Update.h}
\label{matio_2visual__studio_2test_2eigen_2blas_2_general_rank1_update_8h_source}\index{General\+Rank1\+Update.\+h@{General\+Rank1\+Update.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2012 Chen-Pang He <jdh8@ms63.hinet.net>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_GENERAL\_RANK1UPDATE\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_GENERAL\_RANK1UPDATE\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00014 
00015 \textcolor{comment}{/* Optimized matrix += alpha * uv' */}
00016 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keyword}{typename} Index, \textcolor{keywordtype}{int} StorageOrder, \textcolor{keywordtype}{bool} ConjLhs, \textcolor{keywordtype}{bool} ConjRhs>
00017 \textcolor{keyword}{struct }general\_rank1\_update;
00018 
00019 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keyword}{typename} Index, \textcolor{keywordtype}{bool} ConjLhs, \textcolor{keywordtype}{bool} ConjRhs>
00020 \textcolor{keyword}{struct }general\_rank1\_update<Scalar,\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index},\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0cbd4bdd0abcfc0224c5fcb5e4f6669a}{ColMajor},ConjLhs,ConjRhs>
00021 \{
00022   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(Index rows, Index cols, Scalar* mat, Index stride, \textcolor{keyword}{const} Scalar* u, \textcolor{keyword}{const} Scalar* v, 
      Scalar alpha)
00023   \{
00024     \textcolor{keyword}{typedef} Map<const Matrix<Scalar,Dynamic,1> > OtherMap;
00025     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} conj\_expr\_if<ConjLhs,OtherMap>::type ConjRhsType;
00026     conj\_if<ConjRhs> cj;
00027 
00028     \textcolor{keywordflow}{for} (Index i=0; i<cols; ++i)
00029       Map<Matrix<Scalar,Dynamic,1> >(mat+stride*i,rows) += alpha * cj(v[i]) * ConjRhsType(OtherMap(u,rows))
      ;
00030   \}
00031 \};
00032 
00033 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keyword}{typename} Index, \textcolor{keywordtype}{bool} ConjLhs, \textcolor{keywordtype}{bool} ConjRhs>
00034 \textcolor{keyword}{struct }general\_rank1\_update<Scalar,\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index},\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13acfcde9cd8677c5f7caf6bd603666aae3}{RowMajor},ConjLhs,ConjRhs>
00035 \{
00036   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(Index rows, Index cols, Scalar* mat, Index stride, \textcolor{keyword}{const} Scalar* u, \textcolor{keyword}{const} Scalar* v, 
      Scalar alpha)
00037   \{
00038     general\_rank1\_update<Scalar,Index,ColMajor,ConjRhs,ConjRhs>::run(rows,cols,mat,stride,u,v,alpha);
00039   \}
00040 \};
00041 
00042 \} \textcolor{comment}{// end namespace internal}
00043 
00044 \textcolor{preprocessor}{#endif // EIGEN\_GENERAL\_RANK1UPDATE\_H}
\end{DoxyCode}
