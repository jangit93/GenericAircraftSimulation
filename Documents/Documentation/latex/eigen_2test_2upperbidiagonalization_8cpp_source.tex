\hypertarget{eigen_2test_2upperbidiagonalization_8cpp_source}{}\section{eigen/test/upperbidiagonalization.cpp}
\label{eigen_2test_2upperbidiagonalization_8cpp_source}\index{upperbidiagonalization.\+cpp@{upperbidiagonalization.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2010 Benoit Jacob <jacob.benoit.1@gmail.com>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#include "main.h"}
00011 \textcolor{preprocessor}{#include <Eigen/SVD>}
00012 
00013 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType> \textcolor{keywordtype}{void} upperbidiag(\textcolor{keyword}{const} MatrixType& m)
00014 \{
00015   \textcolor{keyword}{const} \textcolor{keyword}{typename} MatrixType::Index rows = m.rows();
00016   \textcolor{keyword}{const} \textcolor{keyword}{typename} MatrixType::Index cols = m.cols();
00017 
00018   \textcolor{keyword}{typedef} 
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<typename MatrixType::RealScalar, MatrixType::RowsAtCompileTime,  MatrixType::ColsAtCompileTime>}
       RealMatrixType;
00019   \textcolor{keyword}{typedef} 
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<typename MatrixType::Scalar, MatrixType::ColsAtCompileTime,  MatrixType::RowsAtCompileTime>}
       TransposeMatrixType;
00020 
00021   MatrixType a = MatrixType::Random(rows,cols);
00022   internal::UpperBidiagonalization<MatrixType> ubd(a);
00023   RealMatrixType b(rows, cols);
00024   b.setZero();
00025   b.block(0,0,cols,cols) = ubd.bidiagonal();
00026   MatrixType c = ubd.householderU() * b * ubd.householderV().adjoint();
00027   VERIFY\_IS\_APPROX(a,c);
00028   TransposeMatrixType d = ubd.householderV() * b.adjoint() * ubd.householderU().adjoint();
00029   VERIFY\_IS\_APPROX(a.adjoint(),d);
00030 \}
00031 
00032 \textcolor{keywordtype}{void} test\_upperbidiagonalization()
00033 \{
00034   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < g\_repeat; i++) \{
00035    CALL\_SUBTEST\_1( upperbidiag(MatrixXf(3,3)) );
00036    CALL\_SUBTEST\_2( upperbidiag(MatrixXd(17,12)) );
00037    CALL\_SUBTEST\_3( upperbidiag(MatrixXcf(20,20)) );
00038    CALL\_SUBTEST\_4( upperbidiag(\hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix}<std::complex<double>,Dynamic,Dynamic,
      \hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13acfcde9cd8677c5f7caf6bd603666aae3}{RowMajor}>(16,15)) );
00039    CALL\_SUBTEST\_5( upperbidiag(\hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<float,6,4>}()) );
00040    CALL\_SUBTEST\_6( upperbidiag(\hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<float,5,5>}()) );
00041    CALL\_SUBTEST\_7( upperbidiag(\hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<double,4,3>}()) );
00042   \}
00043 \}
\end{DoxyCode}
