\hypertarget{matio_2visual__studio_2test_2eigen_2test_2sizeof_8cpp_source}{}\section{matio/visual\+\_\+studio/test/eigen/test/sizeof.cpp}
\label{matio_2visual__studio_2test_2eigen_2test_2sizeof_8cpp_source}\index{sizeof.\+cpp@{sizeof.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2008 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#include "main.h"}
00011 
00012 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType> \textcolor{keywordtype}{void} verifySizeOf(\textcolor{keyword}{const} MatrixType&)
00013 \{
00014   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::Scalar Scalar;
00015   \textcolor{keywordflow}{if} (MatrixType::RowsAtCompileTime!=Dynamic && MatrixType::ColsAtCompileTime!=Dynamic)
00016     VERIFY\_IS\_EQUAL(std::ptrdiff\_t(\textcolor{keyword}{sizeof}(MatrixType)),std::ptrdiff\_t(\textcolor{keyword}{sizeof}(Scalar))*std::ptrdiff\_t(
      MatrixType::SizeAtCompileTime));
00017   \textcolor{keywordflow}{else}
00018     VERIFY\_IS\_EQUAL(\textcolor{keyword}{sizeof}(MatrixType),\textcolor{keyword}{sizeof}(Scalar*) + 2 * \textcolor{keyword}{sizeof}(\textcolor{keyword}{typename} MatrixType::Index));
00019 \}
00020 
00021 \textcolor{keywordtype}{void} test\_sizeof()
00022 \{
00023   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<float, 1, 1>}()) );
00024   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_array}{Array<float, 2, 1>}()) );
00025   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_array}{Array<float, 3, 1>}()) );
00026   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_array}{Array<float, 4, 1>}()) );
00027   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_array}{Array<float, 5, 1>}()) );
00028   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_array}{Array<float, 6, 1>}()) );
00029   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_array}{Array<float, 7, 1>}()) );
00030   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_array}{Array<float, 8, 1>}()) );
00031   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_array}{Array<float, 9, 1>}()) );
00032   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_array}{Array<float, 10, 1>}()) );
00033   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_array}{Array<float, 11, 1>}()) );
00034   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_array}{Array<float, 12, 1>}()) );
00035   CALL\_SUBTEST(verifySizeOf(Vector2d()) );
00036   CALL\_SUBTEST(verifySizeOf(Vector4f()) );
00037   CALL\_SUBTEST(verifySizeOf(Matrix4d()) );
00038   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<double, 4, 2>}()) );
00039   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<bool, 7, 5>}()) );
00040   CALL\_SUBTEST(verifySizeOf(MatrixXcf(3, 3)) );
00041   CALL\_SUBTEST(verifySizeOf(MatrixXi(8, 12)) );
00042   CALL\_SUBTEST(verifySizeOf(MatrixXcd(20, 20)) );
00043   CALL\_SUBTEST(verifySizeOf(\hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<float, 100, 100>}()) );
00044   
00045   VERIFY(\textcolor{keyword}{sizeof}(std::complex<float>) == 2*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{float}));
00046   VERIFY(\textcolor{keyword}{sizeof}(std::complex<double>) == 2*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{double}));
00047 \}
\end{DoxyCode}
