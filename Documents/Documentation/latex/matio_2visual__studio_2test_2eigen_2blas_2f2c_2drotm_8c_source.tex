\hypertarget{matio_2visual__studio_2test_2eigen_2blas_2f2c_2drotm_8c_source}{}\section{matio/visual\+\_\+studio/test/eigen/blas/f2c/drotm.c}
\label{matio_2visual__studio_2test_2eigen_2blas_2f2c_2drotm_8c_source}\index{drotm.\+c@{drotm.\+c}}

\begin{DoxyCode}
00001 \textcolor{comment}{/* drotm.f -- translated by f2c (version 20100827).}
00002 \textcolor{comment}{   You must link the resulting object file with libf2c:}
00003 \textcolor{comment}{    on Microsoft Windows system, link with libf2c.lib;}
00004 \textcolor{comment}{    on Linux or Unix systems, link with .../path/to/libf2c.a -lm}
00005 \textcolor{comment}{    or, if you install libf2c.a in a standard place, with -lf2c -lm}
00006 \textcolor{comment}{    -- in that order, at the end of the command line, as in}
00007 \textcolor{comment}{        cc *.o -lf2c -lm}
00008 \textcolor{comment}{    Source for libf2c is in /netlib/f2c/libf2c.zip, e.g.,}
00009 \textcolor{comment}{}
00010 \textcolor{comment}{        http://www.netlib.org/f2c/libf2c.zip}
00011 \textcolor{comment}{*/}
00012 
00013 \textcolor{preprocessor}{#include "datatypes.h"}
00014 
00015 \textcolor{comment}{/* Subroutine */} \textcolor{keywordtype}{int} drotm\_(integer *n, doublereal *dx, integer *incx, 
00016     doublereal *dy, integer *incy, doublereal *dparam)
00017 \{
00018     \textcolor{comment}{/* Initialized data */}
00019 
00020     \textcolor{keyword}{static} doublereal zero = 0.;
00021     \textcolor{keyword}{static} doublereal two = 2.;
00022 
00023     \textcolor{comment}{/* System generated locals */}
00024     integer i\_\_1, i\_\_2;
00025 
00026     \textcolor{comment}{/* Local variables */}
00027     integer i\_\_;
00028     doublereal w, z\_\_;
00029     integer kx, ky;
00030     doublereal dh11, dh12, dh21, dh22, dflag;
00031     integer nsteps;
00032 
00033 \textcolor{comment}{/*     .. Scalar Arguments .. */}
00034 \textcolor{comment}{/*     .. */}
00035 \textcolor{comment}{/*     .. Array Arguments .. */}
00036 \textcolor{comment}{/*     .. */}
00037 
00038 \textcolor{comment}{/*  Purpose */}
00039 \textcolor{comment}{/*  ======= */}
00040 
00041 \textcolor{comment}{/*     APPLY THE MODIFIED GIVENS TRANSFORMATION, H, TO THE 2 BY N MATRIX */}
00042 
00043 \textcolor{comment}{/*     (DX**T) , WHERE **T INDICATES TRANSPOSE. THE ELEMENTS OF DX ARE IN */}
00044 \textcolor{comment}{/*     (DY**T) */}
00045 
00046 \textcolor{comment}{/*     DX(LX+I*INCX), I = 0 TO N-1, WHERE LX = 1 IF INCX .GE. 0, ELSE */}
00047 \textcolor{comment}{/*     LX = (-INCX)*N, AND SIMILARLY FOR SY USING LY AND INCY. */}
00048 \textcolor{comment}{/*     WITH DPARAM(1)=DFLAG, H HAS ONE OF THE FOLLOWING FORMS.. */}
00049 
00050 \textcolor{comment}{/*     DFLAG=-1.D0     DFLAG=0.D0        DFLAG=1.D0     DFLAG=-2.D0 */}
00051 
00052 \textcolor{comment}{/*       (DH11  DH12)    (1.D0  DH12)    (DH11  1.D0)    (1.D0  0.D0) */}
00053 \textcolor{comment}{/*     H=(          )    (          )    (          )    (          ) */}
00054 \textcolor{comment}{/*       (DH21  DH22),   (DH21  1.D0),   (-1.D0 DH22),   (0.D0  1.D0). */}
00055 \textcolor{comment}{/*     SEE DROTMG FOR A DESCRIPTION OF DATA STORAGE IN DPARAM. */}
00056 
00057 \textcolor{comment}{/*  Arguments */}
00058 \textcolor{comment}{/*  ========= */}
00059 
00060 \textcolor{comment}{/*  N      (input) INTEGER */}
00061 \textcolor{comment}{/*         number of elements in input vector(s) */}
00062 
00063 \textcolor{comment}{/*  DX     (input/output) DOUBLE PRECISION array, dimension N */}
00064 \textcolor{comment}{/*         double precision vector with N elements */}
00065 
00066 \textcolor{comment}{/*  INCX   (input) INTEGER */}
00067 \textcolor{comment}{/*         storage spacing between elements of DX */}
00068 
00069 \textcolor{comment}{/*  DY     (input/output) DOUBLE PRECISION array, dimension N */}
00070 \textcolor{comment}{/*         double precision vector with N elements */}
00071 
00072 \textcolor{comment}{/*  INCY   (input) INTEGER */}
00073 \textcolor{comment}{/*         storage spacing between elements of DY */}
00074 
00075 \textcolor{comment}{/*  DPARAM (input/output)  DOUBLE PRECISION array, dimension 5 */}
00076 \textcolor{comment}{/*     DPARAM(1)=DFLAG */}
00077 \textcolor{comment}{/*     DPARAM(2)=DH11 */}
00078 \textcolor{comment}{/*     DPARAM(3)=DH21 */}
00079 \textcolor{comment}{/*     DPARAM(4)=DH12 */}
00080 \textcolor{comment}{/*     DPARAM(5)=DH22 */}
00081 
00082 \textcolor{comment}{/*  ===================================================================== */}
00083 
00084 \textcolor{comment}{/*     .. Local Scalars .. */}
00085 \textcolor{comment}{/*     .. */}
00086 \textcolor{comment}{/*     .. Data statements .. */}
00087     \textcolor{comment}{/* Parameter adjustments */}
00088     --dparam;
00089     --dy;
00090     --dx;
00091 
00092     \textcolor{comment}{/* Function Body */}
00093 \textcolor{comment}{/*     .. */}
00094 
00095     dflag = dparam[1];
00096     \textcolor{keywordflow}{if} (*n <= 0 || dflag + two == zero) \{
00097     \textcolor{keywordflow}{goto} L140;
00098     \}
00099     \textcolor{keywordflow}{if} (! (*incx == *incy && *incx > 0)) \{
00100     \textcolor{keywordflow}{goto} L70;
00101     \}
00102 
00103     nsteps = *n * *incx;
00104     \textcolor{keywordflow}{if} (dflag < 0.) \{
00105     \textcolor{keywordflow}{goto} L50;
00106     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (dflag == 0) \{
00107     \textcolor{keywordflow}{goto} L10;
00108     \} \textcolor{keywordflow}{else} \{
00109     \textcolor{keywordflow}{goto} L30;
00110     \}
00111 L10:
00112     dh12 = dparam[4];
00113     dh21 = dparam[3];
00114     i\_\_1 = nsteps;
00115     i\_\_2 = *incx;
00116     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_2 < 0 ? i\_\_ >= i\_\_1 : i\_\_ <= i\_\_1; i\_\_ += i\_\_2) \{
00117     w = dx[i\_\_];
00118     z\_\_ = dy[i\_\_];
00119     dx[i\_\_] = w + z\_\_ * dh12;
00120     dy[i\_\_] = w * dh21 + z\_\_;
00121 \textcolor{comment}{/* L20: */}
00122     \}
00123     \textcolor{keywordflow}{goto} L140;
00124 L30:
00125     dh11 = dparam[2];
00126     dh22 = dparam[5];
00127     i\_\_2 = nsteps;
00128     i\_\_1 = *incx;
00129     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_1 < 0 ? i\_\_ >= i\_\_2 : i\_\_ <= i\_\_2; i\_\_ += i\_\_1) \{
00130     w = dx[i\_\_];
00131     z\_\_ = dy[i\_\_];
00132     dx[i\_\_] = w * dh11 + z\_\_;
00133     dy[i\_\_] = -w + dh22 * z\_\_;
00134 \textcolor{comment}{/* L40: */}
00135     \}
00136     \textcolor{keywordflow}{goto} L140;
00137 L50:
00138     dh11 = dparam[2];
00139     dh12 = dparam[4];
00140     dh21 = dparam[3];
00141     dh22 = dparam[5];
00142     i\_\_1 = nsteps;
00143     i\_\_2 = *incx;
00144     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_2 < 0 ? i\_\_ >= i\_\_1 : i\_\_ <= i\_\_1; i\_\_ += i\_\_2) \{
00145     w = dx[i\_\_];
00146     z\_\_ = dy[i\_\_];
00147     dx[i\_\_] = w * dh11 + z\_\_ * dh12;
00148     dy[i\_\_] = w * dh21 + z\_\_ * dh22;
00149 \textcolor{comment}{/* L60: */}
00150     \}
00151     \textcolor{keywordflow}{goto} L140;
00152 L70:
00153     kx = 1;
00154     ky = 1;
00155     \textcolor{keywordflow}{if} (*incx < 0) \{
00156     kx = (1 - *n) * *incx + 1;
00157     \}
00158     \textcolor{keywordflow}{if} (*incy < 0) \{
00159     ky = (1 - *n) * *incy + 1;
00160     \}
00161 
00162     \textcolor{keywordflow}{if} (dflag < 0.) \{
00163     \textcolor{keywordflow}{goto} L120;
00164     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (dflag == 0) \{
00165     \textcolor{keywordflow}{goto} L80;
00166     \} \textcolor{keywordflow}{else} \{
00167     \textcolor{keywordflow}{goto} L100;
00168     \}
00169 L80:
00170     dh12 = dparam[4];
00171     dh21 = dparam[3];
00172     i\_\_2 = *n;
00173     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_ <= i\_\_2; ++i\_\_) \{
00174     w = dx[kx];
00175     z\_\_ = dy[ky];
00176     dx[kx] = w + z\_\_ * dh12;
00177     dy[ky] = w * dh21 + z\_\_;
00178     kx += *incx;
00179     ky += *incy;
00180 \textcolor{comment}{/* L90: */}
00181     \}
00182     \textcolor{keywordflow}{goto} L140;
00183 L100:
00184     dh11 = dparam[2];
00185     dh22 = dparam[5];
00186     i\_\_2 = *n;
00187     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_ <= i\_\_2; ++i\_\_) \{
00188     w = dx[kx];
00189     z\_\_ = dy[ky];
00190     dx[kx] = w * dh11 + z\_\_;
00191     dy[ky] = -w + dh22 * z\_\_;
00192     kx += *incx;
00193     ky += *incy;
00194 \textcolor{comment}{/* L110: */}
00195     \}
00196     \textcolor{keywordflow}{goto} L140;
00197 L120:
00198     dh11 = dparam[2];
00199     dh12 = dparam[4];
00200     dh21 = dparam[3];
00201     dh22 = dparam[5];
00202     i\_\_2 = *n;
00203     \textcolor{keywordflow}{for} (i\_\_ = 1; i\_\_ <= i\_\_2; ++i\_\_) \{
00204     w = dx[kx];
00205     z\_\_ = dy[ky];
00206     dx[kx] = w * dh11 + z\_\_ * dh12;
00207     dy[ky] = w * dh21 + z\_\_ * dh22;
00208     kx += *incx;
00209     ky += *incy;
00210 \textcolor{comment}{/* L130: */}
00211     \}
00212 L140:
00213     \textcolor{keywordflow}{return} 0;
00214 \} \textcolor{comment}{/* drotm\_ */}
00215 
\end{DoxyCode}
