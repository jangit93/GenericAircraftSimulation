\hypertarget{visual__studio_2zlib_2inftrees_8h_source}{}\section{visual\+\_\+studio/zlib/inftrees.h}
\label{visual__studio_2zlib_2inftrees_8h_source}\index{inftrees.\+h@{inftrees.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/* inftrees.h -- header to use inftrees.c}
00002 \textcolor{comment}{ * Copyright (C) 1995-2005, 2010 Mark Adler}
00003 \textcolor{comment}{ * For conditions of distribution and use, see copyright notice in zlib.h}
00004 \textcolor{comment}{ */}
00005 
00006 \textcolor{comment}{/* WARNING: this file should *not* be used by applications. It is}
00007 \textcolor{comment}{   part of the implementation of the compression library and is}
00008 \textcolor{comment}{   subject to change. Applications should only use zlib.h.}
00009 \textcolor{comment}{ */}
00010 
00011 \textcolor{comment}{/* Structure for decoding tables.  Each entry provides either the}
00012 \textcolor{comment}{   information needed to do the operation requested by the code that}
00013 \textcolor{comment}{   indexed that table entry, or it provides a pointer to another}
00014 \textcolor{comment}{   table that indexes more bits of the code.  op indicates whether}
00015 \textcolor{comment}{   the entry is a pointer to another table, a literal, a length or}
00016 \textcolor{comment}{   distance, an end-of-block, or an invalid code.  For a table}
00017 \textcolor{comment}{   pointer, the low four bits of op is the number of index bits of}
00018 \textcolor{comment}{   that table.  For a length or distance, the low four bits of op}
00019 \textcolor{comment}{   is the number of extra bits to get after the code.  bits is}
00020 \textcolor{comment}{   the number of bits in this code or part of the code to drop off}
00021 \textcolor{comment}{   of the bit buffer.  val is the actual byte to output in the case}
00022 \textcolor{comment}{   of a literal, the base length or distance, or the offset from}
00023 \textcolor{comment}{   the current table to the next table.  Each entry is four bytes. */}
00024 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{
00025     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} op;           \textcolor{comment}{/* operation, extra bits, table bits */}
00026     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} bits;         \textcolor{comment}{/* bits in this part of the code */}
00027     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} val;         \textcolor{comment}{/* offset in table or code value */}
00028 \} \hyperlink{structcode}{code};
00029 
00030 \textcolor{comment}{/* op values as set by inflate\_table():}
00031 \textcolor{comment}{    00000000 - literal}
00032 \textcolor{comment}{    0000tttt - table link, tttt != 0 is the number of table index bits}
00033 \textcolor{comment}{    0001eeee - length or distance, eeee is the number of extra bits}
00034 \textcolor{comment}{    01100000 - end of block}
00035 \textcolor{comment}{    01000000 - invalid code}
00036 \textcolor{comment}{ */}
00037 
00038 \textcolor{comment}{/* Maximum size of the dynamic table.  The maximum number of code structures is}
00039 \textcolor{comment}{   1444, which is the sum of 852 for literal/length codes and 592 for distance}
00040 \textcolor{comment}{   codes.  These values were found by exhaustive searches using the program}
00041 \textcolor{comment}{   examples/enough.c found in the zlib distribtution.  The arguments to that}
00042 \textcolor{comment}{   program are the number of symbols, the initial root table size, and the}
00043 \textcolor{comment}{   maximum bit length of a code.  "enough 286 9 15" for literal/length codes}
00044 \textcolor{comment}{   returns returns 852, and "enough 30 6 15" for distance codes returns 592.}
00045 \textcolor{comment}{   The initial root table size (9 or 6) is found in the fifth argument of the}
00046 \textcolor{comment}{   inflate\_table() calls in inflate.c and infback.c.  If the root table size is}
00047 \textcolor{comment}{   changed, then these maximum sizes would be need to be recalculated and}
00048 \textcolor{comment}{   updated. */}
00049 \textcolor{preprocessor}{#define ENOUGH\_LENS 852}
00050 \textcolor{preprocessor}{#define ENOUGH\_DISTS 592}
00051 \textcolor{preprocessor}{#define ENOUGH (ENOUGH\_LENS+ENOUGH\_DISTS)}
00052 
00053 \textcolor{comment}{/* Type of code to build for inflate\_table() */}
00054 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00055     CODES,
00056     LENS,
00057     DISTS
00058 \} codetype;
00059 
00060 \textcolor{keywordtype}{int} ZLIB\_INTERNAL inflate\_table OF((codetype type, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} FAR *lens,
00061                              \textcolor{keywordtype}{unsigned} codes, \hyperlink{structcode}{code} FAR * FAR *table,
00062                              \textcolor{keywordtype}{unsigned} FAR *bits, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} FAR *work));
\end{DoxyCode}
