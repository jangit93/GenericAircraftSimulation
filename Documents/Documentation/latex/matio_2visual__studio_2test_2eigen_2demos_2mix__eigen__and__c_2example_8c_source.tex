\hypertarget{matio_2visual__studio_2test_2eigen_2demos_2mix__eigen__and__c_2example_8c_source}{}\section{matio/visual\+\_\+studio/test/eigen/demos/mix\+\_\+eigen\+\_\+and\+\_\+c/example.c}
\label{matio_2visual__studio_2test_2eigen_2demos_2mix__eigen__and__c_2example_8c_source}\index{example.\+c@{example.\+c}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2009 Benoit Jacob <jacob.benoit.1@gmail.com>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#include "binary\_library.h"}
00011 \textcolor{preprocessor}{#include "stdio.h"}
00012 
00013 \textcolor{keywordtype}{void} demo\_MatrixXd()
00014 \{
00015   \textcolor{keyword}{struct }\hyperlink{struct_c___matrix_xd}{C\_MatrixXd} *matrix1, *matrix2, *result;
00016   printf(\textcolor{stringliteral}{"*** demo\_MatrixXd ***\(\backslash\)n"});
00017   
00018   matrix1 = MatrixXd\_new(3, 3);
00019   MatrixXd\_set\_zero(matrix1);
00020   MatrixXd\_set\_coeff(matrix1, 0, 1, 2.5);
00021   MatrixXd\_set\_coeff(matrix1, 1, 0, 1.4);
00022   printf(\textcolor{stringliteral}{"Here is matrix1:\(\backslash\)n"});
00023   MatrixXd\_print(matrix1);
00024 
00025   matrix2 = MatrixXd\_new(3, 3);
00026   MatrixXd\_multiply(matrix1, matrix1, matrix2);
00027   printf(\textcolor{stringliteral}{"Here is matrix1*matrix1:\(\backslash\)n"});
00028   MatrixXd\_print(matrix2);
00029 
00030   MatrixXd\_delete(matrix1);
00031   MatrixXd\_delete(matrix2);
00032 \}
00033 
00034 \textcolor{comment}{// this helper function takes a plain C array and prints it in one line}
00035 \textcolor{keywordtype}{void} print\_array(\textcolor{keywordtype}{double} *array, \textcolor{keywordtype}{int} n)
00036 \{
00037   \textcolor{keyword}{struct }\hyperlink{struct_c___map___matrix_xd}{C\_Map\_MatrixXd} *m = Map\_MatrixXd\_new(array, 1, n);
00038   Map\_MatrixXd\_print(m);
00039   Map\_MatrixXd\_delete(m);
00040 \}
00041 
00042 \textcolor{keywordtype}{void} demo\_Map\_MatrixXd()
00043 \{
00044   \textcolor{keyword}{struct }\hyperlink{struct_c___map___matrix_xd}{C\_Map\_MatrixXd} *map;
00045   \textcolor{keywordtype}{double} array[5];
00046   \textcolor{keywordtype}{int} i;
00047   printf(\textcolor{stringliteral}{"*** demo\_Map\_MatrixXd ***\(\backslash\)n"});
00048   
00049   \textcolor{keywordflow}{for}(i = 0; i < 5; ++i) array[i] = i;
00050   printf(\textcolor{stringliteral}{"Initially, the array is:\(\backslash\)n"});
00051   print\_array(array, 5);
00052   
00053   map = Map\_MatrixXd\_new(array, 5, 1);
00054   Map\_MatrixXd\_add(map, map, map);
00055   Map\_MatrixXd\_delete(map);
00056 
00057   printf(\textcolor{stringliteral}{"Now the array is:\(\backslash\)n"});
00058   print\_array(array, 5);
00059 \}
00060 
00061 \textcolor{keywordtype}{int} main()
00062 \{
00063   demo\_MatrixXd();
00064   demo\_Map\_MatrixXd();
00065 \}
\end{DoxyCode}
