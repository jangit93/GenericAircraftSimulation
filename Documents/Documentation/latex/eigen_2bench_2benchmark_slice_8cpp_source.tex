\hypertarget{eigen_2bench_2benchmark_slice_8cpp_source}{}\section{eigen/bench/benchmark\+Slice.cpp}
\label{eigen_2bench_2benchmark_slice_8cpp_source}\index{benchmark\+Slice.\+cpp@{benchmark\+Slice.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// g++ -O3 -DNDEBUG benchmarkX.cpp -o benchmarkX && time ./benchmarkX}
00002 
00003 \textcolor{preprocessor}{#include <iostream>}
00004 
00005 \textcolor{preprocessor}{#include <Eigen/Core>}
00006 
00007 \textcolor{keyword}{using namespace }\hyperlink{namespacestd}{std};
00008 \textcolor{keyword}{using namespace }\hyperlink{namespace_eigen}{Eigen};
00009 
00010 \textcolor{preprocessor}{#ifndef REPEAT}
00011 \textcolor{preprocessor}{#define REPEAT 10000}
00012 \textcolor{preprocessor}{#endif}
00013 
00014 \textcolor{preprocessor}{#ifndef SCALAR}
00015 \textcolor{preprocessor}{#define SCALAR float}
00016 \textcolor{preprocessor}{#endif}
00017 
00018 \textcolor{keywordtype}{int} main(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char} *argv[])
00019 \{
00020   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<SCALAR, Eigen::Dynamic, Eigen::Dynamic>} 
      \hyperlink{group___core___module}{Mat};
00021   Mat m(100, 100);
00022   m.setRandom();
00023 
00024   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} a = 0; a < REPEAT; a++)
00025   \{
00026     \textcolor{keywordtype}{int} r, c, nr, nc;
00027     r = Eigen::internal::random<int>(0,10);
00028     c = Eigen::internal::random<int>(0,10);
00029     nr = Eigen::internal::random<int>(50,80);
00030     nc = Eigen::internal::random<int>(50,80);
00031     m.block(r,c,nr,nc) += Mat::Ones(nr,nc);
00032     m.block(r,c,nr,nc) *= SCALAR(10);
00033     m.block(r,c,nr,nc) -= Mat::constant(nr,nc,10);
00034     m.block(r,c,nr,nc) /= SCALAR(10);
00035   \}
00036   cout << m[0] << endl;
00037   \textcolor{keywordflow}{return} 0;
00038 \}
\end{DoxyCode}
