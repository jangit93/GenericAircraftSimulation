\hypertarget{matio_2visual__studio_2test_2eigen_2test_2dense__storage_8cpp_source}{}\section{matio/visual\+\_\+studio/test/eigen/test/dense\+\_\+storage.cpp}
\label{matio_2visual__studio_2test_2eigen_2test_2dense__storage_8cpp_source}\index{dense\+\_\+storage.\+cpp@{dense\+\_\+storage.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2013 Hauke Heibel <hauke.heibel@gmail.com>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#include "main.h"}
00011 
00012 \textcolor{preprocessor}{#include <Eigen/Core>}
00013 
00014 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keywordtype}{int} Rows, \textcolor{keywordtype}{int} Cols>
00015 \textcolor{keywordtype}{void} dense\_storage\_copy()
00016 \{
00017   \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} Size = ((Rows==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} || Cols==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}) ? Dynamic : Rows*Cols);
00018   \textcolor{keyword}{typedef} \hyperlink{class_eigen_1_1_dense_storage}{DenseStorage<T,Size, Rows,Cols, 0>} DenseStorageType;
00019   
00020   \textcolor{keyword}{const} \textcolor{keywordtype}{int} rows = (Rows==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}) ? 4 : Rows;
00021   \textcolor{keyword}{const} \textcolor{keywordtype}{int} cols = (Cols==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}) ? 3 : Cols;
00022   \textcolor{keyword}{const} \textcolor{keywordtype}{int} size = rows*cols;
00023   DenseStorageType reference(size, rows, cols);
00024   \hyperlink{group___sparse_core___module}{T}* raw\_reference = reference.data();
00025   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<size; ++i)
00026     raw\_reference[i] = static\_cast<T>(i);
00027     
00028   DenseStorageType copied\_reference(reference);
00029   \textcolor{keyword}{const} \hyperlink{group___sparse_core___module}{T}* raw\_copied\_reference = copied\_reference.data();
00030   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<size; ++i)
00031     VERIFY\_IS\_EQUAL(raw\_reference[i], raw\_copied\_reference[i]);
00032 \}
00033 
00034 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T, \textcolor{keywordtype}{int} Rows, \textcolor{keywordtype}{int} Cols>
00035 \textcolor{keywordtype}{void} dense\_storage\_assignment()
00036 \{
00037   \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} Size = ((Rows==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} || Cols==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}) ? Dynamic : Rows*Cols);
00038   \textcolor{keyword}{typedef} \hyperlink{class_eigen_1_1_dense_storage}{DenseStorage<T,Size, Rows,Cols, 0>} DenseStorageType;
00039   
00040   \textcolor{keyword}{const} \textcolor{keywordtype}{int} rows = (Rows==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}) ? 4 : Rows;
00041   \textcolor{keyword}{const} \textcolor{keywordtype}{int} cols = (Cols==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}) ? 3 : Cols;
00042   \textcolor{keyword}{const} \textcolor{keywordtype}{int} size = rows*cols;
00043   DenseStorageType reference(size, rows, cols);
00044   \hyperlink{group___sparse_core___module}{T}* raw\_reference = reference.data();
00045   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<size; ++i)
00046     raw\_reference[i] = static\_cast<T>(i);
00047     
00048   DenseStorageType copied\_reference;
00049   copied\_reference = reference;
00050   \textcolor{keyword}{const} \hyperlink{group___sparse_core___module}{T}* raw\_copied\_reference = copied\_reference.data();
00051   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<size; ++i)
00052     VERIFY\_IS\_EQUAL(raw\_reference[i], raw\_copied\_reference[i]);
00053 \}
00054 
00055 \textcolor{keywordtype}{void} test\_dense\_storage()
00056 \{
00057   dense\_storage\_copy<int,Dynamic,Dynamic>();  
00058   dense\_storage\_copy<int,Dynamic,3>();
00059   dense\_storage\_copy<int,4,Dynamic>();
00060   dense\_storage\_copy<int,4,3>();
00061 
00062   dense\_storage\_copy<float,Dynamic,Dynamic>();
00063   dense\_storage\_copy<float,Dynamic,3>();
00064   dense\_storage\_copy<float,4,Dynamic>();  
00065   dense\_storage\_copy<float,4,3>();
00066   
00067   dense\_storage\_assignment<int,Dynamic,Dynamic>();  
00068   dense\_storage\_assignment<int,Dynamic,3>();
00069   dense\_storage\_assignment<int,4,Dynamic>();
00070   dense\_storage\_assignment<int,4,3>();
00071 
00072   dense\_storage\_assignment<float,Dynamic,Dynamic>();
00073   dense\_storage\_assignment<float,Dynamic,3>();
00074   dense\_storage\_assignment<float,4,Dynamic>();  
00075   dense\_storage\_assignment<float,4,3>();  
00076 \}
\end{DoxyCode}
