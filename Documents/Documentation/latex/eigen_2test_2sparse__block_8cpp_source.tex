\hypertarget{eigen_2test_2sparse__block_8cpp_source}{}\section{eigen/test/sparse\+\_\+block.cpp}
\label{eigen_2test_2sparse__block_8cpp_source}\index{sparse\+\_\+block.\+cpp@{sparse\+\_\+block.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2008-2015 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#include "sparse.h"}
00011 
00012 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>
00013 \textcolor{keyword}{typename} 
      \hyperlink{struct_eigen_1_1internal_1_1enable__if}{Eigen::internal::enable\_if<(T::Flags&RowMajorBit)==RowMajorBit, typename T::RowXpr>::type}
00014 innervec(\hyperlink{group___sparse_core___module}{T}& \hyperlink{group___core___module_class_eigen_1_1_matrix}{A}, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} i)
00015 \{
00016   \textcolor{keywordflow}{return} A.\hyperlink{group___sparse_core___module_ae88b0ad6d31daa53e298b9cc4201fdee}{row}(i);
00017 \}
00018 
00019 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>
00020 \textcolor{keyword}{typename} 
      \hyperlink{struct_eigen_1_1internal_1_1enable__if}{Eigen::internal::enable\_if<(T::Flags&RowMajorBit)==0, typename T::ColXpr>::type}
00021 innervec(\hyperlink{group___sparse_core___module}{T}& A, \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} i)
00022 \{
00023   \textcolor{keywordflow}{return} A.\hyperlink{group___sparse_core___module_a3531e3e2098507a069a368d72d46471e}{col}(i);
00024 \}
00025 
00026 \textcolor{keyword}{template}<\textcolor{keyword}{typename} SparseMatrixType> \textcolor{keywordtype}{void} sparse\_block(\textcolor{keyword}{const} SparseMatrixType& ref)
00027 \{
00028   \textcolor{keyword}{const} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rows = ref.rows();
00029   \textcolor{keyword}{const} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} cols = ref.cols();
00030   \textcolor{keyword}{const} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} inner = ref.innerSize();
00031   \textcolor{keyword}{const} \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} outer = ref.outerSize();
00032 
00033   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} SparseMatrixType::Scalar Scalar;
00034   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} SparseMatrixType::StorageIndex StorageIndex;
00035 
00036   \textcolor{keywordtype}{double} density = (std::max)(8./(rows*cols), 0.01);
00037   \textcolor{keyword}{typedef} 
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar,Dynamic,Dynamic,SparseMatrixType::IsRowMajor?RowMajor:ColMajor>}
       \hyperlink{group___core___module}{DenseMatrix};
00038   \textcolor{keyword}{typedef} \hyperlink{group___core___module}{Matrix<Scalar,Dynamic,1>} \hyperlink{group___core___module}{DenseVector};
00039   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar,1,Dynamic>} RowDenseVector;
00040   \textcolor{keyword}{typedef} \hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_vector}{SparseVector<Scalar>} SparseVectorType;
00041 
00042   Scalar s1 = internal::random<Scalar>();
00043   \{
00044     SparseMatrixType m(rows, cols);
00045     DenseMatrix refMat = DenseMatrix::Zero(rows, cols);
00046     initSparse<Scalar>(density, refMat, m);
00047 
00048     VERIFY\_IS\_APPROX(m, refMat);
00049 
00050     \textcolor{comment}{// test InnerIterators and Block expressions}
00051     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} t=0; t<10; ++t)
00052     \{
00053       \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j = internal::random<Index>(0,cols-2);
00054       \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} i = internal::random<Index>(0,rows-2);
00055       \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} w = internal::random<Index>(1,cols-j);
00056       \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} h = internal::random<Index>(1,rows-i);
00057 
00058       VERIFY\_IS\_APPROX(m.block(i,j,h,w), refMat.block(i,j,h,w));
00059       \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} c=0; c<w; c++)
00060       \{
00061         VERIFY\_IS\_APPROX(m.block(i,j,h,w).col(c), refMat.block(i,j,h,w).col(c));
00062         \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} r=0; r<h; r++)
00063         \{
00064           VERIFY\_IS\_APPROX(m.block(i,j,h,w).col(c).coeff(r), refMat.block(i,j,h,w).col(c).coeff(r));
00065           VERIFY\_IS\_APPROX(m.block(i,j,h,w).coeff(r,c), refMat.block(i,j,h,w).coeff(r,c));
00066         \}
00067       \}
00068       \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} r=0; r<h; r++)
00069       \{
00070         VERIFY\_IS\_APPROX(m.block(i,j,h,w).row(r), refMat.block(i,j,h,w).row(r));
00071         \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} c=0; c<w; c++)
00072         \{
00073           VERIFY\_IS\_APPROX(m.block(i,j,h,w).row(r).coeff(c), refMat.block(i,j,h,w).row(r).coeff(c));
00074           VERIFY\_IS\_APPROX(m.block(i,j,h,w).coeff(r,c), refMat.block(i,j,h,w).coeff(r,c));
00075         \}
00076       \}
00077       
00078       VERIFY\_IS\_APPROX(m.middleCols(j,w), refMat.middleCols(j,w));
00079       VERIFY\_IS\_APPROX(m.middleRows(i,h), refMat.middleRows(i,h));
00080       \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} r=0; r<h; r++)
00081       \{
00082         VERIFY\_IS\_APPROX(m.middleCols(j,w).row(r), refMat.middleCols(j,w).row(r));
00083         VERIFY\_IS\_APPROX(m.middleRows(i,h).row(r), refMat.middleRows(i,h).row(r));
00084         \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} c=0; c<w; c++)
00085         \{
00086           VERIFY\_IS\_APPROX(m.col(c).coeff(r), refMat.col(c).coeff(r));
00087           VERIFY\_IS\_APPROX(m.row(r).coeff(c), refMat.row(r).coeff(c));
00088           
00089           VERIFY\_IS\_APPROX(m.middleCols(j,w).coeff(r,c), refMat.middleCols(j,w).coeff(r,c));
00090           VERIFY\_IS\_APPROX(m.middleRows(i,h).coeff(r,c), refMat.middleRows(i,h).coeff(r,c));
00091           \textcolor{keywordflow}{if}(m.middleCols(j,w).coeff(r,c) != Scalar(0))
00092           \{
00093             VERIFY\_IS\_APPROX(m.middleCols(j,w).coeffRef(r,c), refMat.middleCols(j,w).coeff(r,c));
00094           \}
00095           \textcolor{keywordflow}{if}(m.middleRows(i,h).coeff(r,c) != Scalar(0))
00096           \{
00097             VERIFY\_IS\_APPROX(m.middleRows(i,h).coeff(r,c), refMat.middleRows(i,h).coeff(r,c));
00098           \}
00099         \}
00100       \}
00101       \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} c=0; c<w; c++)
00102       \{
00103         VERIFY\_IS\_APPROX(m.middleCols(j,w).col(c), refMat.middleCols(j,w).col(c));
00104         VERIFY\_IS\_APPROX(m.middleRows(i,h).col(c), refMat.middleRows(i,h).col(c));
00105       \}
00106     \}
00107 
00108     \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} c=0; c<cols; c++)
00109     \{
00110       VERIFY\_IS\_APPROX(m.col(c) + m.col(c), (m + m).col(c));
00111       VERIFY\_IS\_APPROX(m.col(c) + m.col(c), refMat.col(c) + refMat.col(c));
00112     \}
00113 
00114     \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} r=0; r<rows; r++)
00115     \{
00116       VERIFY\_IS\_APPROX(m.row(r) + m.row(r), (m + m).row(r));
00117       VERIFY\_IS\_APPROX(m.row(r) + m.row(r), refMat.row(r) + refMat.row(r));
00118     \}
00119   \}
00120 
00121   \textcolor{comment}{// test innerVector()}
00122   \{
00123     DenseMatrix refMat2 = DenseMatrix::Zero(rows, cols);
00124     SparseMatrixType m2(rows, cols);
00125     initSparse<Scalar>(density, refMat2, m2);
00126     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j0 = internal::random<Index>(0,outer-1);
00127     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j1 = internal::random<Index>(0,outer-1);
00128     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} r0 = internal::random<Index>(0,rows-1);
00129     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} c0 = internal::random<Index>(0,cols-1);
00130 
00131     VERIFY\_IS\_APPROX(m2.innerVector(j0), innervec(refMat2,j0));
00132     VERIFY\_IS\_APPROX(m2.innerVector(j0)+m2.innerVector(j1), innervec(refMat2,j0)+innervec(refMat2,j1));
00133 
00134     m2.innerVector(j0) *= Scalar(2);
00135     innervec(refMat2,j0) *= Scalar(2);
00136     VERIFY\_IS\_APPROX(m2, refMat2);
00137 
00138     m2.row(r0) *= Scalar(3);
00139     refMat2.row(r0) *= Scalar(3);
00140     VERIFY\_IS\_APPROX(m2, refMat2);
00141 
00142     m2.col(c0) *= Scalar(4);
00143     refMat2.col(c0) *= Scalar(4);
00144     VERIFY\_IS\_APPROX(m2, refMat2);
00145 
00146     m2.row(r0) /= Scalar(3);
00147     refMat2.row(r0) /= Scalar(3);
00148     VERIFY\_IS\_APPROX(m2, refMat2);
00149 
00150     m2.col(c0) /= Scalar(4);
00151     refMat2.col(c0) /= Scalar(4);
00152     VERIFY\_IS\_APPROX(m2, refMat2);
00153 
00154     SparseVectorType v1;
00155     VERIFY\_IS\_APPROX(v1 = m2.col(c0) * 4, refMat2.col(c0)*4);
00156     VERIFY\_IS\_APPROX(v1 = m2.row(r0) * 4, refMat2.row(r0).transpose()*4);
00157 
00158     SparseMatrixType m3(rows,cols);
00159     m3.reserve(VectorXi::Constant(outer,\textcolor{keywordtype}{int}(inner/2)));
00160     \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j=0; j<outer; ++j)
00161       \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} k=0; k<(std::min)(j,inner); ++k)
00162         m3.insertByOuterInner(j,k) = internal::convert\_index<StorageIndex>(k+1);
00163     \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j=0; j<(std::min)(outer, inner); ++j)
00164     \{
00165       VERIFY(j==numext::real(m3.innerVector(j).nonZeros()));
00166       \textcolor{keywordflow}{if}(j>0)
00167         VERIFY(j==numext::real(m3.innerVector(j).lastCoeff()));
00168     \}
00169     m3.makeCompressed();
00170     \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j=0; j<(std::min)(outer, inner); ++j)
00171     \{
00172       VERIFY(j==numext::real(m3.innerVector(j).nonZeros()));
00173       \textcolor{keywordflow}{if}(j>0)
00174         VERIFY(j==numext::real(m3.innerVector(j).lastCoeff()));
00175     \}
00176 
00177     VERIFY(m3.innerVector(j0).nonZeros() == m3.transpose().innerVector(j0).nonZeros());
00178 
00179 \textcolor{comment}{//     m2.innerVector(j0) = 2*m2.innerVector(j1);}
00180 \textcolor{comment}{//     refMat2.col(j0) = 2*refMat2.col(j1);}
00181 \textcolor{comment}{//     VERIFY\_IS\_APPROX(m2, refMat2);}
00182   \}
00183 
00184   \textcolor{comment}{// test innerVectors()}
00185   \{
00186     DenseMatrix refMat2 = DenseMatrix::Zero(rows, cols);
00187     SparseMatrixType m2(rows, cols);
00188     initSparse<Scalar>(density, refMat2, m2);
00189     \textcolor{keywordflow}{if}(internal::random<float>(0,1)>0.5f) m2.makeCompressed();
00190     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j0 = internal::random<Index>(0,outer-2);
00191     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j1 = internal::random<Index>(0,outer-2);
00192     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} n0 = internal::random<Index>(1,outer-(std::max)(j0,j1));
00193     \textcolor{keywordflow}{if}(SparseMatrixType::IsRowMajor)
00194       VERIFY\_IS\_APPROX(m2.innerVectors(j0,n0), refMat2.block(j0,0,n0,cols));
00195     \textcolor{keywordflow}{else}
00196       VERIFY\_IS\_APPROX(m2.innerVectors(j0,n0), refMat2.block(0,j0,rows,n0));
00197     \textcolor{keywordflow}{if}(SparseMatrixType::IsRowMajor)
00198       VERIFY\_IS\_APPROX(m2.innerVectors(j0,n0)+m2.innerVectors(j1,n0),
00199                        refMat2.middleRows(j0,n0)+refMat2.middleRows(j1,n0));
00200     \textcolor{keywordflow}{else}
00201       VERIFY\_IS\_APPROX(m2.innerVectors(j0,n0)+m2.innerVectors(j1,n0),
00202                       refMat2.block(0,j0,rows,n0)+refMat2.block(0,j1,rows,n0));
00203     
00204     VERIFY\_IS\_APPROX(m2, refMat2);
00205     
00206     VERIFY(m2.innerVectors(j0,n0).nonZeros() == m2.transpose().innerVectors(j0,n0).nonZeros());
00207     
00208     m2.innerVectors(j0,n0) = m2.innerVectors(j0,n0) + m2.innerVectors(j1,n0);
00209     \textcolor{keywordflow}{if}(SparseMatrixType::IsRowMajor)
00210       refMat2.middleRows(j0,n0) = (refMat2.middleRows(j0,n0) + refMat2.middleRows(j1,n0)).eval();
00211     \textcolor{keywordflow}{else}
00212       refMat2.middleCols(j0,n0) = (refMat2.middleCols(j0,n0) + refMat2.middleCols(j1,n0)).eval();
00213     
00214     VERIFY\_IS\_APPROX(m2, refMat2);
00215   \}
00216 
00217   \textcolor{comment}{// test generic blocks}
00218   \{
00219     DenseMatrix refMat2 = DenseMatrix::Zero(rows, cols);
00220     SparseMatrixType m2(rows, cols);
00221     initSparse<Scalar>(density, refMat2, m2);
00222     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j0 = internal::random<Index>(0,outer-2);
00223     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j1 = internal::random<Index>(0,outer-2);
00224     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} n0 = internal::random<Index>(1,outer-(std::max)(j0,j1));
00225     \textcolor{keywordflow}{if}(SparseMatrixType::IsRowMajor)
00226       VERIFY\_IS\_APPROX(m2.block(j0,0,n0,cols), refMat2.block(j0,0,n0,cols));
00227     \textcolor{keywordflow}{else}
00228       VERIFY\_IS\_APPROX(m2.block(0,j0,rows,n0), refMat2.block(0,j0,rows,n0));
00229     
00230     \textcolor{keywordflow}{if}(SparseMatrixType::IsRowMajor)
00231       VERIFY\_IS\_APPROX(m2.block(j0,0,n0,cols)+m2.block(j1,0,n0,cols),
00232                       refMat2.block(j0,0,n0,cols)+refMat2.block(j1,0,n0,cols));
00233     \textcolor{keywordflow}{else}
00234       VERIFY\_IS\_APPROX(m2.block(0,j0,rows,n0)+m2.block(0,j1,rows,n0),
00235                       refMat2.block(0,j0,rows,n0)+refMat2.block(0,j1,rows,n0));
00236       
00237     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} i = internal::random<Index>(0,m2.outerSize()-1);
00238     \textcolor{keywordflow}{if}(SparseMatrixType::IsRowMajor) \{
00239       m2.innerVector(i) = m2.innerVector(i) * s1;
00240       refMat2.row(i) = refMat2.row(i) * s1;
00241       VERIFY\_IS\_APPROX(m2,refMat2);
00242     \} \textcolor{keywordflow}{else} \{
00243       m2.innerVector(i) = m2.innerVector(i) * s1;
00244       refMat2.col(i) = refMat2.col(i) * s1;
00245       VERIFY\_IS\_APPROX(m2,refMat2);
00246     \}
00247     
00248     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} r0 = internal::random<Index>(0,rows-2);
00249     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} c0 = internal::random<Index>(0,cols-2);
00250     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} r1 = internal::random<Index>(1,rows-r0);
00251     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} c1 = internal::random<Index>(1,cols-c0);
00252     
00253     VERIFY\_IS\_APPROX(DenseVector(m2.col(c0)), refMat2.col(c0));
00254     VERIFY\_IS\_APPROX(m2.col(c0), refMat2.col(c0));
00255     
00256     VERIFY\_IS\_APPROX(RowDenseVector(m2.row(r0)), refMat2.row(r0));
00257     VERIFY\_IS\_APPROX(m2.row(r0), refMat2.row(r0));
00258 
00259     VERIFY\_IS\_APPROX(m2.block(r0,c0,r1,c1), refMat2.block(r0,c0,r1,c1));
00260     VERIFY\_IS\_APPROX((2*m2).block(r0,c0,r1,c1), (2*refMat2).block(r0,c0,r1,c1));
00261 
00262     \textcolor{keywordflow}{if}(m2.nonZeros()>0)
00263     \{
00264       VERIFY\_IS\_APPROX(m2, refMat2);
00265       SparseMatrixType m3(rows, cols);
00266       DenseMatrix refMat3(rows, cols); refMat3.setZero();
00267       \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} n = internal::random<Index>(1,10);
00268       \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} k=0; k<n; ++k)
00269       \{
00270         \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} o1 = internal::random<Index>(0,outer-1);
00271         \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} o2 = internal::random<Index>(0,outer-1);
00272         \textcolor{keywordflow}{if}(SparseMatrixType::IsRowMajor)
00273         \{
00274           m3.innerVector(o1) = m2.row(o2);
00275           refMat3.row(o1) = refMat2.row(o2);
00276         \}
00277         \textcolor{keywordflow}{else}
00278         \{
00279           m3.innerVector(o1) = m2.col(o2);
00280           refMat3.col(o1) = refMat2.col(o2);
00281         \}
00282         \textcolor{keywordflow}{if}(internal::random<bool>())
00283           m3.makeCompressed();
00284       \}
00285       \textcolor{keywordflow}{if}(m3.nonZeros()>0)
00286       VERIFY\_IS\_APPROX(m3, refMat3);
00287     \}
00288   \}
00289 \}
00290 
00291 \textcolor{keywordtype}{void} test\_sparse\_block()
00292 \{
00293   \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < g\_repeat; i++) \{
00294     \textcolor{keywordtype}{int} r = Eigen::internal::random<int>(1,200), c = Eigen::internal::random<int>(1,200);
00295     \textcolor{keywordflow}{if}(Eigen::internal::random<int>(0,4) == 0) \{
00296       r = c; \textcolor{comment}{// check square matrices in 25% of tries}
00297     \}
00298     EIGEN\_UNUSED\_VARIABLE(r+c);
00299     CALL\_SUBTEST\_1(( sparse\_block(\hyperlink{group___sparse_core___module}{SparseMatrix<double>}(1, 1)) ));
00300     CALL\_SUBTEST\_1(( sparse\_block(\hyperlink{group___sparse_core___module}{SparseMatrix<double>}(8, 8)) ));
00301     CALL\_SUBTEST\_1(( sparse\_block(\hyperlink{group___sparse_core___module}{SparseMatrix<double>}(r, c)) ));
00302     CALL\_SUBTEST\_2(( sparse\_block(\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix}<std::complex<double>, 
      \hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0cbd4bdd0abcfc0224c5fcb5e4f6669a}{ColMajor}>(r, c)) ));
00303     CALL\_SUBTEST\_2(( sparse\_block(\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix}<std::complex<double>, 
      \hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13acfcde9cd8677c5f7caf6bd603666aae3}{RowMajor}>(r, c)) ));
00304     
00305     CALL\_SUBTEST\_3(( sparse\_block(\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix<double,ColMajor,long int>}
      (r, c)) ));
00306     CALL\_SUBTEST\_3(( sparse\_block(\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix<double,RowMajor,long int>}
      (r, c)) ));
00307     
00308     r = Eigen::internal::random<int>(1,100);
00309     c = Eigen::internal::random<int>(1,100);
00310     \textcolor{keywordflow}{if}(Eigen::internal::random<int>(0,4) == 0) \{
00311       r = c; \textcolor{comment}{// check square matrices in 25% of tries}
00312     \}
00313     
00314     CALL\_SUBTEST\_4(( sparse\_block(\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix<double,ColMajor,short int>}
      (\textcolor{keywordtype}{short}(r), \textcolor{keywordtype}{short}(c))) ));
00315     CALL\_SUBTEST\_4(( sparse\_block(\hyperlink{group___sparse_core___module_class_eigen_1_1_sparse_matrix}{SparseMatrix<double,RowMajor,short int>}
      (\textcolor{keywordtype}{short}(r), \textcolor{keywordtype}{short}(c))) ));
00316   \}
00317 \}
\end{DoxyCode}
