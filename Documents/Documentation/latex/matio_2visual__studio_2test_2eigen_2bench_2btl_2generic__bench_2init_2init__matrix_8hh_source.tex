\hypertarget{matio_2visual__studio_2test_2eigen_2bench_2btl_2generic__bench_2init_2init__matrix_8hh_source}{}\section{matio/visual\+\_\+studio/test/eigen/bench/btl/generic\+\_\+bench/init/init\+\_\+matrix.hh}
\label{matio_2visual__studio_2test_2eigen_2bench_2btl_2generic__bench_2init_2init__matrix_8hh_source}\index{init\+\_\+matrix.\+hh@{init\+\_\+matrix.\+hh}}

\begin{DoxyCode}
00001 \textcolor{comment}{//=====================================================}
00002 \textcolor{comment}{// File   :  init\_matrix.hh}
00003 \textcolor{comment}{// Author :  L. Plagne <laurent.plagne@edf.fr)>}
00004 \textcolor{comment}{// Copyright (C) EDF R&D,  lun sep 30 14:23:19 CEST 2002}
00005 \textcolor{comment}{//=====================================================}
00006 \textcolor{comment}{//}
00007 \textcolor{comment}{// This program is free software; you can redistribute it and/or}
00008 \textcolor{comment}{// modify it under the terms of the GNU General Public License}
00009 \textcolor{comment}{// as published by the Free Software Foundation; either version 2}
00010 \textcolor{comment}{// of the License, or (at your option) any later version.}
00011 \textcolor{comment}{//}
00012 \textcolor{comment}{// This program is distributed in the hope that it will be useful,}
00013 \textcolor{comment}{// but WITHOUT ANY WARRANTY; without even the implied warranty of}
00014 \textcolor{comment}{// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the}
00015 \textcolor{comment}{// GNU General Public License for more details.}
00016 \textcolor{comment}{// You should have received a copy of the GNU General Public License}
00017 \textcolor{comment}{// along with this program; if not, write to the Free Software}
00018 \textcolor{comment}{// Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.}
00019 \textcolor{comment}{//}
00020 \textcolor{preprocessor}{#ifndef INIT\_MATRIX\_HH}
00021 \textcolor{preprocessor}{#define INIT\_MATRIX\_HH}
00022 
00023 \textcolor{comment}{// The Vector class must satisfy the following part of STL vector concept :}
00024 \textcolor{comment}{//            resize() method}
00025 \textcolor{comment}{//            [] operator for setting element}
00026 \textcolor{comment}{//            value\_type defined}
00027 \textcolor{keyword}{template}<\textcolor{keywordtype}{double} init\_function(\textcolor{keywordtype}{int},\textcolor{keywordtype}{int}), \textcolor{keyword}{class} Vector>
00028 BTL\_DONT\_INLINE \textcolor{keywordtype}{void} init\_row(Vector & X, \textcolor{keywordtype}{int} size, \textcolor{keywordtype}{int} row)\{
00029 
00030   X.resize(size);
00031 
00032   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} j=0;j<X.size();j++)\{
00033     X[j]=\textcolor{keyword}{typename} Vector::value\_type(init\_function(row,j));
00034   \}
00035 \}
00036 
00037 
00038 \textcolor{comment}{// Matrix is a Vector of Vector}
00039 \textcolor{comment}{// The Matrix class must satisfy the following part of STL vector concept :}
00040 \textcolor{comment}{//            resize() method}
00041 \textcolor{comment}{//            [] operator for setting rows}
00042 \textcolor{keyword}{template}<\textcolor{keywordtype}{double} init\_function(\textcolor{keywordtype}{int},\textcolor{keywordtype}{int}),\textcolor{keyword}{class} Vector>
00043 BTL\_DONT\_INLINE \textcolor{keywordtype}{void} init\_matrix(Vector &  A, \textcolor{keywordtype}{int} size)\{
00044   A.resize(size);
00045   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} row=0; row<A.size() ; row++)\{
00046     init\_row<init\_function>(A[row],size,row);
00047   \}
00048 \}
00049 
00050 \textcolor{keyword}{template}<\textcolor{keywordtype}{double} init\_function(\textcolor{keywordtype}{int},\textcolor{keywordtype}{int}),\textcolor{keyword}{class} Matrix>
00051 BTL\_DONT\_INLINE \textcolor{keywordtype}{void} init\_matrix\_symm(Matrix&  A, \textcolor{keywordtype}{int} size)\{
00052   A.resize(size);
00053   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} row=0; row<A.size() ; row++)
00054     A[row].resize(size);
00055   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} row=0; row<A.size() ; row++)\{
00056     A[row][row] = init\_function(row,row);
00057     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} col=0; col<row ; col++)\{
00058       \textcolor{keywordtype}{double} x = init\_function(row,col);
00059       A[row][col] = A[col][row] = x;
00060     \}
00061   \}
00062 \}
00063 
00064 \textcolor{preprocessor}{#endif}
\end{DoxyCode}
