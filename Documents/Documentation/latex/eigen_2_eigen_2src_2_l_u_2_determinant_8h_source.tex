\hypertarget{eigen_2_eigen_2src_2_l_u_2_determinant_8h_source}{}\section{eigen/\+Eigen/src/\+L\+U/\+Determinant.h}
\label{eigen_2_eigen_2src_2_l_u_2_determinant_8h_source}\index{Determinant.\+h@{Determinant.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2008 Benoit Jacob <jacob.benoit.1@gmail.com>}
00005 \textcolor{comment}{//}
00006 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00007 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00008 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00009 
00010 \textcolor{preprocessor}{#ifndef EIGEN\_DETERMINANT\_H}
00011 \textcolor{preprocessor}{#define EIGEN\_DETERMINANT\_H}
00012 
00013 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{ 
00014 
00015 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00016 
00017 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
00018 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keyword}{typename} Derived::Scalar bruteforce\_det3\_helper
00019 (\textcolor{keyword}{const} MatrixBase<Derived>& matrix, \textcolor{keywordtype}{int} a, \textcolor{keywordtype}{int} b, \textcolor{keywordtype}{int} c)
00020 \{
00021   \textcolor{keywordflow}{return} matrix.coeff(0,a)
00022          * (matrix.coeff(1,b) * matrix.coeff(2,c) - matrix.coeff(1,c) * matrix.coeff(2,b));
00023 \}
00024 
00025 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
00026 \textcolor{keyword}{const} \textcolor{keyword}{typename} Derived::Scalar bruteforce\_det4\_helper
00027 (\textcolor{keyword}{const} MatrixBase<Derived>& matrix, \textcolor{keywordtype}{int} j, \textcolor{keywordtype}{int} k, \textcolor{keywordtype}{int} m, \textcolor{keywordtype}{int} n)
00028 \{
00029   \textcolor{keywordflow}{return} (matrix.coeff(j,0) * matrix.coeff(k,1) - matrix.coeff(k,0) * matrix.coeff(j,1))
00030        * (matrix.coeff(m,2) * matrix.coeff(n,3) - matrix.coeff(n,2) * matrix.coeff(m,3));
00031 \}
00032 
00033 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived,
00034          \textcolor{keywordtype}{int} DeterminantType = Derived::RowsAtCompileTime
\Hypertarget{eigen_2_eigen_2src_2_l_u_2_determinant_8h_source_l00035}\hyperlink{struct_eigen_1_1internal_1_1determinant__impl}{00035} > \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1determinant__impl}{determinant\_impl}
00036 \{
00037   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits<Derived>::Scalar} run(\textcolor{keyword}{const} Derived& m)
00038   \{
00039     \textcolor{keywordflow}{if}(Derived::ColsAtCompileTime==\hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} && m.rows()==0)
00040       \textcolor{keywordflow}{return} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits<Derived>::Scalar}(1);
00041     \textcolor{keywordflow}{return} m.partialPivLu().determinant();
00042   \}
00043 \};
00044 
\Hypertarget{eigen_2_eigen_2src_2_l_u_2_determinant_8h_source_l00045}\hyperlink{struct_eigen_1_1internal_1_1determinant__impl_3_01_derived_00_011_01_4}{00045} \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived> \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1determinant__impl}{determinant\_impl}<Derived, 1>
00046 \{
00047   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits<Derived>::Scalar} run(\textcolor{keyword}{const} Derived& m)
00048   \{
00049     \textcolor{keywordflow}{return} m.coeff(0,0);
00050   \}
00051 \};
00052 
\Hypertarget{eigen_2_eigen_2src_2_l_u_2_determinant_8h_source_l00053}\hyperlink{struct_eigen_1_1internal_1_1determinant__impl_3_01_derived_00_012_01_4}{00053} \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived> \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1determinant__impl}{determinant\_impl}<Derived, 2>
00054 \{
00055   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits<Derived>::Scalar} run(\textcolor{keyword}{const} Derived& m)
00056   \{
00057     \textcolor{keywordflow}{return} m.coeff(0,0) * m.coeff(1,1) - m.coeff(1,0) * m.coeff(0,1);
00058   \}
00059 \};
00060 
\Hypertarget{eigen_2_eigen_2src_2_l_u_2_determinant_8h_source_l00061}\hyperlink{struct_eigen_1_1internal_1_1determinant__impl_3_01_derived_00_013_01_4}{00061} \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived> \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1determinant__impl}{determinant\_impl}<Derived, 3>
00062 \{
00063   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits<Derived>::Scalar} run(\textcolor{keyword}{const} Derived& m)
00064   \{
00065     \textcolor{keywordflow}{return} bruteforce\_det3\_helper(m,0,1,2)
00066           - bruteforce\_det3\_helper(m,1,0,2)
00067           + bruteforce\_det3\_helper(m,2,0,1);
00068   \}
00069 \};
00070 
\Hypertarget{eigen_2_eigen_2src_2_l_u_2_determinant_8h_source_l00071}\hyperlink{struct_eigen_1_1internal_1_1determinant__impl_3_01_derived_00_014_01_4}{00071} \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived> \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1determinant__impl}{determinant\_impl}<Derived, 4>
00072 \{
00073   \textcolor{keyword}{static} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits<Derived>::Scalar} run(\textcolor{keyword}{const} Derived& m)
00074   \{
00075     \textcolor{comment}{// trick by Martin Costabel to compute 4x4 det with only 30 muls}
00076     \textcolor{keywordflow}{return} bruteforce\_det4\_helper(m,0,1,2,3)
00077           - bruteforce\_det4\_helper(m,0,2,1,3)
00078           + bruteforce\_det4\_helper(m,0,3,1,2)
00079           + bruteforce\_det4\_helper(m,1,2,0,3)
00080           - bruteforce\_det4\_helper(m,1,3,0,2)
00081           + bruteforce\_det4\_helper(m,2,3,0,1);
00082   \}
00083 \};
00084 
00085 \} \textcolor{comment}{// end namespace internal}
00086 
00091 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
\Hypertarget{eigen_2_eigen_2src_2_l_u_2_determinant_8h_source_l00092}\hyperlink{group___core___module_a7ad8f77004bb956b603bb43fd2e3c061}{00092} \textcolor{keyword}{inline} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar} 
      \hyperlink{group___core___module_a7ad8f77004bb956b603bb43fd2e3c061}{MatrixBase<Derived>::determinant}()\textcolor{keyword}{ const}
00093 \textcolor{keyword}{}\{
00094   eigen\_assert(rows() == cols());
00095   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{class_eigen_1_1internal_1_1_tensor_lazy_evaluator_writable}{internal::nested\_eval<Derived,Base::RowsAtCompileTime>::type}
       Nested;
00096   \textcolor{keywordflow}{return} \hyperlink{struct_eigen_1_1internal_1_1determinant__impl}{internal::determinant\_impl<typename internal::remove\_all<Nested>::type}
      >::run(derived());
00097 \}
00098 
00099 \} \textcolor{comment}{// end namespace Eigen}
00100 
00101 \textcolor{preprocessor}{#endif // EIGEN\_DETERMINANT\_H}
\end{DoxyCode}
