\hypertarget{eigen_2bench_2btl_2generic__bench_2static_2bench__static_8hh_source}{}\section{eigen/bench/btl/generic\+\_\+bench/static/bench\+\_\+static.hh}
\label{eigen_2bench_2btl_2generic__bench_2static_2bench__static_8hh_source}\index{bench\+\_\+static.\+hh@{bench\+\_\+static.\+hh}}

\begin{DoxyCode}
00001 \textcolor{comment}{//=====================================================}
00002 \textcolor{comment}{// File   :  bench\_static.hh}
00003 \textcolor{comment}{// Author :  L. Plagne <laurent.plagne@edf.fr)>}
00004 \textcolor{comment}{// Copyright (C) EDF R&D,  lun sep 30 14:23:16 CEST 2002}
00005 \textcolor{comment}{//=====================================================}
00006 \textcolor{comment}{//}
00007 \textcolor{comment}{// This program is free software; you can redistribute it and/or}
00008 \textcolor{comment}{// modify it under the terms of the GNU General Public License}
00009 \textcolor{comment}{// as published by the Free Software Foundation; either version 2}
00010 \textcolor{comment}{// of the License, or (at your option) any later version.}
00011 \textcolor{comment}{//}
00012 \textcolor{comment}{// This program is distributed in the hope that it will be useful,}
00013 \textcolor{comment}{// but WITHOUT ANY WARRANTY; without even the implied warranty of}
00014 \textcolor{comment}{// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the}
00015 \textcolor{comment}{// GNU General Public License for more details.}
00016 \textcolor{comment}{// You should have received a copy of the GNU General Public License}
00017 \textcolor{comment}{// along with this program; if not, write to the Free Software}
00018 \textcolor{comment}{// Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.}
00019 \textcolor{comment}{//}
00020 \textcolor{preprocessor}{#ifndef BENCH\_STATIC\_HH}
00021 \textcolor{preprocessor}{#define BENCH\_STATIC\_HH}
00022 
00023 \textcolor{preprocessor}{#include "btl.hh"}
00024 \textcolor{preprocessor}{#include "bench\_parameter.hh"}
00025 \textcolor{preprocessor}{#include <iostream>}
00026 \textcolor{preprocessor}{#include "utilities.h"}
00027 \textcolor{preprocessor}{#include "xy\_file.hh"}
00028 \textcolor{preprocessor}{#include "static/static\_size\_generator.hh"}
00029 \textcolor{preprocessor}{#include "timers/portable\_perf\_analyzer.hh"}
00030 \textcolor{comment}{// #include "timers/mixed\_perf\_analyzer.hh"}
00031 \textcolor{comment}{// #include "timers/x86\_perf\_analyzer.hh"}
00032 
00033 \textcolor{keyword}{using namespace }\hyperlink{namespacestd}{std};
00034 
00035 
00036 \textcolor{keyword}{template} <\textcolor{keyword}{template}<\textcolor{keyword}{class}> \textcolor{keyword}{class }Perf\_Analyzer, \textcolor{keyword}{template}<\textcolor{keyword}{class}> \textcolor{keyword}{class }Action, \textcolor{keyword}{template}<\textcolor{keyword}{class},\textcolor{keywordtype}{int}> \textcolor{keyword}{class }
      Interface>
00037 BTL\_DONT\_INLINE  \textcolor{keywordtype}{void} bench\_static(\textcolor{keywordtype}{void})
00038 \{
00039   \textcolor{keywordflow}{if} (BtlConfig::skipAction(Action<Interface<REAL\_TYPE,10> >::name()))
00040     \textcolor{keywordflow}{return};
00041 
00042   \textcolor{keywordtype}{string} filename = \textcolor{stringliteral}{"bench\_"} + Action<Interface<REAL\_TYPE,10> >::name() + \textcolor{stringliteral}{".dat"};
00043 
00044   INFOS(\textcolor{stringliteral}{"starting "} << filename);
00045 
00046   \textcolor{keyword}{const} \textcolor{keywordtype}{int} max\_size = TINY\_MV\_MAX\_SIZE;
00047 
00048   std::vector<double> tab\_mflops;
00049   std::vector<double> tab\_sizes;
00050 
00051   \hyperlink{structstatic__size__generator}{static\_size\_generator<max\_size,Perf\_Analyzer,Action,Interface>::go}
      (tab\_sizes,tab\_mflops);
00052 
00053   dump\_xy\_file(tab\_sizes,tab\_mflops,filename);
00054 \}
00055 
00056 \textcolor{comment}{// default Perf Analyzer}
00057 \textcolor{keyword}{template} <\textcolor{keyword}{template}<\textcolor{keyword}{class}> \textcolor{keyword}{class }Action, \textcolor{keyword}{template}<\textcolor{keyword}{class},\textcolor{keywordtype}{int}> \textcolor{keyword}{class }Interface>
00058 BTL\_DONT\_INLINE  \textcolor{keywordtype}{void} bench\_static(\textcolor{keywordtype}{void})
00059 \{
00060   bench\_static<Portable\_Perf\_Analyzer,Action,Interface>();
00061   \textcolor{comment}{//bench\_static<Mixed\_Perf\_Analyzer,Action,Interface>();}
00062   \textcolor{comment}{//bench\_static<X86\_Perf\_Analyzer,Action,Interface>();}
00063 \}
00064 
00065 \textcolor{preprocessor}{#endif}
00066 
00067 
00068 
00069 
00070 
00071 
00072 
00073 
00074 
00075 
00076 
00077 
00078 
00079 
00080 
\end{DoxyCode}
