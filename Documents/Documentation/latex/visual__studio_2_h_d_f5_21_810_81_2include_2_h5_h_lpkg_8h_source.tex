\hypertarget{visual__studio_2_h_d_f5_21_810_81_2include_2_h5_h_lpkg_8h_source}{}\section{visual\+\_\+studio/\+H\+D\+F5/1.10.1/include/\+H5\+H\+Lpkg.h}
\label{visual__studio_2_h_d_f5_21_810_81_2include_2_h5_h_lpkg_8h_source}\index{H5\+H\+Lpkg.\+h@{H5\+H\+Lpkg.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *}
00002 \textcolor{comment}{ * Copyright by The HDF Group.                                               *}
00003 \textcolor{comment}{ * Copyright by the Board of Trustees of the University of Illinois.         *}
00004 \textcolor{comment}{ * All rights reserved.                                                      *}
00005 \textcolor{comment}{ *                                                                           *}
00006 \textcolor{comment}{ * This file is part of HDF5.  The full HDF5 copyright notice, including     *}
00007 \textcolor{comment}{ * terms governing use, modification, and redistribution, is contained in    *}
00008 \textcolor{comment}{ * the COPYING file, which can be found at the root of the source code       *}
00009 \textcolor{comment}{ * distribution tree, or in https://support.hdfgroup.org/ftp/HDF5/releases.  *}
00010 \textcolor{comment}{ * If you do not have access to either file, you may request a copy from     *}
00011 \textcolor{comment}{ * help@hdfgroup.org.                                                        *}
00012 \textcolor{comment}{ * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */}
00013 
00014 \textcolor{comment}{/*}
00015 \textcolor{comment}{ * Programmer: Quincey Koziol <koziol@hdfgroup.org>}
00016 \textcolor{comment}{ *             Wednesday, July 9, 2003}
00017 \textcolor{comment}{ *}
00018 \textcolor{comment}{ * Purpose:     This file contains declarations which are visible}
00019 \textcolor{comment}{ *              only within the H5HL package. Source files outside the}
00020 \textcolor{comment}{ *              H5HL package should include H5HLprivate.h instead.}
00021 \textcolor{comment}{ */}
00022 \textcolor{preprocessor}{#if !(defined H5HL\_FRIEND || defined H5HL\_MODULE)}
00023 \textcolor{preprocessor}{#error "Do not include this file outside the H5HL package!"}
00024 \textcolor{preprocessor}{#endif}
00025 
00026 \textcolor{preprocessor}{#ifndef \_H5HLpkg\_H}
00027 \textcolor{preprocessor}{#define \_H5HLpkg\_H}
00028 
00029 \textcolor{comment}{/* Get package's private header */}
00030 \textcolor{preprocessor}{#include "H5HLprivate.h"}
00031 
00032 \textcolor{comment}{/* Other private headers needed by this file */}
00033 \textcolor{preprocessor}{#include "H5FLprivate.h"}    \textcolor{comment}{/* Free lists                           */}
00034 
00035 
00036 \textcolor{comment}{/*****************************/}
00037 \textcolor{comment}{/* Package Private Variables */}
00038 \textcolor{comment}{/*****************************/}
00039 
00040 \textcolor{comment}{/* Declare extern the free list to manage the H5HL\_free\_t struct */}
00041 H5FL\_EXTERN(\hyperlink{struct_h5_h_l__free__t}{H5HL\_free\_t});
00042 
00043 \textcolor{comment}{/* Declare extern the PQ free list to manage the heap chunk information */}
00044 H5FL\_BLK\_EXTERN(lheap\_chunk);
00045 
00046 
00047 \textcolor{comment}{/**************************/}
00048 \textcolor{comment}{/* Package Private Macros */}
00049 \textcolor{comment}{/**************************/}
00050 
00051 \textcolor{comment}{/* If this package header is being included in one of the H5HL source files,}
00052 \textcolor{comment}{ *      define the proper control macros for the generic FUNC\_ENTER/LEAVE and}
00053 \textcolor{comment}{ *      error reporting macros.}
00054 \textcolor{comment}{ */}
00055 \textcolor{preprocessor}{#ifdef H5HL\_PACKAGE}
00056 \textcolor{preprocessor}{#define H5\_MY\_PKG       H5HL}
00057 \textcolor{preprocessor}{#define H5\_MY\_PKG\_ERR   H5E\_HEAP}
00058 \textcolor{preprocessor}{#define H5\_MY\_PKG\_INIT  NO}
00059 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* H5HL\_PACKAGE */}\textcolor{preprocessor}{}
00060 
00061 \textcolor{preprocessor}{#define H5HL\_SIZEOF\_HDR(F)                                                  \(\backslash\)}
00062 \textcolor{preprocessor}{    H5HL\_ALIGN(H5\_SIZEOF\_MAGIC +    }\textcolor{comment}{/* heap signature   */}\textcolor{preprocessor}{                  \(\backslash\)}
00063 \textcolor{preprocessor}{        1 +                         }\textcolor{comment}{/* version          */}\textcolor{preprocessor}{                  \(\backslash\)}
00064 \textcolor{preprocessor}{        3 +                         }\textcolor{comment}{/* reserved         */}\textcolor{preprocessor}{                  \(\backslash\)}
00065 \textcolor{preprocessor}{        H5F\_SIZEOF\_SIZE(F) +        }\textcolor{comment}{/* data size        */}\textcolor{preprocessor}{                  \(\backslash\)}
00066 \textcolor{preprocessor}{        H5F\_SIZEOF\_SIZE(F) +        }\textcolor{comment}{/* free list head   */}\textcolor{preprocessor}{                  \(\backslash\)}
00067 \textcolor{preprocessor}{        H5F\_SIZEOF\_ADDR(F))         }\textcolor{comment}{/* data address     */}\textcolor{preprocessor}{}
00068 
00069 \textcolor{comment}{/* Value indicating end of free list on disk */}
00070 \textcolor{preprocessor}{#define H5HL\_FREE\_NULL  1}
00071 
00072 
00073 \textcolor{comment}{/****************************/}
00074 \textcolor{comment}{/* Package Private Typedefs */}
00075 \textcolor{comment}{/****************************/}
00076 
00077 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_h_l__free__t}{H5HL\_free\_t} \{
00078     \textcolor{keywordtype}{size\_t}              offset;     \textcolor{comment}{/* offset of free block         */}
00079     \textcolor{keywordtype}{size\_t}              size;       \textcolor{comment}{/* size of free block           */}
00080     \textcolor{keyword}{struct }\hyperlink{struct_h5_h_l__free__t}{H5HL\_free\_t}  *prev;      \textcolor{comment}{/* previous entry in free list  */}
00081     \textcolor{keyword}{struct }\hyperlink{struct_h5_h_l__free__t}{H5HL\_free\_t}  *next;      \textcolor{comment}{/* next entry in free list      */}
00082 \} \hyperlink{struct_h5_h_l__free__t}{H5HL\_free\_t};
00083 
00084 \textcolor{comment}{/* Forward declarations */}
00085 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_h_l__dblk__t}{H5HL\_dblk\_t} \hyperlink{struct_h5_h_l__dblk__t}{H5HL\_dblk\_t};
00086 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_h_l__prfx__t}{H5HL\_prfx\_t} \hyperlink{struct_h5_h_l__prfx__t}{H5HL\_prfx\_t};
00087 
00088 \textcolor{keyword}{struct }\hyperlink{struct_h5_h_l__t}{H5HL\_t} \{
00089     \textcolor{comment}{/* General heap-management fields */}
00090     \textcolor{keywordtype}{size\_t}          rc;                 \textcolor{comment}{/* Ref. count for prefix & data block using this struct         */}
00091     \textcolor{keywordtype}{size\_t}          prots;              \textcolor{comment}{/* # of times the heap has been protected                       */}
00092     \textcolor{keywordtype}{size\_t}          sizeof\_size;        \textcolor{comment}{/* Size of file sizes                                           */}
00093     \textcolor{keywordtype}{size\_t}          sizeof\_addr;        \textcolor{comment}{/* Size of file addresses                                       */}
00094     hbool\_t         single\_cache\_obj;   \textcolor{comment}{/* Indicate if the heap is a single object in the cache         */}
00095     \hyperlink{struct_h5_h_l__free__t}{H5HL\_free\_t}     *freelist;          \textcolor{comment}{/* the free list                                        
              */}
00096 
00097     \textcolor{comment}{/* Prefix-specific fields */}
00098     \hyperlink{struct_h5_h_l__prfx__t}{H5HL\_prfx\_t}     *prfx;              \textcolor{comment}{/* The prefix object for the heap                       
      */}
00099     haddr\_t         prfx\_addr;          \textcolor{comment}{/* address of heap prefix                               */}
00100     \textcolor{keywordtype}{size\_t}          prfx\_size;          \textcolor{comment}{/* size of heap prefix                                  */}
00101     hsize\_t         free\_block;         \textcolor{comment}{/* Address of first free block                          */}
00102 
00103     \textcolor{comment}{/* Data block-specific fields */}
00104     \hyperlink{struct_h5_h_l__dblk__t}{H5HL\_dblk\_t}     *dblk;              \textcolor{comment}{/* The data block object for the heap                   
      */}
00105     haddr\_t         dblk\_addr;          \textcolor{comment}{/* address of data block                                */}
00106     \textcolor{keywordtype}{size\_t}          dblk\_size;          \textcolor{comment}{/* size of heap data block on disk and in mem           */}
00107     uint8\_t         *dblk\_image;        \textcolor{comment}{/* The data block image                                 */}
00108 \};
00109 
00110 \textcolor{comment}{/* Struct for heap data block */}
00111 \textcolor{keyword}{struct }\hyperlink{struct_h5_h_l__dblk__t}{H5HL\_dblk\_t} \{
00112     H5AC\_info\_t     cache\_info;         \textcolor{comment}{/* Information for H5AC cache functions, \_must\_ be      */}
00113                                         \textcolor{comment}{/* first field in structure                             */}
00114     \hyperlink{struct_h5_h_l__t}{H5HL\_t}          *heap;              \textcolor{comment}{/* Pointer to heap for data block                       */}
00115 \};
00116 
00117 \textcolor{comment}{/* Struct for heap prefix */}
00118 \textcolor{keyword}{struct }\hyperlink{struct_h5_h_l__prfx__t}{H5HL\_prfx\_t} \{
00119     H5AC\_info\_t     cache\_info;         \textcolor{comment}{/* Information for H5AC cache functions, \_must\_ be      */}
00120                                         \textcolor{comment}{/* first field in structure                             */}
00121     \hyperlink{struct_h5_h_l__t}{H5HL\_t}          *heap;              \textcolor{comment}{/* Pointer to heap for prefix                           */}
00122 \};
00123 
00124 \textcolor{comment}{/* Callback information for loading local heap prefix from disk */}
00125 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_h5_h_l__cache__prfx__ud__t}{H5HL\_cache\_prfx\_ud\_t} \{
00126     \textcolor{keywordtype}{size\_t} sizeof\_size;                 \textcolor{comment}{/* Size of file sizes */}
00127     \textcolor{keywordtype}{size\_t} sizeof\_addr;                 \textcolor{comment}{/* Size of file addresses */}
00128     haddr\_t prfx\_addr;                  \textcolor{comment}{/* Address of prefix */}
00129     \textcolor{keywordtype}{size\_t} sizeof\_prfx;                 \textcolor{comment}{/* Size of heap prefix */}
00130 \} \hyperlink{struct_h5_h_l__cache__prfx__ud__t}{H5HL\_cache\_prfx\_ud\_t};
00131 
00132 
00133 \textcolor{comment}{/******************************/}
00134 \textcolor{comment}{/* Package Private Prototypes */}
00135 \textcolor{comment}{/******************************/}
00136 
00137 \textcolor{comment}{/* Heap routines */}
00138 H5\_DLL \hyperlink{struct_h5_h_l__t}{H5HL\_t} *H5HL\_\_new(\textcolor{keywordtype}{size\_t} sizeof\_size, \textcolor{keywordtype}{size\_t} sizeof\_addr, \textcolor{keywordtype}{size\_t} prfx\_size);
00139 H5\_DLL herr\_t H5HL\_\_dest(\hyperlink{struct_h5_h_l__t}{H5HL\_t} *heap);
00140 H5\_DLL herr\_t H5HL\_\_inc\_rc(\hyperlink{struct_h5_h_l__t}{H5HL\_t} *heap);
00141 H5\_DLL herr\_t H5HL\_\_dec\_rc(\hyperlink{struct_h5_h_l__t}{H5HL\_t} *heap);
00142 
00143 \textcolor{comment}{/* Heap prefix routines */}
00144 H5\_DLL \hyperlink{struct_h5_h_l__prfx__t}{H5HL\_prfx\_t} *H5HL\_\_prfx\_new(\hyperlink{struct_h5_h_l__t}{H5HL\_t} *heap);
00145 H5\_DLL herr\_t H5HL\_\_prfx\_dest(\hyperlink{struct_h5_h_l__prfx__t}{H5HL\_prfx\_t} *prfx);
00146 
00147 \textcolor{comment}{/* Heap data block routines */}
00148 H5\_DLL \hyperlink{struct_h5_h_l__dblk__t}{H5HL\_dblk\_t} *H5HL\_\_dblk\_new(\hyperlink{struct_h5_h_l__t}{H5HL\_t} *heap);
00149 H5\_DLL herr\_t H5HL\_\_dblk\_dest(\hyperlink{struct_h5_h_l__dblk__t}{H5HL\_dblk\_t} *dblk);
00150 H5\_DLL herr\_t H5HL\_\_dblk\_realloc(\hyperlink{struct_h5_f__t}{H5F\_t} *f, hid\_t dxpl\_id, \hyperlink{struct_h5_h_l__t}{H5HL\_t} *heap, \textcolor{keywordtype}{size\_t} new\_heap\_size);
00151 
00152 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* \_H5HLpkg\_H */}\textcolor{preprocessor}{}
\end{DoxyCode}
