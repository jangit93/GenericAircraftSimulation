\hypertarget{matio_2visual__studio_2test_2eigen_2bench_2btl_2libs_2gmm_2gmm__interface_8hh_source}{}\section{matio/visual\+\_\+studio/test/eigen/bench/btl/libs/gmm/gmm\+\_\+interface.hh}
\label{matio_2visual__studio_2test_2eigen_2bench_2btl_2libs_2gmm_2gmm__interface_8hh_source}\index{gmm\+\_\+interface.\+hh@{gmm\+\_\+interface.\+hh}}

\begin{DoxyCode}
00001 \textcolor{comment}{//=====================================================}
00002 \textcolor{comment}{// Copyright (C) 2008 Gael Guennebaud <gael.guennebaud@inria.fr>}
00003 \textcolor{comment}{//=====================================================}
00004 \textcolor{comment}{//}
00005 \textcolor{comment}{// This program is free software; you can redistribute it and/or}
00006 \textcolor{comment}{// modify it under the terms of the GNU General Public License}
00007 \textcolor{comment}{// as published by the Free Software Foundation; either version 2}
00008 \textcolor{comment}{// of the License, or (at your option) any later version.}
00009 \textcolor{comment}{//}
00010 \textcolor{comment}{// This program is distributed in the hope that it will be useful,}
00011 \textcolor{comment}{// but WITHOUT ANY WARRANTY; without even the implied warranty of}
00012 \textcolor{comment}{// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the}
00013 \textcolor{comment}{// GNU General Public License for more details.}
00014 \textcolor{comment}{// You should have received a copy of the GNU General Public License}
00015 \textcolor{comment}{// along with this program; if not, write to the Free Software}
00016 \textcolor{comment}{// Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.}
00017 \textcolor{comment}{//}
00018 \textcolor{preprocessor}{#ifndef GMM\_INTERFACE\_HH}
00019 \textcolor{preprocessor}{#define GMM\_INTERFACE\_HH}
00020 
00021 \textcolor{preprocessor}{#include <gmm/gmm.h>}
00022 \textcolor{preprocessor}{#include <vector>}
00023 
00024 \textcolor{keyword}{using namespace }\hyperlink{namespacegmm}{gmm};
00025 
00026 \textcolor{keyword}{template}<\textcolor{keyword}{class} real>
00027 \textcolor{keyword}{class }\hyperlink{classgmm__interface}{gmm\_interface} \{
00028 
00029 public :
00030 
00031   \textcolor{keyword}{typedef} real real\_type ;
00032 
00033   \textcolor{keyword}{typedef} std::vector<real>  stl\_vector;
00034   \textcolor{keyword}{typedef} std::vector<stl\_vector > stl\_matrix;
00035 
00036   \textcolor{keyword}{typedef} gmm::dense\_matrix<real> gene\_matrix;
00037   \textcolor{keyword}{typedef} stl\_vector gene\_vector;
00038 
00039   \textcolor{keyword}{static} \textcolor{keyword}{inline} std::string name( \textcolor{keywordtype}{void} )
00040   \{
00041     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"gmm"};
00042   \}
00043 
00044   \textcolor{keyword}{static} \textcolor{keywordtype}{void} free\_matrix(gene\_matrix & \hyperlink{group___core___module_class_eigen_1_1_matrix}{A}, \textcolor{keywordtype}{int} N)\{
00045     return ;
00046   \}
00047 
00048   \textcolor{keyword}{static} \textcolor{keywordtype}{void} free\_vector(gene\_vector & \hyperlink{group___core___module_class_eigen_1_1_matrix}{B})\{
00049     return ;
00050   \}
00051 
00052   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_from\_stl(gene\_matrix & \hyperlink{group___core___module_class_eigen_1_1_matrix}{A}, stl\_matrix & A\_stl)\{
00053     A.resize(A\_stl[0].size(),A\_stl.size());
00054 
00055     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0; j<A\_stl.size() ; j++)\{
00056       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<A\_stl[j].size() ; i++)\{
00057         A(i,j) = A\_stl[j][i];
00058       \}
00059     \}
00060   \}
00061 
00062   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} vector\_from\_stl(gene\_vector & \hyperlink{group___core___module_class_eigen_1_1_matrix}{B}, stl\_vector & B\_stl)\{
00063     B = B\_stl;
00064   \}
00065 
00066   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} vector\_to\_stl(gene\_vector & \hyperlink{group___core___module_class_eigen_1_1_matrix}{B}, stl\_vector & B\_stl)\{
00067     B\_stl = B;
00068   \}
00069 
00070   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_to\_stl(gene\_matrix & A, stl\_matrix & A\_stl)\{
00071     \textcolor{keywordtype}{int} N=A\_stl.size();
00072 
00073     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j=0;j<N;j++)\{
00074       A\_stl[j].resize(N);
00075       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0;i<N;i++)\{
00076         A\_stl[j][i] = A(i,j);
00077       \}
00078     \}
00079   \}
00080 
00081   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_matrix\_product(\textcolor{keyword}{const} gene\_matrix & A, \textcolor{keyword}{const} gene\_matrix & 
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{B}, gene\_matrix & X, \textcolor{keywordtype}{int} N)\{
00082     gmm::mult(A,B, X);
00083   \}
00084 
00085   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} transposed\_matrix\_matrix\_product(\textcolor{keyword}{const} gene\_matrix & A, \textcolor{keyword}{const} gene\_matrix & 
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{B}, gene\_matrix & X, \textcolor{keywordtype}{int} N)\{
00086     gmm::mult(gmm::transposed(A),gmm::transposed(B), X);
00087   \}
00088 
00089   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} ata\_product(\textcolor{keyword}{const} gene\_matrix & A, gene\_matrix & X, \textcolor{keywordtype}{int} N)\{
00090     gmm::mult(gmm::transposed(A),A, X);
00091   \}
00092 
00093   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} aat\_product(\textcolor{keyword}{const} gene\_matrix & A, gene\_matrix & X, \textcolor{keywordtype}{int} N)\{
00094     gmm::mult(A,gmm::transposed(A), X);
00095   \}
00096 
00097   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} matrix\_vector\_product(gene\_matrix & A, gene\_vector & B, gene\_vector & X, \textcolor{keywordtype}{int} N)\{
00098     gmm::mult(A,B,X);
00099   \}
00100 
00101   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} atv\_product(gene\_matrix & A, gene\_vector & B, gene\_vector & X, \textcolor{keywordtype}{int} N)\{
00102     gmm::mult(gmm::transposed(A),B,X);
00103   \}
00104 
00105   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} axpy(\textcolor{keyword}{const} real coef, \textcolor{keyword}{const} gene\_vector & X, gene\_vector & Y, \textcolor{keywordtype}{int} N)\{
00106     gmm::add(gmm::scaled(X,coef), Y);
00107   \}
00108 
00109   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} axpby(real a, \textcolor{keyword}{const} gene\_vector & X, real b, gene\_vector & Y, \textcolor{keywordtype}{int} N)\{
00110     gmm::add(gmm::scaled(X,a), gmm::scaled(Y,b), Y);
00111   \}
00112 
00113   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} copy\_matrix(\textcolor{keyword}{const} gene\_matrix & source, gene\_matrix & cible, \textcolor{keywordtype}{int} N)\{
00114     gmm::copy(source,cible);
00115   \}
00116 
00117   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} copy\_vector(\textcolor{keyword}{const} gene\_vector & source, gene\_vector & cible, \textcolor{keywordtype}{int} N)\{
00118     gmm::copy(source,cible);
00119   \}
00120 
00121   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} trisolve\_lower(\textcolor{keyword}{const} gene\_matrix & L, \textcolor{keyword}{const} gene\_vector& B, gene\_vector & X, \textcolor{keywordtype}{int} N)\{
00122     gmm::copy(B,X);
00123     gmm::lower\_tri\_solve(L, X, \textcolor{keyword}{false});
00124   \}
00125 
00126   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} partial\_lu\_decomp(\textcolor{keyword}{const} gene\_matrix & X, gene\_matrix & R, \textcolor{keywordtype}{int} N)\{
00127     gmm::copy(X,R);
00128     std::vector<int> ipvt(N);
00129     gmm::lu\_factor(R, ipvt);
00130   \}
00131 
00132   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} hessenberg(\textcolor{keyword}{const} gene\_matrix & X, gene\_matrix & R, \textcolor{keywordtype}{int} N)\{
00133     gmm::copy(X,R);
00134     gmm::Hessenberg\_reduction(R,X,\textcolor{keyword}{false});
00135   \}
00136 
00137   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} tridiagonalization(\textcolor{keyword}{const} gene\_matrix & X, gene\_matrix & R, \textcolor{keywordtype}{int} N)\{
00138     gmm::copy(X,R);
00139     gmm::Householder\_tridiagonalization(R,X,\textcolor{keyword}{false});
00140   \}
00141 
00142 \};
00143 
00144 \textcolor{preprocessor}{#endif}
\end{DoxyCode}
