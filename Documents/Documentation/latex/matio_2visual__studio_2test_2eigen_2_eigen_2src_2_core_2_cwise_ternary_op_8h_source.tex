\hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_cwise_ternary_op_8h_source}{}\section{matio/visual\+\_\+studio/test/eigen/\+Eigen/src/\+Core/\+Cwise\+Ternary\+Op.h}
\label{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_cwise_ternary_op_8h_source}\index{Cwise\+Ternary\+Op.\+h@{Cwise\+Ternary\+Op.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2008-2014 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{// Copyright (C) 2006-2008 Benoit Jacob <jacob.benoit.1@gmail.com>}
00006 \textcolor{comment}{// Copyright (C) 2016 Eugene Brevdo <ebrevdo@gmail.com>}
00007 \textcolor{comment}{//}
00008 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00009 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00010 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00011 
00012 \textcolor{preprocessor}{#ifndef EIGEN\_CWISE\_TERNARY\_OP\_H}
00013 \textcolor{preprocessor}{#define EIGEN\_CWISE\_TERNARY\_OP\_H}
00014 
00015 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{
00016 
00017 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00018 \textcolor{keyword}{template} <\textcolor{keyword}{typename} TernaryOp, \textcolor{keyword}{typename} Arg1, \textcolor{keyword}{typename} Arg2, \textcolor{keyword}{typename} Arg3>
00019 \textcolor{keyword}{struct }traits<CwiseTernaryOp<TernaryOp, Arg1, Arg2, Arg3> > \{
00020   \textcolor{comment}{// we must not inherit from traits<Arg1> since it has}
00021   \textcolor{comment}{// the potential to cause problems with MSVC}
00022   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} remove\_all<Arg1>::type Ancestor;
00023   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} traits<Ancestor>::XprKind XprKind;
00024   \textcolor{keyword}{enum} \{
00025     RowsAtCompileTime = traits<Ancestor>::RowsAtCompileTime,
00026     ColsAtCompileTime = traits<Ancestor>::ColsAtCompileTime,
00027     MaxRowsAtCompileTime = traits<Ancestor>::MaxRowsAtCompileTime,
00028     MaxColsAtCompileTime = traits<Ancestor>::MaxColsAtCompileTime
00029   \};
00030 
00031   \textcolor{comment}{// even though we require Arg1, Arg2, and Arg3 to have the same scalar type}
00032   \textcolor{comment}{// (see CwiseTernaryOp constructor),}
00033   \textcolor{comment}{// we still want to handle the case when the result type is different.}
00034   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} result\_of<TernaryOp(
00035       \textcolor{keyword}{const} \textcolor{keyword}{typename} Arg1::Scalar&, \textcolor{keyword}{const} \textcolor{keyword}{typename} Arg2::Scalar&,
00036       \textcolor{keyword}{const} \textcolor{keyword}{typename} Arg3::Scalar&)>::type Scalar;
00037 
00038   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::traits<Arg1>::StorageKind StorageKind;
00039   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::traits<Arg1>::StorageIndex StorageIndex;
00040 
00041   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Arg1::Nested Arg1Nested;
00042   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Arg2::Nested Arg2Nested;
00043   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Arg3::Nested Arg3Nested;
00044   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} remove\_reference<Arg1Nested>::type \_Arg1Nested;
00045   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} remove\_reference<Arg2Nested>::type \_Arg2Nested;
00046   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} remove\_reference<Arg3Nested>::type \_Arg3Nested;
00047   \textcolor{keyword}{enum} \{ Flags = \_Arg1Nested::Flags & \hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit} \};
00048 \};
00049 \}  \textcolor{comment}{// end namespace internal}
00050 
00051 \textcolor{keyword}{template} <\textcolor{keyword}{typename} TernaryOp, \textcolor{keyword}{typename} Arg1, \textcolor{keyword}{typename} Arg2, \textcolor{keyword}{typename} Arg3,
00052           \textcolor{keyword}{typename} StorageKind>
00053 \textcolor{keyword}{class }CwiseTernaryOpImpl;
00054 
00082 \textcolor{keyword}{template} <\textcolor{keyword}{typename} TernaryOp, \textcolor{keyword}{typename} Arg1Type, \textcolor{keyword}{typename} Arg2Type,
00083           \textcolor{keyword}{typename} Arg3Type>
00084 \textcolor{keyword}{class }CwiseTernaryOp : \textcolor{keyword}{public} CwiseTernaryOpImpl<
00085                            TernaryOp, Arg1Type, Arg2Type, Arg3Type,
00086                            typename internal::traits<Arg1Type>::StorageKind>,
00087                        internal::no\_assignment\_operator
00088 \{
00089  \textcolor{keyword}{public}:
00090   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_all<Arg1Type>::type Arg1;
00091   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_all<Arg2Type>::type Arg2;
00092   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_all<Arg3Type>::type Arg3;
00093 
00094   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} CwiseTernaryOpImpl<
00095       TernaryOp, Arg1Type, Arg2Type, Arg3Type,
00096       \textcolor{keyword}{typename} internal::traits<Arg1Type>::StorageKind>::Base Base;
00097   EIGEN\_GENERIC\_PUBLIC\_INTERFACE(CwiseTernaryOp)
00098 
00099   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::ref\_selector<Arg1Type>::type Arg1Nested;
00100   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::ref\_selector<Arg2Type>::type Arg2Nested;
00101   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::ref\_selector<Arg3Type>::type Arg3Nested;
00102   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_reference<Arg1Nested>::type \_Arg1Nested;
00103   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_reference<Arg2Nested>::type \_Arg2Nested;
00104   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_reference<Arg3Nested>::type \_Arg3Nested;
00105 
00106   EIGEN\_DEVICE\_FUNC
00107   EIGEN\_STRONG\_INLINE CwiseTernaryOp(\textcolor{keyword}{const} Arg1& a1, \textcolor{keyword}{const} Arg2& a2,
00108                                      \textcolor{keyword}{const} Arg3& a3,
00109                                      \textcolor{keyword}{const} TernaryOp& \hyperlink{structfunc}{func} = TernaryOp())
00110       : m\_arg1(a1), m\_arg2(a2), m\_arg3(a3), m\_functor(\hyperlink{structfunc}{func}) \{
00111     \textcolor{comment}{// require the sizes to match}
00112     EIGEN\_STATIC\_ASSERT\_SAME\_MATRIX\_SIZE(Arg1, Arg2)
00113     EIGEN\_STATIC\_ASSERT\_SAME\_MATRIX\_SIZE(Arg1, Arg3)
00114 
00115     \textcolor{comment}{// The index types should match}
00116     EIGEN\_STATIC\_ASSERT((internal::is\_same<
00117                          \textcolor{keyword}{typename} internal::traits<Arg1Type>::StorageKind,
00118                          \textcolor{keyword}{typename} internal::traits<Arg2Type>::StorageKind>::value),
00119                         STORAGE\_KIND\_MUST\_MATCH)
00120     EIGEN\_STATIC\_ASSERT((internal::is\_same<
00121                          \textcolor{keyword}{typename} internal::traits<Arg1Type>::StorageKind,
00122                          \textcolor{keyword}{typename} internal::traits<Arg3Type>::StorageKind>::value),
00123                         STORAGE\_KIND\_MUST\_MATCH)
00124 
00125     eigen\_assert(a1.rows() == a2.rows() && a1.cols() == a2.cols() &&
00126                  a1.rows() == a3.rows() && a1.cols() == a3.cols());
00127   \}
00128 
00129   EIGEN\_DEVICE\_FUNC
00130   EIGEN\_STRONG\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} rows()\textcolor{keyword}{ const }\{
00131     \textcolor{comment}{// return the fixed size type if available to enable compile time}
00132     \textcolor{comment}{// optimizations}
00133     \textcolor{keywordflow}{if} (internal::traits<\textcolor{keyword}{typename} internal::remove\_all<Arg1Nested>::type>::
00134                 RowsAtCompileTime == \hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} &&
00135         internal::traits<\textcolor{keyword}{typename} internal::remove\_all<Arg2Nested>::type>::
00136                 RowsAtCompileTime == \hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic})
00137       \textcolor{keywordflow}{return} m\_arg3.rows();
00138     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (internal::traits<\textcolor{keyword}{typename} internal::remove\_all<Arg1Nested>::type>::
00139                      RowsAtCompileTime == \hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} &&
00140              internal::traits<\textcolor{keyword}{typename} internal::remove\_all<Arg3Nested>::type>::
00141                      RowsAtCompileTime == \hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic})
00142       \textcolor{keywordflow}{return} m\_arg2.rows();
00143     \textcolor{keywordflow}{else}
00144       \textcolor{keywordflow}{return} m\_arg1.rows();
00145   \}
00146   EIGEN\_DEVICE\_FUNC
00147   EIGEN\_STRONG\_INLINE \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} cols()\textcolor{keyword}{ const }\{
00148     \textcolor{comment}{// return the fixed size type if available to enable compile time}
00149     \textcolor{comment}{// optimizations}
00150     \textcolor{keywordflow}{if} (internal::traits<\textcolor{keyword}{typename} internal::remove\_all<Arg1Nested>::type>::
00151                 ColsAtCompileTime == \hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} &&
00152         internal::traits<\textcolor{keyword}{typename} internal::remove\_all<Arg2Nested>::type>::
00153                 ColsAtCompileTime == \hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic})
00154       \textcolor{keywordflow}{return} m\_arg3.cols();
00155     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (internal::traits<\textcolor{keyword}{typename} internal::remove\_all<Arg1Nested>::type>::
00156                      ColsAtCompileTime == \hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic} &&
00157              internal::traits<\textcolor{keyword}{typename} internal::remove\_all<Arg3Nested>::type>::
00158                      ColsAtCompileTime == \hyperlink{namespace_eigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic})
00159       \textcolor{keywordflow}{return} m\_arg2.cols();
00160     \textcolor{keywordflow}{else}
00161       \textcolor{keywordflow}{return} m\_arg1.cols();
00162   \}
00163 
00165   EIGEN\_DEVICE\_FUNC
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_cwise_ternary_op_8h_source_l00166}\hyperlink{group___core___module_a37ec6f7c9b863f58a3e193cac44bdd82}{00166}   \textcolor{keyword}{const} \_Arg1Nested& \hyperlink{group___core___module_a37ec6f7c9b863f58a3e193cac44bdd82}{arg1}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_arg1; \}
00168   EIGEN\_DEVICE\_FUNC
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_cwise_ternary_op_8h_source_l00169}\hyperlink{group___core___module_a271606675838696dd7660d4d847ae5f7}{00169}   \textcolor{keyword}{const} \_Arg2Nested& \hyperlink{group___core___module_a271606675838696dd7660d4d847ae5f7}{arg2}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_arg2; \}
00171   EIGEN\_DEVICE\_FUNC
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_cwise_ternary_op_8h_source_l00172}\hyperlink{group___core___module_aab71f401afd7ebc25428369c30151a1f}{00172}   \textcolor{keyword}{const} \_Arg3Nested& \hyperlink{group___core___module_aab71f401afd7ebc25428369c30151a1f}{arg3}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_arg3; \}
00174   EIGEN\_DEVICE\_FUNC
\Hypertarget{matio_2visual__studio_2test_2eigen_2_eigen_2src_2_core_2_cwise_ternary_op_8h_source_l00175}\hyperlink{group___core___module_acec526305dd83e6c0b3bd2cdbfd19307}{00175}   \textcolor{keyword}{const} TernaryOp& \hyperlink{group___core___module_acec526305dd83e6c0b3bd2cdbfd19307}{functor}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_functor; \}
00176 
00177  \textcolor{keyword}{protected}:
00178   Arg1Nested m\_arg1;
00179   Arg2Nested m\_arg2;
00180   Arg3Nested m\_arg3;
00181   \textcolor{keyword}{const} TernaryOp m\_functor;
00182 \};
00183 
00184 \textcolor{comment}{// Generic API dispatcher}
00185 \textcolor{keyword}{template} <\textcolor{keyword}{typename} TernaryOp, \textcolor{keyword}{typename} Arg1, \textcolor{keyword}{typename} Arg2, \textcolor{keyword}{typename} Arg3,
00186           \textcolor{keyword}{typename} StorageKind>
00187 \textcolor{keyword}{class }\hyperlink{class_eigen_1_1_cwise_ternary_op_impl}{CwiseTernaryOpImpl}
00188     : \textcolor{keyword}{public} \hyperlink{struct_eigen_1_1internal_1_1generic__xpr__base}{internal::generic\_xpr\_base}<
00189           CwiseTernaryOp<TernaryOp, Arg1, Arg2, Arg3> >::type \{
00190  \textcolor{keyword}{public}:
00191   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1generic__xpr__base}{internal::generic\_xpr\_base}<
00192       \hyperlink{group___core___module_class_eigen_1_1_cwise_ternary_op}{CwiseTernaryOp<TernaryOp, Arg1, Arg2, Arg3>} >::type Base;
00193 \};
00194 
00195 \}  \textcolor{comment}{// end namespace Eigen}
00196 
00197 \textcolor{preprocessor}{#endif  // EIGEN\_CWISE\_TERNARY\_OP\_H}
\end{DoxyCode}
