\hypertarget{eigen_2bench_2tensors_2benchmark_8h_source}{}\section{eigen/bench/tensors/benchmark.h}
\label{eigen_2bench_2tensors_2benchmark_8h_source}\index{benchmark.\+h@{benchmark.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/*}
00002 \textcolor{comment}{ * Copyright (C) 2012 The Android Open Source Project}
00003 \textcolor{comment}{ *}
00004 \textcolor{comment}{ * Licensed under the Apache License, Version 2.0 (the "License");}
00005 \textcolor{comment}{ * you may not use this file except in compliance with the License.}
00006 \textcolor{comment}{ * You may obtain a copy of the License at}
00007 \textcolor{comment}{ *}
00008 \textcolor{comment}{ *      http://www.apache.org/licenses/LICENSE-2.0}
00009 \textcolor{comment}{ *}
00010 \textcolor{comment}{ * Unless required by applicable law or agreed to in writing, software}
00011 \textcolor{comment}{ * distributed under the License is distributed on an "AS IS" BASIS,}
00012 \textcolor{comment}{ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.}
00013 \textcolor{comment}{ * See the License for the specific language governing permissions and}
00014 \textcolor{comment}{ * limitations under the License.}
00015 \textcolor{comment}{ */}
00016 \textcolor{preprocessor}{#include <stddef.h>}
00017 \textcolor{preprocessor}{#include <stdint.h>}
00018 \textcolor{preprocessor}{#include <vector>}
00019 
00020 \textcolor{keyword}{namespace }\hyperlink{namespacetesting}{testing} \{
\Hypertarget{eigen_2bench_2tensors_2benchmark_8h_source_l00021}\hyperlink{classtesting_1_1_benchmark}{00021} \textcolor{keyword}{class }\hyperlink{classtesting_1_1_benchmark}{Benchmark} \{
00022  \textcolor{keyword}{public}:
00023   \hyperlink{classtesting_1_1_benchmark}{Benchmark}(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* name, \textcolor{keywordtype}{void} (*fn)(\textcolor{keywordtype}{int})) \{
00024     Register(name, fn, NULL);
00025   \}
00026   \hyperlink{classtesting_1_1_benchmark}{Benchmark}(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* name, \textcolor{keywordtype}{void} (*fn\_range)(\textcolor{keywordtype}{int}, \textcolor{keywordtype}{int})) \{
00027     Register(name, NULL, fn\_range);
00028   \}
00029   \hyperlink{classtesting_1_1_benchmark}{Benchmark}* Arg(\textcolor{keywordtype}{int} x);
00030   \hyperlink{classtesting_1_1_benchmark}{Benchmark}* Range(\textcolor{keywordtype}{int} lo, \textcolor{keywordtype}{int} hi);
00031   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* Name();
00032   \textcolor{keywordtype}{bool} ShouldRun(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char}* argv[]);
00033   \textcolor{keywordtype}{void} Run();
00034  \textcolor{keyword}{private}:
00035   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* name\_;
00036   void (*fn\_)(int);
00037   void (*fn\_range\_)(int, int);
00038   std::vector<int> args\_;
00039   \textcolor{keywordtype}{void} Register(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* name, \textcolor{keywordtype}{void} (*fn)(\textcolor{keywordtype}{int}), \textcolor{keywordtype}{void} (*fn\_range)(\textcolor{keywordtype}{int}, \textcolor{keywordtype}{int}));
00040   \textcolor{keywordtype}{void} RunRepeatedlyWithArg(\textcolor{keywordtype}{int} iterations, \textcolor{keywordtype}{int} arg);
00041   \textcolor{keywordtype}{void} RunWithArg(\textcolor{keywordtype}{int} arg);
00042 \};
00043 \}  \textcolor{comment}{// namespace testing}
00044 \textcolor{keywordtype}{void} SetBenchmarkFlopsProcessed(int64\_t);
00045 \textcolor{keywordtype}{void} StopBenchmarkTiming();
00046 \textcolor{keywordtype}{void} StartBenchmarkTiming();
00047 \textcolor{preprocessor}{#define BENCHMARK(f) \(\backslash\)}
00048 \textcolor{preprocessor}{    static ::testing::Benchmark* \_benchmark\_##f \_\_attribute\_\_((unused)) = \(\backslash\)}
00049 \textcolor{preprocessor}{        (new ::testing::Benchmark(#f, f))}
\end{DoxyCode}
