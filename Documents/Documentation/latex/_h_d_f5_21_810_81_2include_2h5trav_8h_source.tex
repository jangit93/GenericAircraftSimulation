\hypertarget{_h_d_f5_21_810_81_2include_2h5trav_8h_source}{}\section{H\+D\+F5/1.10.1/include/h5trav.h}
\label{_h_d_f5_21_810_81_2include_2h5trav_8h_source}\index{h5trav.\+h@{h5trav.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *}
00002 \textcolor{comment}{ * Copyright by The HDF Group.                                               *}
00003 \textcolor{comment}{ * Copyright by the Board of Trustees of the University of Illinois.         *}
00004 \textcolor{comment}{ * All rights reserved.                                                      *}
00005 \textcolor{comment}{ *                                                                           *}
00006 \textcolor{comment}{ * This file is part of HDF5.  The full HDF5 copyright notice, including     *}
00007 \textcolor{comment}{ * terms governing use, modification, and redistribution, is contained in    *}
00008 \textcolor{comment}{ * the COPYING file, which can be found at the root of the source code       *}
00009 \textcolor{comment}{ * distribution tree, or in https://support.hdfgroup.org/ftp/HDF5/releases.  *}
00010 \textcolor{comment}{ * If you do not have access to either file, you may request a copy from     *}
00011 \textcolor{comment}{ * help@hdfgroup.org.                                                        *}
00012 \textcolor{comment}{ * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */}
00013 
00014 \textcolor{preprocessor}{#ifndef H5TRAV\_H\_\_}
00015 \textcolor{preprocessor}{#define H5TRAV\_H\_\_}
00016 
00017 \textcolor{preprocessor}{#include "hdf5.h"}
00018 
00019 \textcolor{comment}{/* Typedefs for visiting objects */}
00020 \textcolor{keyword}{typedef} herr\_t (*h5trav\_obj\_func\_t)(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *path\_name, \textcolor{keyword}{const} \hyperlink{struct_h5_o__info__t}{H5O\_info\_t} *oinfo,
00021         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *first\_seen, \textcolor{keywordtype}{void} *udata);
00022 \textcolor{keyword}{typedef} herr\_t (*h5trav\_lnk\_func\_t)(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *path\_name, \textcolor{keyword}{const} \hyperlink{struct_h5_l__info__t}{H5L\_info\_t} *linfo,
00023         \textcolor{keywordtype}{void} *udata);
00024 
00025 \textcolor{comment}{/*-------------------------------------------------------------------------}
00026 \textcolor{comment}{ * public enum to specify type of an object}
00027 \textcolor{comment}{ * the TYPE can be:}
00028 \textcolor{comment}{ *    H5TRAV\_TYPE\_UNKNOWN = -1,}
00029 \textcolor{comment}{ *    H5TRAV\_TYPE\_GROUP,            Object is a group}
00030 \textcolor{comment}{ *    H5TRAV\_TYPE\_DATASET,          Object is a dataset}
00031 \textcolor{comment}{ *    H5TRAV\_TYPE\_TYPE,             Object is a named datatype}
00032 \textcolor{comment}{ *    H5TRAV\_TYPE\_LINK,             Object is a symbolic link}
00033 \textcolor{comment}{ *    H5TRAV\_TYPE\_UDLINK,           Object is a user-defined link}
00034 \textcolor{comment}{ *-------------------------------------------------------------------------}
00035 \textcolor{comment}{ */}
00036 \textcolor{keyword}{typedef} \textcolor{keyword}{enum} \{
00037     H5TRAV\_TYPE\_UNKNOWN = -1,        \textcolor{comment}{/* Unknown object type */}
00038     H5TRAV\_TYPE\_GROUP,          \textcolor{comment}{/* Object is a group */}
00039     H5TRAV\_TYPE\_DATASET,        \textcolor{comment}{/* Object is a dataset */}
00040     H5TRAV\_TYPE\_NAMED\_DATATYPE, \textcolor{comment}{/* Object is a named datatype */}
00041     H5TRAV\_TYPE\_LINK,           \textcolor{comment}{/* Object is a symbolic link */}
00042     H5TRAV\_TYPE\_UDLINK          \textcolor{comment}{/* Object is a user-defined link */}
00043 \} h5trav\_type\_t;
00044 
00045 \textcolor{comment}{/*-------------------------------------------------------------------------}
00046 \textcolor{comment}{ * public struct to store name and type of an object}
00047 \textcolor{comment}{ *-------------------------------------------------------------------------}
00048 \textcolor{comment}{ */}
00049 \textcolor{comment}{/* Struct to keep track of symbolic link targets visited.}
00050 \textcolor{comment}{ * Functions: symlink\_visit\_add() and symlink\_is\_visited()}
00051 \textcolor{comment}{ */}
\Hypertarget{_h_d_f5_21_810_81_2include_2h5trav_8h_source_l00052}\hyperlink{structsymlink__trav__path__t}{00052} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{structsymlink__trav__path__t}{symlink\_trav\_path\_t} \{
00053     H5L\_type\_t  type;
00054     \textcolor{keywordtype}{char} *\hyperlink{structfile}{file};
00055     \textcolor{keywordtype}{char} *path;
00056 \} \hyperlink{structsymlink__trav__path__t}{symlink\_trav\_path\_t};
00057 
\Hypertarget{_h_d_f5_21_810_81_2include_2h5trav_8h_source_l00058}\hyperlink{structsymlink__trav__t}{00058} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{structsymlink__trav__t}{symlink\_trav\_t} \{
00059     \textcolor{keywordtype}{size\_t}      nalloc;
00060     \textcolor{keywordtype}{size\_t}      nused;
00061     \hyperlink{structsymlink__trav__path__t}{symlink\_trav\_path\_t} *objs;
00062     hbool\_t dangle\_link;
00063 \} \hyperlink{structsymlink__trav__t}{symlink\_trav\_t};
00064 
\Hypertarget{_h_d_f5_21_810_81_2include_2h5trav_8h_source_l00065}\hyperlink{structtrav__path__t}{00065} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{structtrav__path__t}{trav\_path\_t} \{
00066     \textcolor{keywordtype}{char}      *path;
00067     h5trav\_type\_t type;
00068     haddr\_t     objno;     \textcolor{comment}{/* object address */}
00069     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long}   fileno; \textcolor{comment}{/* File number that object is located in */}
00070 \} \hyperlink{structtrav__path__t}{trav\_path\_t};
00071 
\Hypertarget{_h_d_f5_21_810_81_2include_2h5trav_8h_source_l00072}\hyperlink{structtrav__info__t}{00072} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{structtrav__info__t}{trav\_info\_t} \{
00073     \textcolor{keywordtype}{size\_t}      nalloc;
00074     \textcolor{keywordtype}{size\_t}      nused;
00075     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fname;
00076     hid\_t fid;                          \textcolor{comment}{/* File ID */}
00077     \hyperlink{structtrav__path__t}{trav\_path\_t} *paths;
00078     \hyperlink{structsymlink__trav__t}{symlink\_trav\_t} symlink\_visited;     \textcolor{comment}{/* already visited symbolic links */}
00079     \textcolor{keywordtype}{void} * opts;                        \textcolor{comment}{/* optional data passing */}
00080 \} \hyperlink{structtrav__info__t}{trav\_info\_t};
00081 
00082 
00083 \textcolor{comment}{/*-------------------------------------------------------------------------}
00084 \textcolor{comment}{ * keep record of hard link information}
00085 \textcolor{comment}{ *-------------------------------------------------------------------------}
00086 \textcolor{comment}{ */}
\Hypertarget{_h_d_f5_21_810_81_2include_2h5trav_8h_source_l00087}\hyperlink{structtrav__link__t}{00087} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{structtrav__link__t}{trav\_link\_t} \{
00088     \textcolor{keywordtype}{char}      *new\_name;
00089 \} \hyperlink{structtrav__link__t}{trav\_link\_t};
00090 
00091 
00092 \textcolor{comment}{/*-------------------------------------------------------------------------}
00093 \textcolor{comment}{ * struct to store basic info needed for the h5trav table traversal algorythm}
00094 \textcolor{comment}{ *-------------------------------------------------------------------------}
00095 \textcolor{comment}{ */}
00096 
\Hypertarget{_h_d_f5_21_810_81_2include_2h5trav_8h_source_l00097}\hyperlink{structtrav__obj__t}{00097} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{structtrav__obj__t}{trav\_obj\_t} \{
00098     haddr\_t     objno;     \textcolor{comment}{/* object address */}
00099     \textcolor{keywordtype}{unsigned}    flags[2];  \textcolor{comment}{/* h5diff.object is present or not in both files*/}
00100     hbool\_t     is\_same\_trgobj; \textcolor{comment}{/* same target object? no need to compare */}
00101     \textcolor{keywordtype}{char}        *name;     \textcolor{comment}{/* name */}
00102     h5trav\_type\_t type;    \textcolor{comment}{/* type of object */}
00103     \hyperlink{structtrav__link__t}{trav\_link\_t} *links;    \textcolor{comment}{/* array of possible link names */}
00104     \textcolor{keywordtype}{size\_t}      sizelinks; \textcolor{comment}{/* size of links array */}
00105     \textcolor{keywordtype}{size\_t}      nlinks;    \textcolor{comment}{/* number of links */}
00106 \} \hyperlink{structtrav__obj__t}{trav\_obj\_t};
00107 
00108 
00109 \textcolor{comment}{/*-------------------------------------------------------------------------}
00110 \textcolor{comment}{ * private struct that stores all objects}
00111 \textcolor{comment}{ *-------------------------------------------------------------------------}
00112 \textcolor{comment}{ */}
00113 
\Hypertarget{_h_d_f5_21_810_81_2include_2h5trav_8h_source_l00114}\hyperlink{structtrav__table__t}{00114} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{structtrav__table__t}{trav\_table\_t} \{
00115     \textcolor{keywordtype}{size\_t}      size;
00116     \textcolor{keywordtype}{size\_t}      nobjs;
00117     \hyperlink{structtrav__obj__t}{trav\_obj\_t} *objs;
00118 \} \hyperlink{structtrav__table__t}{trav\_table\_t};
00119 
00120 
00121 \textcolor{comment}{/*-------------------------------------------------------------------------}
00122 \textcolor{comment}{ * public functions}
00123 \textcolor{comment}{ *-------------------------------------------------------------------------}
00124 \textcolor{comment}{ */}
00125 
00126 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00127 \textcolor{keyword}{extern} \textcolor{stringliteral}{"C"} \{
00128 \textcolor{preprocessor}{#endif}
00129 
00130 \textcolor{comment}{/*-------------------------------------------------------------------------}
00131 \textcolor{comment}{ * "h5trav general" public functions}
00132 \textcolor{comment}{ *-------------------------------------------------------------------------}
00133 \textcolor{comment}{ */}
00134 H5TOOLS\_DLL \textcolor{keywordtype}{void} h5trav\_set\_index(H5\_index\_t print\_index\_by, H5\_iter\_order\_t print\_index\_order);
00135 H5TOOLS\_DLL \textcolor{keywordtype}{int} h5trav\_visit(hid\_t file\_id, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *grp\_name, 
00136     hbool\_t visit\_start, hbool\_t recurse, h5trav\_obj\_func\_t visit\_obj, 
00137     h5trav\_lnk\_func\_t visit\_lnk, \textcolor{keywordtype}{void} *udata);
00138 H5TOOLS\_DLL herr\_t symlink\_visit\_add(\hyperlink{structsymlink__trav__t}{symlink\_trav\_t} *visited, H5L\_type\_t type, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *
      \hyperlink{structfile}{file}, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *path);
00139 H5TOOLS\_DLL hbool\_t symlink\_is\_visited(\hyperlink{structsymlink__trav__t}{symlink\_trav\_t} *visited, H5L\_type\_t type, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *
      file, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *path);
00140 
00141 \textcolor{comment}{/*-------------------------------------------------------------------------}
00142 \textcolor{comment}{ * "h5trav info" public functions}
00143 \textcolor{comment}{ *-------------------------------------------------------------------------}
00144 \textcolor{comment}{ */}
00145 H5TOOLS\_DLL \textcolor{keywordtype}{int} h5trav\_getinfo(hid\_t file\_id, \hyperlink{structtrav__info__t}{trav\_info\_t} *info);
00146 H5TOOLS\_DLL ssize\_t h5trav\_getindex(\textcolor{keyword}{const} \hyperlink{structtrav__info__t}{trav\_info\_t} *info, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *obj);
00147 H5TOOLS\_DLL \textcolor{keywordtype}{int} trav\_info\_visit\_obj (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *path, \textcolor{keyword}{const} \hyperlink{struct_h5_o__info__t}{H5O\_info\_t} *oinfo, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *
      already\_visited, \textcolor{keywordtype}{void} *udata);
00148 H5TOOLS\_DLL \textcolor{keywordtype}{int} trav\_info\_visit\_lnk (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *path, \textcolor{keyword}{const} \hyperlink{struct_h5_l__info__t}{H5L\_info\_t} *linfo, \textcolor{keywordtype}{void} *udata);
00149 
00150 \textcolor{comment}{/*-------------------------------------------------------------------------}
00151 \textcolor{comment}{ * "h5trav table" public functions}
00152 \textcolor{comment}{ *-------------------------------------------------------------------------}
00153 \textcolor{comment}{ */}
00154 
00155 H5TOOLS\_DLL \textcolor{keywordtype}{int}  h5trav\_gettable(hid\_t fid, \hyperlink{structtrav__table__t}{trav\_table\_t} *travt);
00156 H5TOOLS\_DLL \textcolor{keywordtype}{int}  h5trav\_getindext(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *obj, \textcolor{keyword}{const} \hyperlink{structtrav__table__t}{trav\_table\_t} *travt);
00157 
00158 \textcolor{comment}{/*-------------------------------------------------------------------------}
00159 \textcolor{comment}{ * "h5trav print" public functions}
00160 \textcolor{comment}{ *-------------------------------------------------------------------------}
00161 \textcolor{comment}{ */}
00162 H5TOOLS\_DLL \textcolor{keywordtype}{int} h5trav\_print(hid\_t fid);
00163 H5TOOLS\_DLL \textcolor{keywordtype}{void} h5trav\_set\_verbose(\textcolor{keywordtype}{int} print\_verbose);
00164 
00165 \textcolor{preprocessor}{#ifdef \_\_cplusplus}
00166 \}
00167 \textcolor{preprocessor}{#endif}
00168 
00169 \textcolor{comment}{/*-------------------------------------------------------------------------}
00170 \textcolor{comment}{ * info private functions}
00171 \textcolor{comment}{ *-------------------------------------------------------------------------}
00172 \textcolor{comment}{ */}
00173 
00174 H5TOOLS\_DLL \textcolor{keywordtype}{void} trav\_info\_init(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *filename, hid\_t fileid, \hyperlink{structtrav__info__t}{trav\_info\_t} **info);
00175 
00176 H5TOOLS\_DLL \textcolor{keywordtype}{void} trav\_info\_free(\hyperlink{structtrav__info__t}{trav\_info\_t} *info);
00177 
00178 H5TOOLS\_DLL \textcolor{keywordtype}{void} trav\_info\_add(\hyperlink{structtrav__info__t}{trav\_info\_t} *info, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *path, h5trav\_type\_t obj\_type);
00179 
00180 H5TOOLS\_DLL \textcolor{keywordtype}{void} trav\_fileinfo\_add(\hyperlink{structtrav__info__t}{trav\_info\_t} *info, hid\_t loc\_id);
00181 
00182 \textcolor{comment}{/*-------------------------------------------------------------------------}
00183 \textcolor{comment}{ * table private functions}
00184 \textcolor{comment}{ *-------------------------------------------------------------------------}
00185 \textcolor{comment}{ */}
00186 
00187 H5TOOLS\_DLL \textcolor{keywordtype}{void} trav\_table\_init(\hyperlink{structtrav__table__t}{trav\_table\_t} **table);
00188 
00189 H5TOOLS\_DLL \textcolor{keywordtype}{void} trav\_table\_free(\hyperlink{structtrav__table__t}{trav\_table\_t} *table);
00190 
00191 H5TOOLS\_DLL \textcolor{keywordtype}{void} trav\_table\_addflags(\textcolor{keywordtype}{unsigned} *flags,
00192                          \textcolor{keywordtype}{char} *objname,
00193                          h5trav\_type\_t type,
00194                          \hyperlink{structtrav__table__t}{trav\_table\_t} *table);
00195 
00196 \textcolor{preprocessor}{#endif  }\textcolor{comment}{/* H5TRAV\_H\_\_ */}\textcolor{preprocessor}{}
00197 
\end{DoxyCode}
