\hypertarget{zlib_2contrib_2iostream2_2zstream__test_8cpp_source}{}\section{zlib/contrib/iostream2/zstream\+\_\+test.cpp}
\label{zlib_2contrib_2iostream2_2zstream__test_8cpp_source}\index{zstream\+\_\+test.\+cpp@{zstream\+\_\+test.\+cpp}}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#include "zstream.h"}
00002 \textcolor{preprocessor}{#include <math.h>}
00003 \textcolor{preprocessor}{#include <stdlib.h>}
00004 \textcolor{preprocessor}{#include <iomanip.h>}
00005 
00006 \textcolor{keywordtype}{void} main() \{
00007     \textcolor{keywordtype}{char} h[256] = \textcolor{stringliteral}{"Hello"};
00008     \textcolor{keywordtype}{char}* g = \textcolor{stringliteral}{"Goodbye"};
00009     \hyperlink{classozstream}{ozstream} out(\textcolor{stringliteral}{"temp.gz"});
00010     out < \textcolor{stringliteral}{"This works well"} < h < g;
00011     out.close();
00012 
00013     \hyperlink{classizstream}{izstream} in(\textcolor{stringliteral}{"temp.gz"}); \textcolor{comment}{// read it back}
00014     \textcolor{keywordtype}{char} *x = read\_string(in), *y = \textcolor{keyword}{new} \textcolor{keywordtype}{char}[256], z[256];
00015     in > y > z;
00016     in.close();
00017     cout << x << endl << y << endl << z << endl;
00018 
00019     out.open(\textcolor{stringliteral}{"temp.gz"}); \textcolor{comment}{// try ascii output; zcat temp.gz to see the results}
00020     out << setw(50) << setfill(\textcolor{charliteral}{'#'}) << setprecision(20) << x << endl << y << endl << z << endl;
00021     out << z << endl << y << endl << x << endl;
00022     out << 1.1234567890123456789 << endl;
00023 
00024     \textcolor{keyword}{delete}[] x; \textcolor{keyword}{delete}[] y;
00025 \}
\end{DoxyCode}
