\hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source}{}\section{eigen/\+Eigen/src/\+Core/\+Diagonal\+Matrix.h}
\label{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source}\index{Diagonal\+Matrix.\+h@{Diagonal\+Matrix.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}
00002 \textcolor{comment}{// for linear algebra.}
00003 \textcolor{comment}{//}
00004 \textcolor{comment}{// Copyright (C) 2009 Gael Guennebaud <gael.guennebaud@inria.fr>}
00005 \textcolor{comment}{// Copyright (C) 2007-2009 Benoit Jacob <jacob.benoit.1@gmail.com>}
00006 \textcolor{comment}{//}
00007 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}
00008 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}
00009 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}
00010 
00011 \textcolor{preprocessor}{#ifndef EIGEN\_DIAGONALMATRIX\_H}
00012 \textcolor{preprocessor}{#define EIGEN\_DIAGONALMATRIX\_H}
00013 
00014 \textcolor{keyword}{namespace }\hyperlink{namespace_eigen}{Eigen} \{ 
00015 
00016 \textcolor{preprocessor}{#ifndef EIGEN\_PARSED\_BY\_DOXYGEN}
00017 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00018}\hyperlink{class_eigen_1_1_diagonal_base}{00018} \textcolor{keyword}{class }\hyperlink{class_eigen_1_1_diagonal_base}{DiagonalBase} : \textcolor{keyword}{public} \hyperlink{group___core___module_struct_eigen_1_1_eigen_base}{EigenBase}<Derived>
00019 \{
00020   \textcolor{keyword}{public}:
00021     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::DiagonalVectorType}
       DiagonalVectorType;
00022     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} DiagonalVectorType::Scalar Scalar;
00023     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} DiagonalVectorType::RealScalar RealScalar;
00024     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::StorageKind} 
      StorageKind;
00025     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<Derived>::StorageIndex} 
      StorageIndex;
00026 
00027     \textcolor{keyword}{enum} \{
00028       RowsAtCompileTime = DiagonalVectorType::SizeAtCompileTime,
00029       ColsAtCompileTime = DiagonalVectorType::SizeAtCompileTime,
00030       MaxRowsAtCompileTime = DiagonalVectorType::MaxSizeAtCompileTime,
00031       MaxColsAtCompileTime = DiagonalVectorType::MaxSizeAtCompileTime,
00032       IsVectorAtCompileTime = 0,
00033       Flags = \hyperlink{group__flags_ga3c186ad80ddcf5e2ed3d7ee31cca1860}{NoPreferredStorageOrderBit}
00034     \};
00035 
00036     \textcolor{keyword}{typedef} 
      \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<Scalar, RowsAtCompileTime, ColsAtCompileTime, 0, MaxRowsAtCompileTime, MaxColsAtCompileTime>}
       \hyperlink{group___core___module_class_eigen_1_1_matrix}{DenseMatrixType};
00037     \textcolor{keyword}{typedef} DenseMatrixType \hyperlink{group___core___module_class_eigen_1_1_matrix}{DenseType};
00038     \textcolor{keyword}{typedef} 
      \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix<Scalar,DiagonalVectorType::SizeAtCompileTime,DiagonalVectorType::MaxSizeAtCompileTime>}
       \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{PlainObject};
00039 
00040     EIGEN\_DEVICE\_FUNC
00041     \textcolor{keyword}{inline} \textcolor{keyword}{const} Derived& derived()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }Derived*\textcolor{keyword}{>}(\textcolor{keyword}{this}); \}
00042     EIGEN\_DEVICE\_FUNC
00043     \textcolor{keyword}{inline} Derived& derived() \{ \textcolor{keywordflow}{return} *\textcolor{keyword}{static\_cast<}Derived*\textcolor{keyword}{>}(\textcolor{keyword}{this}); \}
00044 
00045     EIGEN\_DEVICE\_FUNC
00046     DenseMatrixType toDenseMatrix()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} derived(); \}
00047     
00048     EIGEN\_DEVICE\_FUNC
00049     \textcolor{keyword}{inline} \textcolor{keyword}{const} DiagonalVectorType& diagonal()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} derived().diagonal(); \}
00050     EIGEN\_DEVICE\_FUNC
00051     \textcolor{keyword}{inline} DiagonalVectorType& diagonal() \{ \textcolor{keywordflow}{return} derived().diagonal(); \}
00052 
00053     EIGEN\_DEVICE\_FUNC
00054     \textcolor{keyword}{inline} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} rows()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} diagonal().size(); \}
00055     EIGEN\_DEVICE\_FUNC
00056     \textcolor{keyword}{inline} \hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} cols()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} diagonal().size(); \}
00057 
00058     \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixDerived>
00059     EIGEN\_DEVICE\_FUNC
00060     \textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_product}{Product<Derived,MatrixDerived,LazyProduct>}
00061     operator*(\textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<MatrixDerived>} &matrix)\textcolor{keyword}{ const}
00062 \textcolor{keyword}{    }\{
00063       \textcolor{keywordflow}{return} \hyperlink{group___core___module_class_eigen_1_1_product}{Product<Derived, MatrixDerived, LazyProduct>}(
      derived(),matrix.derived());
00064     \}
00065 
00066     \textcolor{keyword}{typedef} 
      \hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{DiagonalWrapper<const CwiseUnaryOp<internal::scalar\_inverse\_op<Scalar>}
      , \textcolor{keyword}{const} DiagonalVectorType> > \hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{InverseReturnType};
00067     EIGEN\_DEVICE\_FUNC
00068     \textcolor{keyword}{inline} \textcolor{keyword}{const} InverseReturnType
00069     inverse()\textcolor{keyword}{ const}
00070 \textcolor{keyword}{    }\{
00071       \textcolor{keywordflow}{return} InverseReturnType(diagonal().cwiseInverse());
00072     \}
00073     
00074     EIGEN\_DEVICE\_FUNC
00075     \textcolor{keyword}{inline} \textcolor{keyword}{const} 
      \hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{DiagonalWrapper<const EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(DiagonalVectorType,Scalar,product) >}
00076     operator*(\textcolor{keyword}{const} Scalar& scalar)\textcolor{keyword}{ const}
00077 \textcolor{keyword}{    }\{
00078       \textcolor{keywordflow}{return} 
      \hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{DiagonalWrapper<const EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(DiagonalVectorType,Scalar,product) >}
      (diagonal() * scalar);
00079     \}
00080     EIGEN\_DEVICE\_FUNC
00081     \textcolor{keyword}{friend} \textcolor{keyword}{inline} \textcolor{keyword}{const} 
      \hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{DiagonalWrapper<const EIGEN\_SCALAR\_BINARYOP\_EXPR\_RETURN\_TYPE(Scalar,DiagonalVectorType,product) >}
00082     operator*(\textcolor{keyword}{const} Scalar& scalar, \textcolor{keyword}{const} \hyperlink{class_eigen_1_1_diagonal_base}{DiagonalBase}& other)
00083     \{
00084       \textcolor{keywordflow}{return} 
      \hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{DiagonalWrapper<const EIGEN\_SCALAR\_BINARYOP\_EXPR\_RETURN\_TYPE(Scalar,DiagonalVectorType,product) >}
      (scalar * other.diagonal());
00085     \}
00086 \};
00087 
00088 \textcolor{preprocessor}{#endif}
00089 
00103 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00104 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_Scalar, \textcolor{keywordtype}{int} SizeAtCompileTime, \textcolor{keywordtype}{int} MaxSizeAtCompileTime>
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00105}\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_diagonal_matrix_3_01___scalar_00_01_size_at_compile_timeb0b2868b66e3b20cd28c00acb4409967}{00105} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1traits}{traits}<\hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix}<\_Scalar,SizeAtCompileTime,MaxSizeAtCompileTime> >
00106  : \hyperlink{struct_eigen_1_1internal_1_1traits}{traits}<Matrix<\_Scalar,SizeAtCompileTime,SizeAtCompileTime,0,MaxSizeAtCompileTime,MaxSizeAtCompileT
      ime> >
00107 \{
00108   \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_matrix}{Matrix<\_Scalar,SizeAtCompileTime,1,0,MaxSizeAtCompileTime,1>}
       \hyperlink{group___core___module_class_eigen_1_1_matrix}{DiagonalVectorType};
00109   \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1_diagonal_shape}{DiagonalShape} \hyperlink{struct_eigen_1_1_diagonal_shape}{StorageKind};
00110   \textcolor{keyword}{enum} \{
00111     Flags = \hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit} | \hyperlink{group__flags_ga3c186ad80ddcf5e2ed3d7ee31cca1860}{NoPreferredStorageOrderBit}
00112   \};
00113 \};
00114 \}
00115 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_Scalar, \textcolor{keywordtype}{int} SizeAtCompileTime, \textcolor{keywordtype}{int} MaxSizeAtCompileTime>
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00116}\hyperlink{group___core___module}{00116} \textcolor{keyword}{class }\hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix}
00117   : \textcolor{keyword}{public} \hyperlink{class_eigen_1_1_diagonal_base}{DiagonalBase}<DiagonalMatrix<\_Scalar,SizeAtCompileTime,MaxSizeAtCompileTime> >
00118 \{
00119   \textcolor{keyword}{public}:
00120 \textcolor{preprocessor}{    #ifndef EIGEN\_PARSED\_BY\_DOXYGEN}
00121     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<DiagonalMatrix>::DiagonalVectorType}
       DiagonalVectorType;
00122     \textcolor{keyword}{typedef} \textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix}& \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{Nested};
00123     \textcolor{keyword}{typedef} \_Scalar Scalar;
00124     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<DiagonalMatrix>::StorageKind}
       StorageKind;
00125     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{internal::traits<DiagonalMatrix>::StorageIndex}
       StorageIndex;
00126 \textcolor{preprocessor}{    #endif}
00127 
00128   \textcolor{keyword}{protected}:
00129 
00130     DiagonalVectorType m\_diagonal;
00131 
00132   \textcolor{keyword}{public}:
00133 
00135     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00136}\hyperlink{group___core___module_aa17bf78369fc6f541056b5b5a696f73b}{00136}     \textcolor{keyword}{inline} \textcolor{keyword}{const} DiagonalVectorType& \hyperlink{group___core___module_aa17bf78369fc6f541056b5b5a696f73b}{diagonal}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_diagonal; \}
00138     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00139}\hyperlink{group___core___module_aea4c301c837d0af2fdab5d7d1f32c97d}{00139}     \textcolor{keyword}{inline} DiagonalVectorType& \hyperlink{group___core___module_aea4c301c837d0af2fdab5d7d1f32c97d}{diagonal}() \{ \textcolor{keywordflow}{return} m\_diagonal; \}
00140 
00142     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00143}\hyperlink{group___core___module_a828c0f7d55a4f66908e76b3af1acc37f}{00143}     \textcolor{keyword}{inline} \hyperlink{group___core___module_a828c0f7d55a4f66908e76b3af1acc37f}{DiagonalMatrix}() \{\}
00144 
00146     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00147}\hyperlink{group___core___module_a82e6fd9b8f7f614bc05b4f941a875d7a}{00147}     \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \hyperlink{group___core___module_a82e6fd9b8f7f614bc05b4f941a875d7a}{DiagonalMatrix}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} dim) : m\_diagonal(dim) \{\}
00148 
00150     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00151}\hyperlink{group___core___module_a1443056b287f069d6771d7945e45ad60}{00151}     \textcolor{keyword}{inline} \hyperlink{group___core___module_a1443056b287f069d6771d7945e45ad60}{DiagonalMatrix}(\textcolor{keyword}{const} Scalar& x, \textcolor{keyword}{const} Scalar& y) : m\_diagonal(x,y) \{\}
00152 
00154     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00155}\hyperlink{group___core___module_aebf160f0165e6602249cbe03148f6c04}{00155}     \textcolor{keyword}{inline} \hyperlink{group___core___module_aebf160f0165e6602249cbe03148f6c04}{DiagonalMatrix}(\textcolor{keyword}{const} Scalar& x, \textcolor{keyword}{const} Scalar& y, \textcolor{keyword}{const} Scalar& z) : m\_diagonal(x,y
      ,z) \{\}
00156 
00158     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>
00159     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00160}\hyperlink{group___core___module_ad7d030d35ab1f1b2f3e51860069f4226}{00160}     \textcolor{keyword}{inline} \hyperlink{group___core___module_ad7d030d35ab1f1b2f3e51860069f4226}{DiagonalMatrix}(\textcolor{keyword}{const} \hyperlink{class_eigen_1_1_diagonal_base}{DiagonalBase<OtherDerived>}& other) 
      : m\_diagonal(other.diagonal()) \{\}
00161 
00162 \textcolor{preprocessor}{    #ifndef EIGEN\_PARSED\_BY\_DOXYGEN}
00163 
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00164}\hyperlink{group___core___module_ad5efd7a4e35667a76cdbbdb664bb92c5}{00164}     \textcolor{keyword}{inline} \hyperlink{group___core___module_ad5efd7a4e35667a76cdbbdb664bb92c5}{DiagonalMatrix}(\textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix}& other) : m\_diagonal(other.
      diagonal()) \{\}
00165 \textcolor{preprocessor}{    #endif}
00166 
00168     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>
00169     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00170}\hyperlink{group___core___module_a3a6492f390f0d881f14376e673fd42c3}{00170}     \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \hyperlink{group___core___module_a3a6492f390f0d881f14376e673fd42c3}{DiagonalMatrix}(\textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_matrix_base}{MatrixBase<OtherDerived>}& 
      other) : m\_diagonal(other)
00171     \{\}
00172 
00174     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>
00175     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00176}\hyperlink{group___core___module_a0a189cd40211ce0790fb3fe218af2aed}{00176}     \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix}& \hyperlink{group___core___module_a0a189cd40211ce0790fb3fe218af2aed}{operator=}(\textcolor{keyword}{const} 
      \hyperlink{class_eigen_1_1_diagonal_base}{DiagonalBase<OtherDerived>}& other)
00177     \{
00178       m\_diagonal = other.diagonal();
00179       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00180     \}
00181 
00182 \textcolor{preprocessor}{    #ifndef EIGEN\_PARSED\_BY\_DOXYGEN}
00183 
00186     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00187}\hyperlink{group___core___module_a28c7f367f27a1fa0791e46e756e1c287}{00187}     \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix}& \hyperlink{group___core___module_a28c7f367f27a1fa0791e46e756e1c287}{operator=}(\textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_diagonal_matrix}{DiagonalMatrix}& other)
00188     \{
00189       m\_diagonal = other.\hyperlink{group___core___module_aa17bf78369fc6f541056b5b5a696f73b}{diagonal}();
00190       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00191     \}
00192 \textcolor{preprocessor}{    #endif}
00193 
00195     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00196}\hyperlink{group___core___module_a4ebe032fddd2507357c0bb233637c450}{00196}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{group___core___module_a4ebe032fddd2507357c0bb233637c450}{resize}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} size) \{ m\_diagonal.resize(size); \}
00198     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00199}\hyperlink{group___core___module_a4d9b1c1fd53e4bee2e94098c8378db8e}{00199}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{group___core___module_a4d9b1c1fd53e4bee2e94098c8378db8e}{setZero}() \{ m\_diagonal.setZero(); \}
00201     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00202}\hyperlink{group___core___module_a9f1a1ca602e5432b6856d3a6783a6d1c}{00202}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{group___core___module_a9f1a1ca602e5432b6856d3a6783a6d1c}{setZero}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} size) \{ m\_diagonal.setZero(size); \}
00204     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00205}\hyperlink{group___core___module_a4d52100471c1212cbaba950b0c39f8c9}{00205}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{group___core___module_a4d52100471c1212cbaba950b0c39f8c9}{setIdentity}() \{ m\_diagonal.setOnes(); \}
00207     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00208}\hyperlink{group___core___module_ae0cb9721da2963320857ec4b64eed1ea}{00208}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{group___core___module_ae0cb9721da2963320857ec4b64eed1ea}{setIdentity}(\hyperlink{group___core___module_a554f30542cc2316add4b1ea0a492ff02}{Index} size) \{ m\_diagonal.setOnes(size); \}
00209 \};
00210 
00225 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00226 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_DiagonalVectorType>
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00227}\hyperlink{struct_eigen_1_1internal_1_1traits_3_01_diagonal_wrapper_3_01___diagonal_vector_type_01_4_01_4}{00227} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1traits}{traits}<\hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{DiagonalWrapper}<\_DiagonalVectorType> >
00228 \{
00229   \textcolor{keyword}{typedef} \_DiagonalVectorType DiagonalVectorType;
00230   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} DiagonalVectorType::Scalar Scalar;
00231   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} DiagonalVectorType::StorageIndex StorageIndex;
00232   \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1_diagonal_shape}{DiagonalShape} \hyperlink{struct_eigen_1_1_diagonal_shape}{StorageKind};
00233   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \hyperlink{struct_eigen_1_1internal_1_1traits}{traits<DiagonalVectorType>::XprKind} XprKind;
00234   \textcolor{keyword}{enum} \{
00235     RowsAtCompileTime = DiagonalVectorType::SizeAtCompileTime,
00236     ColsAtCompileTime = DiagonalVectorType::SizeAtCompileTime,
00237     MaxRowsAtCompileTime = DiagonalVectorType::MaxSizeAtCompileTime,
00238     MaxColsAtCompileTime = DiagonalVectorType::MaxSizeAtCompileTime,
00239     Flags =  (\hyperlink{struct_eigen_1_1internal_1_1traits}{traits<DiagonalVectorType>::Flags} & 
      \hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit}) | \hyperlink{group__flags_ga3c186ad80ddcf5e2ed3d7ee31cca1860}{NoPreferredStorageOrderBit}
00240   \};
00241 \};
00242 \}
00243 
00244 \textcolor{keyword}{template}<\textcolor{keyword}{typename} \_DiagonalVectorType>
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00245}\hyperlink{group___core___module}{00245} \textcolor{keyword}{class }\hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{DiagonalWrapper}
00246   : \textcolor{keyword}{public} \hyperlink{class_eigen_1_1_diagonal_base}{DiagonalBase}<DiagonalWrapper<\_DiagonalVectorType> >, 
      \hyperlink{class_eigen_1_1internal_1_1no__assignment__operator}{internal::no\_assignment\_operator}
00247 \{
00248   \textcolor{keyword}{public}:
00249 \textcolor{preprocessor}{    #ifndef EIGEN\_PARSED\_BY\_DOXYGEN}
00250     \textcolor{keyword}{typedef} \_DiagonalVectorType DiagonalVectorType;
00251     \textcolor{keyword}{typedef} \hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{DiagonalWrapper} \hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{Nested};
00252 \textcolor{preprocessor}{    #endif}
00253 
00255     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00256}\hyperlink{group___core___module_a81574f47272fd5e519a19135a306529d}{00256}     \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \hyperlink{group___core___module_a81574f47272fd5e519a19135a306529d}{DiagonalWrapper}(DiagonalVectorType& a\_diagonal) : m\_diagonal(a\_diagonal)
       \{\}
00257 
00259     EIGEN\_DEVICE\_FUNC
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00260}\hyperlink{group___core___module_a8e84e44aa74ab66f54ffb45e439ef0d5}{00260}     \textcolor{keyword}{const} DiagonalVectorType& \hyperlink{group___core___module_a8e84e44aa74ab66f54ffb45e439ef0d5}{diagonal}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_diagonal; \}
00261 
00262   \textcolor{keyword}{protected}:
00263     \textcolor{keyword}{typename} DiagonalVectorType::Nested m\_diagonal;
00264 \};
00265 
00275 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
00276 \textcolor{keyword}{inline} \textcolor{keyword}{const} \hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{DiagonalWrapper<const Derived>}
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00277}\hyperlink{group___core___module_a14235b62c90f93fe910070b4743782d0}{00277} \hyperlink{group___core___module_a14235b62c90f93fe910070b4743782d0}{MatrixBase<Derived>::asDiagonal}()\textcolor{keyword}{ const}
00278 \textcolor{keyword}{}\{
00279   \textcolor{keywordflow}{return} \hyperlink{group___core___module_class_eigen_1_1_diagonal_wrapper}{DiagonalWrapper<const Derived>}(derived());
00280 \}
00281 
00290 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00291}\hyperlink{group___core___module_a97027ea54c8cd1ddb1c578fee5cedc67}{00291} \textcolor{keywordtype}{bool} \hyperlink{group___core___module_a97027ea54c8cd1ddb1c578fee5cedc67}{MatrixBase<Derived>::isDiagonal}(\textcolor{keyword}{const} RealScalar& prec)\textcolor{keyword}{ const}
00292 \textcolor{keyword}{}\{
00293   \textcolor{keywordflow}{if}(cols() != rows()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00294   RealScalar maxAbsOnDiagonal = \textcolor{keyword}{static\_cast<}RealScalar\textcolor{keyword}{>}(-1);
00295   \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j = 0; j < cols(); ++j)
00296   \{
00297     RealScalar absOnDiagonal = numext::abs(coeff(j,j));
00298     \textcolor{keywordflow}{if}(absOnDiagonal > maxAbsOnDiagonal) maxAbsOnDiagonal = absOnDiagonal;
00299   \}
00300   \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} j = 0; j < cols(); ++j)
00301     \textcolor{keywordflow}{for}(\hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} i = 0; i < j; ++i)
00302     \{
00303       \textcolor{keywordflow}{if}(!internal::isMuchSmallerThan(coeff(i, j), maxAbsOnDiagonal, prec)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00304       \textcolor{keywordflow}{if}(!internal::isMuchSmallerThan(coeff(j, i), maxAbsOnDiagonal, prec)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00305     \}
00306   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00307 \}
00308 
00309 \textcolor{keyword}{namespace }\hyperlink{namespaceinternal}{internal} \{
00310 
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00311}\hyperlink{struct_eigen_1_1internal_1_1storage__kind__to__shape_3_01_diagonal_shape_01_4}{00311} \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1storage__kind__to__shape}{storage\_kind\_to\_shape}<\hyperlink{struct_eigen_1_1_diagonal_shape}{DiagonalShape}> \{ \textcolor{keyword}{typedef} 
      \hyperlink{struct_eigen_1_1_diagonal_shape}{DiagonalShape} \hyperlink{struct_eigen_1_1_diagonal_shape}{Shape}; \};
00312 
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00313}\hyperlink{struct_eigen_1_1internal_1_1_diagonal2_dense}{00313} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1_diagonal2_dense}{Diagonal2Dense} \{\};
00314 
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00315}\hyperlink{struct_eigen_1_1internal_1_1_assignment_kind_3_01_dense_shape_00_01_diagonal_shape_01_4}{00315} \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1_assignment_kind}{AssignmentKind}<\hyperlink{struct_eigen_1_1_dense_shape}{DenseShape},
      \hyperlink{struct_eigen_1_1_diagonal_shape}{DiagonalShape}> \{ \textcolor{keyword}{typedef} \hyperlink{struct_eigen_1_1internal_1_1_diagonal2_dense}{Diagonal2Dense} \hyperlink{struct_eigen_1_1internal_1_1_diagonal2_dense}{Kind}; \};
00316 
00317 \textcolor{comment}{// Diagonal matrix to Dense assignment}
00318 \textcolor{keyword}{template}< \textcolor{keyword}{typename} DstXprType, \textcolor{keyword}{typename} SrcXprType, \textcolor{keyword}{typename} Functor>
\Hypertarget{eigen_2_eigen_2src_2_core_2_diagonal_matrix_8h_source_l00319}\hyperlink{struct_eigen_1_1internal_1_1_assignment_3_01_dst_xpr_type_00_01_src_xpr_type_00_01_functor_00_01_diagonal2_dense_01_4}{00319} \textcolor{keyword}{struct }\hyperlink{struct_eigen_1_1internal_1_1_assignment}{Assignment}<DstXprType, SrcXprType, \hyperlink{struct_functor}{Functor}, 
      \hyperlink{struct_eigen_1_1internal_1_1_diagonal2_dense}{Diagonal2Dense}>
00320 \{
00321   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(DstXprType &dst, \textcolor{keyword}{const} SrcXprType &src, \textcolor{keyword}{const} 
      \hyperlink{struct_eigen_1_1internal_1_1assign__op}{internal::assign\_op<typename DstXprType::Scalar,typename SrcXprType::Scalar>}
       &\textcolor{comment}{/*func*/})
00322   \{
00323     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} dstRows = src.rows();
00324     \hyperlink{namespace_eigen_a62e77e0933482dafde8fe197d9a2cfde}{Index} dstCols = src.cols();
00325     \textcolor{keywordflow}{if}((dst.rows()!=dstRows) || (dst.cols()!=dstCols))
00326       dst.resize(dstRows, dstCols);
00327     
00328     dst.setZero();
00329     dst.diagonal() = src.diagonal();
00330   \}
00331   
00332   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(DstXprType &dst, \textcolor{keyword}{const} SrcXprType &src, \textcolor{keyword}{const} 
      \hyperlink{struct_eigen_1_1internal_1_1add__assign__op}{internal::add\_assign\_op<typename DstXprType::Scalar,typename SrcXprType::Scalar>}
       &\textcolor{comment}{/*func*/})
00333   \{ dst.diagonal() += src.diagonal(); \}
00334   
00335   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(DstXprType &dst, \textcolor{keyword}{const} SrcXprType &src, \textcolor{keyword}{const} 
      \hyperlink{struct_eigen_1_1internal_1_1sub__assign__op}{internal::sub\_assign\_op<typename DstXprType::Scalar,typename SrcXprType::Scalar>}
       &\textcolor{comment}{/*func*/})
00336   \{ dst.diagonal() -= src.diagonal(); \}
00337 \};
00338 
00339 \} \textcolor{comment}{// namespace internal}
00340 
00341 \} \textcolor{comment}{// end namespace Eigen}
00342 
00343 \textcolor{preprocessor}{#endif // EIGEN\_DIAGONALMATRIX\_H}
\end{DoxyCode}
